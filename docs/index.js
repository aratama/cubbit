(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){},{}],2:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){currentQueue[queueIndex].run()}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],3:[function(require,module,exports){(function(process){var PS={};(function(exports){"use strict";exports.arrayMap=function(f){return function(arr){var l=arr.length;var result=new Array(l);for(var i=0;i<l;i++){result[i]=f(arr[i])}return result}}})(PS["Data.Functor"]=PS["Data.Functor"]||{});(function(exports){"use strict";var Semigroupoid=function(compose){this.compose=compose};var semigroupoidFn=new Semigroupoid(function(f){return function(g){return function(x){return f(g(x))}}});var compose=function(dict){return dict.compose};exports["Semigroupoid"]=Semigroupoid;exports["compose"]=compose;exports["semigroupoidFn"]=semigroupoidFn})(PS["Control.Semigroupoid"]=PS["Control.Semigroupoid"]||{});(function(exports){"use strict";var Control_Semigroupoid=PS["Control.Semigroupoid"];var Category=function(__superclass_Control$dotSemigroupoid$dotSemigroupoid_0,id){this["__superclass_Control.Semigroupoid.Semigroupoid_0"]=__superclass_Control$dotSemigroupoid$dotSemigroupoid_0;this.id=id};var id=function(dict){return dict.id};var categoryFn=new Category(function(){return Control_Semigroupoid.semigroupoidFn},function(x){return x});exports["Category"]=Category;exports["id"]=id;exports["categoryFn"]=categoryFn})(PS["Control.Category"]=PS["Control.Category"]||{});(function(exports){"use strict";var Control_Category=PS["Control.Category"];var on=function(f){return function(g){return function(x){return function(y){return f(g(x))(g(y))}}}};var flip=function(f){return function(b){return function(a){return f(a)(b)}}};var $$const=function(a){return function(v){return a}};exports["const"]=$$const;exports["flip"]=flip;exports["on"]=on})(PS["Data.Function"]=PS["Data.Function"]||{});(function(exports){"use strict";exports.unit={}})(PS["Data.Unit"]=PS["Data.Unit"]||{});(function(exports){"use strict";exports.showIntImpl=function(n){return n.toString()};exports.showNumberImpl=function(n){var str=n.toString();return isNaN(str+".0")?str:str+".0"};exports.showStringImpl=function(s){var l=s.length;return'"'+s.replace(/[\0-\x1F\x7F"\\]/g,function(c,i){switch(c){case'"':case"\\":return"\\"+c;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"	":return"\\t";case"":return"\\v"}var k=i+1;var empty=k<l&&s[k]>="0"&&s[k]<="9"?"\\&":"";return"\\"+c.charCodeAt(0).toString(10)+empty})+'"'}})(PS["Data.Show"]=PS["Data.Show"]||{});(function(exports){"use strict";var $foreign=PS["Data.Show"];var Show=function(show){this.show=show};var showString=new Show($foreign.showStringImpl);var showNumber=new Show($foreign.showNumberImpl);var showInt=new Show($foreign.showIntImpl);var show=function(dict){return dict.show};exports["Show"]=Show;exports["show"]=show;exports["showInt"]=showInt;exports["showNumber"]=showNumber;exports["showString"]=showString})(PS["Data.Show"]=PS["Data.Show"]||{});(function(exports){"use strict";var $foreign=PS["Data.Unit"];var Data_Show=PS["Data.Show"];exports["unit"]=$foreign.unit})(PS["Data.Unit"]=PS["Data.Unit"]||{});(function(exports){"use strict";var $foreign=PS["Data.Functor"];var Data_Function=PS["Data.Function"];var Data_Unit=PS["Data.Unit"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Functor=function(map){this.map=map};var map=function(dict){return dict.map};var $$void=function(dictFunctor){return map(dictFunctor)(Data_Function["const"](Data_Unit.unit))};var voidLeft=function(dictFunctor){return function(f){return function(x){return map(dictFunctor)(Data_Function["const"](x))(f)}}};var functorFn=new Functor(Control_Semigroupoid.compose(Control_Semigroupoid.semigroupoidFn));var functorArray=new Functor($foreign.arrayMap);exports["Functor"]=Functor;exports["map"]=map;exports["void"]=$$void;exports["voidLeft"]=voidLeft;exports["functorFn"]=functorFn;exports["functorArray"]=functorArray})(PS["Data.Functor"]=PS["Data.Functor"]||{});(function(exports){"use strict";exports.concatString=function(s1){return function(s2){return s1+s2}};exports.concatArray=function(xs){return function(ys){if(xs.length===0)return ys;if(ys.length===0)return xs;return xs.concat(ys)}}})(PS["Data.Semigroup"]=PS["Data.Semigroup"]||{});(function(exports){"use strict";var $foreign=PS["Data.Semigroup"];var Data_Unit=PS["Data.Unit"];var Data_Void=PS["Data.Void"];var Semigroup=function(append){this.append=append};var semigroupString=new Semigroup($foreign.concatString);var semigroupArray=new Semigroup($foreign.concatArray);var append=function(dict){return dict.append};exports["Semigroup"]=Semigroup;exports["append"]=append;exports["semigroupString"]=semigroupString;exports["semigroupArray"]=semigroupArray})(PS["Data.Semigroup"]=PS["Data.Semigroup"]||{});(function(exports){"use strict";var Data_Functor=PS["Data.Functor"];var Data_Semigroup=PS["Data.Semigroup"];var Alt=function(__superclass_Data$dotFunctor$dotFunctor_0,alt){this["__superclass_Data.Functor.Functor_0"]=__superclass_Data$dotFunctor$dotFunctor_0;this.alt=alt};var alt=function(dict){return dict.alt};exports["Alt"]=Alt;exports["alt"]=alt})(PS["Control.Alt"]=PS["Control.Alt"]||{});(function(exports){"use strict";exports.arrayApply=function(fs){return function(xs){var result=[];var n=0;for(var i=0,l=fs.length;i<l;i++){for(var j=0,k=xs.length;j<k;j++){result[n++]=fs[i](xs[j])}}return result}}})(PS["Control.Apply"]=PS["Control.Apply"]||{});(function(exports){"use strict";var $foreign=PS["Control.Apply"];var Data_Functor=PS["Data.Functor"];var Data_Function=PS["Data.Function"];var Control_Category=PS["Control.Category"];var Apply=function(__superclass_Data$dotFunctor$dotFunctor_0,apply){this["__superclass_Data.Functor.Functor_0"]=__superclass_Data$dotFunctor$dotFunctor_0;this.apply=apply};var applyArray=new Apply(function(){return Data_Functor.functorArray},$foreign.arrayApply);var apply=function(dict){return dict.apply};var applySecond=function(dictApply){return function(a){return function(b){return apply(dictApply)(Data_Functor.map(dictApply["__superclass_Data.Functor.Functor_0"]())(Data_Function["const"](Control_Category.id(Control_Category.categoryFn)))(a))(b)}}};var lift2=function(dictApply){return function(f){return function(a){return function(b){return apply(dictApply)(Data_Functor.map(dictApply["__superclass_Data.Functor.Functor_0"]())(f)(a))(b)}}}};exports["Apply"]=Apply;exports["apply"]=apply;exports["applySecond"]=applySecond;exports["lift2"]=lift2;exports["applyArray"]=applyArray})(PS["Control.Apply"]=PS["Control.Apply"]||{});(function(exports){"use strict";var Control_Apply=PS["Control.Apply"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Applicative=function(__superclass_Control$dotApply$dotApply_0,pure){this["__superclass_Control.Apply.Apply_0"]=__superclass_Control$dotApply$dotApply_0;this.pure=pure};var pure=function(dict){return dict.pure};var when=function(dictApplicative){return function(v){return function(v1){if(v){return v1}if(!v){return pure(dictApplicative)(Data_Unit.unit)}throw new Error("Failed pattern match at Control.Applicative line 58, column 1 - line 58, column 16: "+[v.constructor.name,v1.constructor.name])}}};var liftA1=function(dictApplicative){return function(f){return function(a){return Control_Apply.apply(dictApplicative["__superclass_Control.Apply.Apply_0"]())(pure(dictApplicative)(f))(a)}}};exports["Applicative"]=Applicative;exports["liftA1"]=liftA1;exports["pure"]=pure;exports["when"]=when})(PS["Control.Applicative"]=PS["Control.Applicative"]||{});(function(exports){"use strict";exports.unsafeCoerce=function(x){return x}})(PS["Unsafe.Coerce"]=PS["Unsafe.Coerce"]||{});(function(exports){"use strict";var $foreign=PS["Unsafe.Coerce"];exports["unsafeCoerce"]=$foreign.unsafeCoerce})(PS["Unsafe.Coerce"]=PS["Unsafe.Coerce"]||{});(function(exports){"use strict";var Unsafe_Coerce=PS["Unsafe.Coerce"];var runExists=Unsafe_Coerce.unsafeCoerce;var mkExists=Unsafe_Coerce.unsafeCoerce;exports["mkExists"]=mkExists;exports["runExists"]=runExists})(PS["Data.Exists"]=PS["Data.Exists"]||{});(function(exports){"use strict";exports.refEq=function(r1){return function(r2){return r1===r2}}})(PS["Data.Eq"]=PS["Data.Eq"]||{});(function(exports){"use strict";var $foreign=PS["Data.Eq"];var Data_Unit=PS["Data.Unit"];var Data_Void=PS["Data.Void"];var Eq=function(eq){this.eq=eq};var eqVoid=new Eq(function(v){return function(v1){return true}});var eqString=new Eq($foreign.refEq);var eqNumber=new Eq($foreign.refEq);var eqInt=new Eq($foreign.refEq);var eqBoolean=new Eq($foreign.refEq);var eq=function(dict){return dict.eq};var notEq=function(dictEq){return function(x){return function(y){return eq(eqBoolean)(eq(dictEq)(x)(y))(false)}}};exports["Eq"]=Eq;exports["eq"]=eq;exports["notEq"]=notEq;exports["eqBoolean"]=eqBoolean;exports["eqInt"]=eqInt;exports["eqNumber"]=eqNumber;exports["eqString"]=eqString;exports["eqVoid"]=eqVoid})(PS["Data.Eq"]=PS["Data.Eq"]||{});(function(exports){"use strict";exports.unsafeCompareImpl=function(lt){return function(eq){return function(gt){return function(x){return function(y){return x<y?lt:x===y?eq:gt}}}}}})(PS["Data.Ord.Unsafe"]=PS["Data.Ord.Unsafe"]||{});(function(exports){"use strict";var Data_Eq=PS["Data.Eq"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var LT=function(){function LT(){}LT.value=new LT;return LT}();var GT=function(){function GT(){}GT.value=new GT;return GT}();var EQ=function(){function EQ(){}EQ.value=new EQ;return EQ}();exports["LT"]=LT;exports["GT"]=GT;exports["EQ"]=EQ})(PS["Data.Ordering"]=PS["Data.Ordering"]||{});(function(exports){"use strict";var $foreign=PS["Data.Ord.Unsafe"];var Data_Ordering=PS["Data.Ordering"];var unsafeCompare=$foreign.unsafeCompareImpl(Data_Ordering.LT.value)(Data_Ordering.EQ.value)(Data_Ordering.GT.value);exports["unsafeCompare"]=unsafeCompare})(PS["Data.Ord.Unsafe"]=PS["Data.Ord.Unsafe"]||{});(function(exports){"use strict";exports.numSub=function(n1){return function(n2){return n1-n2}}})(PS["Data.Ring"]=PS["Data.Ring"]||{});(function(exports){"use strict";exports.numAdd=function(n1){return function(n2){return n1+n2}};exports.numMul=function(n1){return function(n2){return n1*n2}}})(PS["Data.Semiring"]=PS["Data.Semiring"]||{});(function(exports){"use strict";var $foreign=PS["Data.Semiring"];var Data_Unit=PS["Data.Unit"];var Semiring=function(add,mul,one,zero){this.add=add;this.mul=mul;this.one=one;this.zero=zero};var zero=function(dict){return dict.zero};var semiringNumber=new Semiring($foreign.numAdd,$foreign.numMul,1,0);var one=function(dict){return dict.one};var mul=function(dict){return dict.mul};var add=function(dict){return dict.add};exports["Semiring"]=Semiring;exports["add"]=add;exports["mul"]=mul;exports["one"]=one;exports["zero"]=zero;exports["semiringNumber"]=semiringNumber})(PS["Data.Semiring"]=PS["Data.Semiring"]||{});(function(exports){"use strict";var $foreign=PS["Data.Ring"];var Data_Semiring=PS["Data.Semiring"];var Data_Unit=PS["Data.Unit"];var Ring=function(__superclass_Data$dotSemiring$dotSemiring_0,sub){this["__superclass_Data.Semiring.Semiring_0"]=__superclass_Data$dotSemiring$dotSemiring_0;this.sub=sub};var sub=function(dict){return dict.sub};var ringNumber=new Ring(function(){return Data_Semiring.semiringNumber},$foreign.numSub);var negate=function(dictRing){return function(a){return sub(dictRing)(Data_Semiring.zero(dictRing["__superclass_Data.Semiring.Semiring_0"]()))(a)}};exports["Ring"]=Ring;exports["negate"]=negate;exports["sub"]=sub;exports["ringNumber"]=ringNumber})(PS["Data.Ring"]=PS["Data.Ring"]||{});(function(exports){"use strict";var $foreign=PS["Data.Ord"];var Data_Eq=PS["Data.Eq"];var Data_Function=PS["Data.Function"];var Data_Ord_Unsafe=PS["Data.Ord.Unsafe"];var Data_Ordering=PS["Data.Ordering"];var Data_Ring=PS["Data.Ring"];var Data_Unit=PS["Data.Unit"];var Data_Void=PS["Data.Void"];var Data_Semiring=PS["Data.Semiring"];var Ord=function(__superclass_Data$dotEq$dotEq_0,compare){this["__superclass_Data.Eq.Eq_0"]=__superclass_Data$dotEq$dotEq_0;this.compare=compare};var ordVoid=new Ord(function(){return Data_Eq.eqVoid},function(v){return function(v1){return Data_Ordering.EQ.value}});var ordString=new Ord(function(){return Data_Eq.eqString},Data_Ord_Unsafe.unsafeCompare);var ordNumber=new Ord(function(){return Data_Eq.eqNumber},Data_Ord_Unsafe.unsafeCompare);var ordInt=new Ord(function(){return Data_Eq.eqInt},Data_Ord_Unsafe.unsafeCompare);var compare=function(dict){return dict.compare};var greaterThanOrEq=function(dictOrd){return function(a1){return function(a2){var $23=compare(dictOrd)(a1)(a2);if($23 instanceof Data_Ordering.LT){return false}return true}}};var max=function(dictOrd){return function(x){return function(y){var $27=compare(dictOrd)(x)(y);if($27 instanceof Data_Ordering.LT){return y}if($27 instanceof Data_Ordering.EQ){return x}if($27 instanceof Data_Ordering.GT){return x}throw new Error("Failed pattern match at Data.Ord line 122, column 3 - line 125, column 12: "+[$27.constructor.name])}}};var min=function(dictOrd){return function(x){return function(y){var $28=compare(dictOrd)(x)(y);if($28 instanceof Data_Ordering.LT){return x}if($28 instanceof Data_Ordering.EQ){return x}if($28 instanceof Data_Ordering.GT){return y}throw new Error("Failed pattern match at Data.Ord line 113, column 3 - line 116, column 12: "+[$28.constructor.name])}}};var abs=function(dictOrd){return function(dictRing){return function(x){var $33=greaterThanOrEq(dictOrd)(x)(Data_Semiring.zero(dictRing["__superclass_Data.Semiring.Semiring_0"]()));if($33){return x}if(!$33){return Data_Ring.negate(dictRing)(x)}throw new Error("Failed pattern match at Data.Ord line 158, column 9 - line 158, column 42: "+[$33.constructor.name])}}};exports["Ord"]=Ord;exports["abs"]=abs;exports["compare"]=compare;exports["greaterThanOrEq"]=greaterThanOrEq;exports["max"]=max;exports["min"]=min;exports["ordInt"]=ordInt;exports["ordNumber"]=ordNumber;exports["ordString"]=ordString;exports["ordVoid"]=ordVoid})(PS["Data.Ord"]=PS["Data.Ord"]||{});(function(exports){"use strict";var otherwise=true;exports["otherwise"]=otherwise})(PS["Data.Boolean"]=PS["Data.Boolean"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Unit=PS["Data.Unit"];var Data_Function=PS["Data.Function"];var Data_Ord=PS["Data.Ord"];var Data_Eq=PS["Data.Eq"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Data_Boolean=PS["Data.Boolean"];var Monoid=function(__superclass_Data$dotSemigroup$dotSemigroup_0,mempty){this["__superclass_Data.Semigroup.Semigroup_0"]=__superclass_Data$dotSemigroup$dotSemigroup_0;this.mempty=mempty};var monoidString=new Monoid(function(){return Data_Semigroup.semigroupString},"");var mempty=function(dict){return dict.mempty};exports["Monoid"]=Monoid;exports["mempty"]=mempty;exports["monoidString"]=monoidString})(PS["Data.Monoid"]=PS["Data.Monoid"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var Newtype=function(unwrap,wrap){this.unwrap=unwrap;this.wrap=wrap};var wrap=function(dict){return dict.wrap};var unwrap=function(dict){return dict.unwrap};var alaF=function(dictFunctor){return function(dictFunctor1){return function(dictNewtype){return function(dictNewtype1){return function(v){return function(f){return function($32){return Data_Functor.map(dictFunctor1)(unwrap(dictNewtype1))(f(Data_Functor.map(dictFunctor)(wrap(dictNewtype))($32)))}}}}}}};exports["Newtype"]=Newtype;exports["alaF"]=alaF;exports["unwrap"]=unwrap;exports["wrap"]=wrap})(PS["Data.Newtype"]=PS["Data.Newtype"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Const=PS["Data.Const"];var Data_Exists=PS["Data.Exists"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Unit=PS["Data.Unit"];var Control_Apply=PS["Control.Apply"];var Data_Function=PS["Data.Function"];var Control_Applicative=PS["Control.Applicative"];var Control_Category=PS["Control.Category"];var ApF=function(){function ApF(value0,value1){this.value0=value0;this.value1=value1}ApF.create=function(value0){return function(value1){return new ApF(value0,value1)}};return ApF}();var Pure=function(){function Pure(value0){this.value0=value0}Pure.create=function(value0){return new Pure(value0)};return Pure}();var Ap=function(){function Ap(value0){this.value0=value0}Ap.create=function(value0){return new Ap(value0)};return Ap}();var retractFreeAp=function(dictApplicative){return function(v){if(v instanceof Pure){return Control_Applicative.pure(dictApplicative)(v.value0)}if(v instanceof Ap){return Data_Exists.runExists(function(v1){return Control_Apply.apply(dictApplicative["__superclass_Control.Apply.Apply_0"]())(retractFreeAp(dictApplicative)(v1.value1(Data_Unit.unit)))(v1.value0(Data_Unit.unit))})(v.value0)}throw new Error("Failed pattern match at Control.Applicative.Free line 33, column 1 - line 33, column 32: "+[v.constructor.name])}};var ap=function(v){return function(k){return new Ap(Data_Exists.mkExists(new ApF(v,k)))}};var hoistFreeAp=function(k){return function(v){if(v instanceof Pure){return new Pure(v.value0)}if(v instanceof Ap){return Data_Exists.runExists(function(v1){return ap(function(v3){return k(v1.value0(Data_Unit.unit))})(function(v3){return hoistFreeAp(k)(v1.value1(Data_Unit.unit))})})(v.value0)}throw new Error("Failed pattern match at Control.Applicative.Free line 45, column 1 - line 45, column 32: "+[k.constructor.name,v.constructor.name])}};exports["hoistFreeAp"]=hoistFreeAp;exports["retractFreeAp"]=retractFreeAp})(PS["Control.Applicative.Free"]=PS["Control.Applicative.Free"]||{});(function(exports){"use strict";exports.arrayBind=function(arr){return function(f){var result=[];for(var i=0,l=arr.length;i<l;i++){Array.prototype.push.apply(result,f(arr[i]))}return result}}})(PS["Control.Bind"]=PS["Control.Bind"]||{});(function(exports){"use strict";var $foreign=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Category=PS["Control.Category"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Bind=function(__superclass_Control$dotApply$dotApply_0,bind){this["__superclass_Control.Apply.Apply_0"]=__superclass_Control$dotApply$dotApply_0;this.bind=bind};var bindArray=new Bind(function(){return Control_Apply.applyArray},$foreign.arrayBind);var bind=function(dict){return dict.bind};var bindFlipped=function(dictBind){return Data_Function.flip(bind(dictBind))};var composeKleisliFlipped=function(dictBind){return function(f){return function(g){return function(a){return bindFlipped(dictBind)(f)(g(a))}}}};exports["Bind"]=Bind;exports["bind"]=bind;exports["bindFlipped"]=bindFlipped;exports["composeKleisliFlipped"]=composeKleisliFlipped;exports["bindArray"]=bindArray})(PS["Control.Bind"]=PS["Control.Bind"]||{});(function(exports){"use strict";var Control_Category=PS["Control.Category"];var Bifunctor=function(bimap){this.bimap=bimap};var bimap=function(dict){return dict.bimap};var lmap=function(dictBifunctor){return function(f){return bimap(dictBifunctor)(f)(Control_Category.id(Control_Category.categoryFn))}};var rmap=function(dictBifunctor){return bimap(dictBifunctor)(Control_Category.id(Control_Category.categoryFn))};exports["Bifunctor"]=Bifunctor;exports["bimap"]=bimap;exports["lmap"]=lmap;exports["rmap"]=rmap})(PS["Data.Bifunctor"]=PS["Data.Bifunctor"]||{});(function(exports){"use strict";exports.foldrArray=function(f){return function(init){return function(xs){var acc=init;var len=xs.length;for(var i=len-1;i>=0;i--){acc=f(xs[i])(acc)}return acc}}};exports.foldlArray=function(f){return function(init){return function(xs){var acc=init;var len=xs.length;for(var i=0;i<len;i++){acc=f(acc)(xs[i])}return acc}}}})(PS["Data.Foldable"]=PS["Data.Foldable"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Data_Functor=PS["Data.Functor"];var Plus=function(__superclass_Control$dotAlt$dotAlt_0,empty){this["__superclass_Control.Alt.Alt_0"]=__superclass_Control$dotAlt$dotAlt_0;this.empty=empty};var empty=function(dict){return dict.empty};exports["Plus"]=Plus;exports["empty"]=empty})(PS["Control.Plus"]=PS["Control.Plus"]||{});(function(exports){"use strict";var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Monad=function(__superclass_Control$dotApplicative$dotApplicative_0,__superclass_Control$dotBind$dotBind_1){this["__superclass_Control.Applicative.Applicative_0"]=__superclass_Control$dotApplicative$dotApplicative_0;this["__superclass_Control.Bind.Bind_1"]=__superclass_Control$dotBind$dotBind_1};var ap=function(dictMonad){return function(f){return function(a){return Control_Bind.bind(dictMonad["__superclass_Control.Bind.Bind_1"]())(f)(function(v){return Control_Bind.bind(dictMonad["__superclass_Control.Bind.Bind_1"]())(a)(function(v1){return Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(v(v1))})})}}};exports["Monad"]=Monad;exports["ap"]=ap})(PS["Control.Monad"]=PS["Control.Monad"]||{});(function(exports){"use strict";exports.topInt=2147483647;exports.bottomInt=-2147483648})(PS["Data.Bounded"]=PS["Data.Bounded"]||{});(function(exports){"use strict";var $foreign=PS["Data.Bounded"];var Data_Ord=PS["Data.Ord"];var Data_Unit=PS["Data.Unit"];var Data_Ordering=PS["Data.Ordering"];var Bounded=function(__superclass_Data$dotOrd$dotOrd_0,bottom,top){this["__superclass_Data.Ord.Ord_0"]=__superclass_Data$dotOrd$dotOrd_0;this.bottom=bottom;this.top=top};var top=function(dict){return dict.top};var boundedInt=new Bounded(function(){return Data_Ord.ordInt},$foreign.bottomInt,$foreign.topInt);var bottom=function(dict){return dict.bottom};exports["Bounded"]=Bounded;exports["bottom"]=bottom;exports["top"]=top;exports["boundedInt"]=boundedInt})(PS["Data.Bounded"]=PS["Data.Bounded"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Extend=PS["Control.Extend"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_Monoid=PS["Data.Monoid"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Bounded=PS["Data.Bounded"];var Data_Show=PS["Data.Show"];var Data_Unit=PS["Data.Unit"];var Data_Function=PS["Data.Function"];var Control_Category=PS["Control.Category"];var Nothing=function(){function Nothing(){}Nothing.value=new Nothing;return Nothing}();var Just=function(){function Just(value0){this.value0=value0}Just.create=function(value0){return new Just(value0)};return Just}();var maybe=function(v){return function(v1){return function(v2){if(v2 instanceof Nothing){return v}if(v2 instanceof Just){return v1(v2.value0)}throw new Error("Failed pattern match at Data.Maybe line 214, column 1 - line 214, column 22: "+[v.constructor.name,v1.constructor.name,v2.constructor.name])}}};var isNothing=maybe(true)(Data_Function["const"](false));var isJust=maybe(false)(Data_Function["const"](true));var functorMaybe=new Data_Functor.Functor(function(v){return function(v1){if(v1 instanceof Just){return new Just(v(v1.value0))}return Nothing.value}});var fromJust=function(dictPartial){return function(v){var __unused=function(dictPartial1){return function($dollar33){return $dollar33}};return __unused(dictPartial)(function(){if(v instanceof Just){return v.value0}throw new Error("Failed pattern match at Data.Maybe line 265, column 1 - line 265, column 21: "+[v.constructor.name])}())}};var applyMaybe=new Control_Apply.Apply(function(){return functorMaybe},function(v){return function(v1){if(v instanceof Just){return Data_Functor.map(functorMaybe)(v.value0)(v1)}if(v instanceof Nothing){return Nothing.value}throw new Error("Failed pattern match at Data.Maybe line 67, column 3 - line 67, column 31: "+[v.constructor.name,v1.constructor.name])}});exports["Nothing"]=Nothing;exports["Just"]=Just;exports["fromJust"]=fromJust;exports["isJust"]=isJust;exports["isNothing"]=isNothing;exports["maybe"]=maybe;exports["functorMaybe"]=functorMaybe;exports["applyMaybe"]=applyMaybe})(PS["Data.Maybe"]=PS["Data.Maybe"]||{});(function(exports){"use strict";exports.boolConj=function(b1){return function(b2){return b1&&b2}};exports.boolDisj=function(b1){return function(b2){return b1||b2}};exports.boolNot=function(b){return!b}})(PS["Data.HeytingAlgebra"]=PS["Data.HeytingAlgebra"]||{});(function(exports){"use strict";var $foreign=PS["Data.HeytingAlgebra"];var Data_Unit=PS["Data.Unit"];var HeytingAlgebra=function(conj,disj,ff,implies,not,tt){this.conj=conj;this.disj=disj;this.ff=ff;this.implies=implies;this.not=not;this.tt=tt};var tt=function(dict){return dict.tt};var not=function(dict){return dict.not};var implies=function(dict){return dict.implies};var ff=function(dict){return dict.ff};var disj=function(dict){return dict.disj};var heytingAlgebraBoolean=new HeytingAlgebra($foreign.boolConj,$foreign.boolDisj,false,function(a){return function(b){return disj(heytingAlgebraBoolean)(not(heytingAlgebraBoolean)(a))(b)}},$foreign.boolNot,true);var conj=function(dict){return dict.conj};exports["HeytingAlgebra"]=HeytingAlgebra;exports["conj"]=conj;exports["disj"]=disj;exports["ff"]=ff;exports["implies"]=implies;exports["not"]=not;exports["tt"]=tt;exports["heytingAlgebraBoolean"]=heytingAlgebraBoolean})(PS["Data.HeytingAlgebra"]=PS["Data.HeytingAlgebra"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Bounded=PS["Data.Bounded"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Disj=function(x){return x};var semigroupDisj=function(dictHeytingAlgebra){return new Data_Semigroup.Semigroup(function(v){return function(v1){return Data_HeytingAlgebra.disj(dictHeytingAlgebra)(v)(v1)}})};var newtypeDisj=new Data_Newtype.Newtype(function(n){return n},Disj);var monoidDisj=function(dictHeytingAlgebra){return new Data_Monoid.Monoid(function(){return semigroupDisj(dictHeytingAlgebra)},Data_HeytingAlgebra.ff(dictHeytingAlgebra))};exports["Disj"]=Disj;exports["newtypeDisj"]=newtypeDisj;exports["semigroupDisj"]=semigroupDisj;exports["monoidDisj"]=monoidDisj})(PS["Data.Monoid.Disj"]=PS["Data.Monoid.Disj"]||{});(function(exports){"use strict";var $foreign=PS["Data.Foldable"];var Prelude=PS["Prelude"];var Control_Plus=PS["Control.Plus"];var Data_Maybe=PS["Data.Maybe"];var Data_Maybe_First=PS["Data.Maybe.First"];var Data_Maybe_Last=PS["Data.Maybe.Last"];var Data_Monoid=PS["Data.Monoid"];var Data_Monoid_Additive=PS["Data.Monoid.Additive"];var Data_Monoid_Conj=PS["Data.Monoid.Conj"];var Data_Monoid_Disj=PS["Data.Monoid.Disj"];var Data_Monoid_Dual=PS["Data.Monoid.Dual"];var Data_Monoid_Endo=PS["Data.Monoid.Endo"];var Data_Monoid_Multiplicative=PS["Data.Monoid.Multiplicative"];var Data_Newtype=PS["Data.Newtype"];var Control_Alt=PS["Control.Alt"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var Data_Function=PS["Data.Function"];var Control_Category=PS["Control.Category"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Eq=PS["Data.Eq"];var Data_Ordering=PS["Data.Ordering"];var Data_Ord=PS["Data.Ord"];var Data_Semiring=PS["Data.Semiring"];var Data_Functor=PS["Data.Functor"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Foldable=function(foldMap,foldl,foldr){this.foldMap=foldMap;this.foldl=foldl;this.foldr=foldr};var foldr=function(dict){return dict.foldr};var traverse_=function(dictApplicative){return function(dictFoldable){return function(f){return foldr(dictFoldable)(function($169){return Control_Apply.applySecond(dictApplicative["__superclass_Control.Apply.Apply_0"]())(f($169))})(Control_Applicative.pure(dictApplicative)(Data_Unit.unit))}}};var for_=function(dictApplicative){return function(dictFoldable){return Data_Function.flip(traverse_(dictApplicative)(dictFoldable))}};var sequence_=function(dictApplicative){return function(dictFoldable){return traverse_(dictApplicative)(dictFoldable)(Control_Category.id(Control_Category.categoryFn))}};var foldl=function(dict){return dict.foldl};var intercalate=function(dictFoldable){return function(dictMonoid){return function(sep){return function(xs){var go=function(v){return function(x){if(v.init){return{init:false,acc:x}}return{init:false,acc:Data_Semigroup.append(dictMonoid["__superclass_Data.Semigroup.Semigroup_0"]())(v.acc)(Data_Semigroup.append(dictMonoid["__superclass_Data.Semigroup.Semigroup_0"]())(sep)(x))}}};return foldl(dictFoldable)(go)({init:true,acc:Data_Monoid.mempty(dictMonoid)})(xs).acc}}}};var foldableMaybe=new Foldable(function(dictMonoid){return function(f){return function(v){if(v instanceof Data_Maybe.Nothing){return Data_Monoid.mempty(dictMonoid)}if(v instanceof Data_Maybe.Just){return f(v.value0)}throw new Error("Failed pattern match at Data.Foldable line 126, column 3 - line 126, column 30: "+[f.constructor.name,v.constructor.name])}}},function(v){return function(z){return function(v1){if(v1 instanceof Data_Maybe.Nothing){return z}if(v1 instanceof Data_Maybe.Just){
return v(z)(v1.value0)}throw new Error("Failed pattern match at Data.Foldable line 124, column 3 - line 124, column 25: "+[v.constructor.name,z.constructor.name,v1.constructor.name])}}},function(v){return function(z){return function(v1){if(v1 instanceof Data_Maybe.Nothing){return z}if(v1 instanceof Data_Maybe.Just){return v(v1.value0)(z)}throw new Error("Failed pattern match at Data.Foldable line 122, column 3 - line 122, column 25: "+[v.constructor.name,z.constructor.name,v1.constructor.name])}}});var foldMapDefaultR=function(dictFoldable){return function(dictMonoid){return function(f){return function(xs){return foldr(dictFoldable)(function(x){return function(acc){return Data_Semigroup.append(dictMonoid["__superclass_Data.Semigroup.Semigroup_0"]())(f(x))(acc)}})(Data_Monoid.mempty(dictMonoid))(xs)}}}};var foldableArray=new Foldable(function(dictMonoid){return foldMapDefaultR(foldableArray)(dictMonoid)},$foreign.foldlArray,$foreign.foldrArray);var foldMap=function(dict){return dict.foldMap};var any=function(dictFoldable){return function(dictHeytingAlgebra){return function(p){return Data_Newtype.alaF(Data_Functor.functorFn)(Data_Functor.functorFn)(Data_Monoid_Disj.newtypeDisj)(Data_Monoid_Disj.newtypeDisj)(Data_Monoid_Disj.Disj)(foldMap(dictFoldable)(Data_Monoid_Disj.monoidDisj(dictHeytingAlgebra)))(p)}}};exports["Foldable"]=Foldable;exports["any"]=any;exports["foldMap"]=foldMap;exports["foldMapDefaultR"]=foldMapDefaultR;exports["foldl"]=foldl;exports["foldr"]=foldr;exports["for_"]=for_;exports["intercalate"]=intercalate;exports["sequence_"]=sequence_;exports["traverse_"]=traverse_;exports["foldableArray"]=foldableArray;exports["foldableMaybe"]=foldableMaybe})(PS["Data.Foldable"]=PS["Data.Foldable"]||{});(function(exports){"use strict";exports.traverseArrayImpl=function(){function Cont(fn){this.fn=fn}var emptyList={};var ConsCell=function(head,tail){this.head=head;this.tail=tail};function consList(x){return function(xs){return new ConsCell(x,xs)}}function listToArray(list){var arr=[];while(list!==emptyList){arr.push(list.head);list=list.tail}return arr}return function(apply){return function(map){return function(pure){return function(f){var buildFrom=function(x,ys){return apply(map(consList)(f(x)))(ys)};var go=function(acc,currentLen,xs){if(currentLen===0){return acc}else{var last=xs[currentLen-1];return new Cont(function(){return go(buildFrom(last,acc),currentLen-1,xs)})}};return function(array){var result=go(pure(emptyList),array.length,array);while(result instanceof Cont){result=result.fn()}return map(listToArray)(result)}}}}}}()})(PS["Data.Traversable"]=PS["Data.Traversable"]||{});(function(exports){"use strict";var $foreign=PS["Data.Traversable"];var Prelude=PS["Prelude"];var Data_Foldable=PS["Data.Foldable"];var Data_Maybe=PS["Data.Maybe"];var Data_Maybe_First=PS["Data.Maybe.First"];var Data_Maybe_Last=PS["Data.Maybe.Last"];var Data_Monoid_Additive=PS["Data.Monoid.Additive"];var Data_Monoid_Conj=PS["Data.Monoid.Conj"];var Data_Monoid_Disj=PS["Data.Monoid.Disj"];var Data_Monoid_Dual=PS["Data.Monoid.Dual"];var Data_Monoid_Multiplicative=PS["Data.Monoid.Multiplicative"];var Control_Apply=PS["Control.Apply"];var Data_Functor=PS["Data.Functor"];var Control_Applicative=PS["Control.Applicative"];var Control_Category=PS["Control.Category"];var Traversable=function(__superclass_Data$dotFoldable$dotFoldable_1,__superclass_Data$dotFunctor$dotFunctor_0,sequence,traverse){this["__superclass_Data.Foldable.Foldable_1"]=__superclass_Data$dotFoldable$dotFoldable_1;this["__superclass_Data.Functor.Functor_0"]=__superclass_Data$dotFunctor$dotFunctor_0;this.sequence=sequence;this.traverse=traverse};var traverse=function(dict){return dict.traverse};var sequenceDefault=function(dictTraversable){return function(dictApplicative){return function(tma){return traverse(dictTraversable)(dictApplicative)(Control_Category.id(Control_Category.categoryFn))(tma)}}};var traversableArray=new Traversable(function(){return Data_Foldable.foldableArray},function(){return Data_Functor.functorArray},function(dictApplicative){return sequenceDefault(traversableArray)(dictApplicative)},function(dictApplicative){return $foreign.traverseArrayImpl(Control_Apply.apply(dictApplicative["__superclass_Control.Apply.Apply_0"]()))(Data_Functor.map(dictApplicative["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]()))(Control_Applicative.pure(dictApplicative))});var sequence=function(dict){return dict.sequence};exports["Traversable"]=Traversable;exports["sequence"]=sequence;exports["sequenceDefault"]=sequenceDefault;exports["traverse"]=traverse;exports["traversableArray"]=traversableArray})(PS["Data.Traversable"]=PS["Data.Traversable"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Extend=PS["Control.Extend"];var Data_Bifoldable=PS["Data.Bifoldable"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Bitraversable=PS["Data.Bitraversable"];var Data_Foldable=PS["Data.Foldable"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_Monoid=PS["Data.Monoid"];var Data_Traversable=PS["Data.Traversable"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Bounded=PS["Data.Bounded"];var Data_Semiring=PS["Data.Semiring"];var Data_Function=PS["Data.Function"];var Left=function(){function Left(value0){this.value0=value0}Left.create=function(value0){return new Left(value0)};return Left}();var Right=function(){function Right(value0){this.value0=value0}Right.create=function(value0){return new Right(value0)};return Right}();var functorEither=new Data_Functor.Functor(function(v){return function(v1){if(v1 instanceof Left){return new Left(v1.value0)}if(v1 instanceof Right){return new Right(v(v1.value0))}throw new Error("Failed pattern match at Data.Either line 35, column 3 - line 35, column 26: "+[v.constructor.name,v1.constructor.name])}});var either=function(v){return function(v1){return function(v2){if(v2 instanceof Left){return v(v2.value0)}if(v2 instanceof Right){return v1(v2.value0)}throw new Error("Failed pattern match at Data.Either line 224, column 1 - line 224, column 26: "+[v.constructor.name,v1.constructor.name,v2.constructor.name])}}};var bifunctorEither=new Data_Bifunctor.Bifunctor(function(v){return function(v1){return function(v2){if(v2 instanceof Left){return new Left(v(v2.value0))}if(v2 instanceof Right){return new Right(v1(v2.value0))}throw new Error("Failed pattern match at Data.Either line 42, column 3 - line 42, column 34: "+[v.constructor.name,v1.constructor.name,v2.constructor.name])}}});var applyEither=new Control_Apply.Apply(function(){return functorEither},function(v){return function(v1){if(v instanceof Left){return new Left(v.value0)}if(v instanceof Right){return Data_Functor.map(functorEither)(v.value0)(v1)}throw new Error("Failed pattern match at Data.Either line 78, column 3 - line 78, column 28: "+[v.constructor.name,v1.constructor.name])}});var applicativeEither=new Control_Applicative.Applicative(function(){return applyEither},Right.create);exports["Left"]=Left;exports["Right"]=Right;exports["either"]=either;exports["functorEither"]=functorEither;exports["bifunctorEither"]=bifunctorEither;exports["applyEither"]=applyEither;exports["applicativeEither"]=applicativeEither})(PS["Data.Either"]=PS["Data.Either"]||{});(function(exports){"use strict";exports.pureE=function(a){return function(){return a}};exports.bindE=function(a){return function(f){return function(){return f(a())()}}};exports.forE=function(lo){return function(hi){return function(f){return function(){for(var i=lo;i<hi;i++){f(i)()}}}}}})(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Eff"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var monadEff=new Control_Monad.Monad(function(){return applicativeEff},function(){return bindEff});var bindEff=new Control_Bind.Bind(function(){return applyEff},$foreign.bindE);var applyEff=new Control_Apply.Apply(function(){return functorEff},Control_Monad.ap(monadEff));var applicativeEff=new Control_Applicative.Applicative(function(){return applyEff},$foreign.pureE);var functorEff=new Data_Functor.Functor(Control_Applicative.liftA1(applicativeEff));exports["functorEff"]=functorEff;exports["applyEff"]=applyEff;exports["applicativeEff"]=applicativeEff;exports["bindEff"]=bindEff;exports["monadEff"]=monadEff;exports["forE"]=$foreign.forE})(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Data_Foldable=PS["Data.Foldable"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Traversable=PS["Data.Traversable"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Bounded=PS["Data.Bounded"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_BooleanAlgebra=PS["Data.BooleanAlgebra"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Data_Ring=PS["Data.Ring"];var Data_CommutativeRing=PS["Data.CommutativeRing"];var Data_Field=PS["Data.Field"];var Data_Show=PS["Data.Show"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Identity=function(x){return x};var newtypeIdentity=new Data_Newtype.Newtype(function(n){return n},Identity);var functorIdentity=new Data_Functor.Functor(function(f){return function(v){return f(v)}});var applyIdentity=new Control_Apply.Apply(function(){return functorIdentity},function(v){return function(v1){return v(v1)}});var bindIdentity=new Control_Bind.Bind(function(){return applyIdentity},function(v){return function(f){return f(v)}});var applicativeIdentity=new Control_Applicative.Applicative(function(){return applyIdentity},Identity);var monadIdentity=new Control_Monad.Monad(function(){return applicativeIdentity},function(){return bindIdentity});exports["Identity"]=Identity;exports["newtypeIdentity"]=newtypeIdentity;exports["functorIdentity"]=functorIdentity;exports["applyIdentity"]=applyIdentity;exports["applicativeIdentity"]=applicativeIdentity;exports["bindIdentity"]=bindIdentity;exports["monadIdentity"]=monadIdentity})(PS["Data.Identity"]=PS["Data.Identity"]||{});(function(exports){"use strict";exports.unsafePartial=function(f){return f()}})(PS["Partial.Unsafe"]=PS["Partial.Unsafe"]||{});(function(exports){"use strict";var $foreign=PS["Partial.Unsafe"];var Partial=PS["Partial"];exports["unsafePartial"]=$foreign.unsafePartial})(PS["Partial.Unsafe"]=PS["Partial.Unsafe"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Unsafe=PS["Control.Monad.Eff.Unsafe"];var Control_Monad_ST=PS["Control.Monad.ST"];var Data_Either=PS["Data.Either"];var Data_Identity=PS["Data.Identity"];var Data_Bifunctor=PS["Data.Bifunctor"];var Partial_Unsafe=PS["Partial.Unsafe"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Bind=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var Loop=function(){function Loop(value0){this.value0=value0}Loop.create=function(value0){return new Loop(value0)};return Loop}();var Done=function(){function Done(value0){this.value0=value0}Done.create=function(value0){return new Done(value0)};return Done}();var MonadRec=function(__superclass_Control$dotMonad$dotMonad_0,tailRecM){this["__superclass_Control.Monad.Monad_0"]=__superclass_Control$dotMonad$dotMonad_0;this.tailRecM=tailRecM};var tailRecM=function(dict){return dict.tailRecM};exports["Loop"]=Loop;exports["Done"]=Done;exports["MonadRec"]=MonadRec;exports["tailRecM"]=tailRecM})(PS["Control.Monad.Rec.Class"]=PS["Control.Monad.Rec.Class"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var MonadTrans=function(lift){this.lift=lift};var lift=function(dict){return dict.lift};exports["MonadTrans"]=MonadTrans;exports["lift"]=lift})(PS["Control.Monad.Trans.Class"]=PS["Control.Monad.Trans.Class"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Either=PS["Data.Either"];var Data_Exists=PS["Data.Exists"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Apply=PS["Control.Apply"];var Control_Monad=PS["Control.Monad"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Bound=function(){function Bound(value0,value1){this.value0=value0;this.value1=value1}Bound.create=function(value0){return function(value1){return new Bound(value0,value1)}};return Bound}();var FreeT=function(){function FreeT(value0){this.value0=value0}FreeT.create=function(value0){return new FreeT(value0)};return FreeT}();var Bind=function(){function Bind(value0){this.value0=value0}Bind.create=function(value0){return new Bind(value0)};return Bind}();var monadTransFreeT=function(dictFunctor){return new Control_Monad_Trans_Class.MonadTrans(function(dictMonad){return function(ma){return new FreeT(function(v){return Data_Functor.map(dictMonad["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())(Data_Either.Left.create)(ma)})}})};var freeT=FreeT.create;var bound=function(m){return function(f){return new Bind(Data_Exists.mkExists(new Bound(m,f)))}};var functorFreeT=function(dictFunctor){return function(dictFunctor1){return new Data_Functor.Functor(function(f){return function(v){if(v instanceof FreeT){return new FreeT(function(v1){return Data_Functor.map(dictFunctor1)(Data_Bifunctor.bimap(Data_Either.bifunctorEither)(f)(Data_Functor.map(dictFunctor)(Data_Functor.map(functorFreeT(dictFunctor)(dictFunctor1))(f))))(v.value0(Data_Unit.unit))})}if(v instanceof Bind){return Data_Exists.runExists(function(v1){return bound(v1.value0)(function($94){return Data_Functor.map(functorFreeT(dictFunctor)(dictFunctor1))(f)(v1.value1($94))})})(v.value0)}throw new Error("Failed pattern match at Control.Monad.Free.Trans line 53, column 3 - line 53, column 69: "+[f.constructor.name,v.constructor.name])}})}};var monadFreeT=function(dictFunctor){return function(dictMonad){return new Control_Monad.Monad(function(){return applicativeFreeT(dictFunctor)(dictMonad)},function(){return bindFreeT(dictFunctor)(dictMonad)})}};var bindFreeT=function(dictFunctor){return function(dictMonad){return new Control_Bind.Bind(function(){return applyFreeT(dictFunctor)(dictMonad)},function(v){return function(f){if(v instanceof Bind){return Data_Exists.runExists(function(v1){return bound(v1.value0)(function(x){return bound(function(v2){return v1.value1(x)})(f)})})(v.value0)}return bound(function(v1){return v})(f)}})}};var applyFreeT=function(dictFunctor){return function(dictMonad){return new Control_Apply.Apply(function(){return functorFreeT(dictFunctor)(dictMonad["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())},Control_Monad.ap(monadFreeT(dictFunctor)(dictMonad)))}};var applicativeFreeT=function(dictFunctor){return function(dictMonad){return new Control_Applicative.Applicative(function(){return applyFreeT(dictFunctor)(dictMonad)},function(a){return new FreeT(function(v){return Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(new Data_Either.Left(a))})})}};var liftFreeT=function(dictFunctor){return function(dictMonad){return function(fa){return new FreeT(function(v){return Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(new Data_Either.Right(Data_Functor.map(dictFunctor)(Control_Applicative.pure(applicativeFreeT(dictFunctor)(dictMonad)))(fa)))})}}};var resume=function(dictFunctor){return function(dictMonadRec){var go=function(v){if(v instanceof FreeT){return Data_Functor.map(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())(Control_Monad_Rec_Class.Done.create)(v.value0(Data_Unit.unit))}if(v instanceof Bind){return Data_Exists.runExists(function(v1){var $76=v1.value0(Data_Unit.unit);if($76 instanceof FreeT){return Control_Bind.bind(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Bind.Bind_1"]())($76.value0(Data_Unit.unit))(function(v2){if(v2 instanceof Data_Either.Left){return Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())(new Control_Monad_Rec_Class.Loop(v1.value1(v2.value0)))}if(v2 instanceof Data_Either.Right){return Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())(new Control_Monad_Rec_Class.Done(new Data_Either.Right(Data_Functor.map(dictFunctor)(function(h){return Control_Bind.bind(bindFreeT(dictFunctor)(dictMonadRec["__superclass_Control.Monad.Monad_0"]()))(h)(v1.value1)})(v2.value0))))}throw new Error("Failed pattern match at Control.Monad.Free.Trans line 47, column 9 - line 49, column 67: "+[v2.constructor.name])})}if($76 instanceof Bind){return Data_Exists.runExists(function(v2){return Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())(new Control_Monad_Rec_Class.Loop(Control_Bind.bind(bindFreeT(dictFunctor)(dictMonadRec["__superclass_Control.Monad.Monad_0"]()))(v2.value0(Data_Unit.unit))(function(z){return Control_Bind.bind(bindFreeT(dictFunctor)(dictMonadRec["__superclass_Control.Monad.Monad_0"]()))(v2.value1(z))(v1.value1)})))})($76.value0)}throw new Error("Failed pattern match at Control.Monad.Free.Trans line 45, column 5 - line 50, column 98: "+[$76.constructor.name])})(v.value0)}throw new Error("Failed pattern match at Control.Monad.Free.Trans line 43, column 3 - line 43, column 35: "+[v.constructor.name])};return Control_Monad_Rec_Class.tailRecM(dictMonadRec)(go)}};var runFreeT=function(dictFunctor){return function(dictMonadRec){return function(interp){var go=function(v){if(v instanceof Data_Either.Left){return Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())(new Control_Monad_Rec_Class.Done(v.value0))}if(v instanceof Data_Either.Right){return Data_Functor.map(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())(Control_Monad_Rec_Class.Loop.create)(interp(v.value0))}throw new Error("Failed pattern match at Control.Monad.Free.Trans line 101, column 3 - line 101, column 30: "+[v.constructor.name])};return Control_Monad_Rec_Class.tailRecM(dictMonadRec)(Control_Bind.composeKleisliFlipped(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Bind.Bind_1"]())(go)(resume(dictFunctor)(dictMonadRec)))}}};var monadRecFreeT=function(dictFunctor){return function(dictMonad){return new Control_Monad_Rec_Class.MonadRec(function(){return monadFreeT(dictFunctor)(dictMonad)},function(f){var go=function(s){return Control_Bind.bind(bindFreeT(dictFunctor)(dictMonad))(f(s))(function(v){if(v instanceof Control_Monad_Rec_Class.Loop){return go(v.value0)}if(v instanceof Control_Monad_Rec_Class.Done){return Control_Applicative.pure(applicativeFreeT(dictFunctor)(dictMonad))(v.value0)}throw new Error("Failed pattern match at Control.Monad.Free.Trans line 75, column 7 - line 77, column 25: "+[v.constructor.name])})};return go})}};exports["freeT"]=freeT;exports["liftFreeT"]=liftFreeT;exports["resume"]=resume;exports["runFreeT"]=runFreeT;exports["functorFreeT"]=functorFreeT;exports["applyFreeT"]=applyFreeT;exports["applicativeFreeT"]=applicativeFreeT;exports["bindFreeT"]=bindFreeT;exports["monadFreeT"]=monadFreeT;exports["monadTransFreeT"]=monadTransFreeT;exports["monadRecFreeT"]=monadRecFreeT})(PS["Control.Monad.Free.Trans"]=PS["Control.Monad.Free.Trans"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Maybe=PS["Data.Maybe"];var Data_Either=PS["Data.Either"];var Data_Function=PS["Data.Function"];var Data_Unit=PS["Data.Unit"];var MonadError=function(__superclass_Control$dotMonad$dotMonad_0,catchError,throwError){this["__superclass_Control.Monad.Monad_0"]=__superclass_Control$dotMonad$dotMonad_0;this.catchError=catchError;this.throwError=throwError};var throwError=function(dict){return dict.throwError};var catchError=function(dict){return dict.catchError};exports["MonadError"]=MonadError;exports["catchError"]=catchError;exports["throwError"]=throwError})(PS["Control.Monad.Error.Class"]=PS["Control.Monad.Error.Class"]||{});(function(exports){"use strict";var Control_Category=PS["Control.Category"];var Control_Monad=PS["Control.Monad"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var MonadEff=function(__superclass_Control$dotMonad$dotMonad_0,liftEff){this["__superclass_Control.Monad.Monad_0"]=__superclass_Control$dotMonad$dotMonad_0;this.liftEff=liftEff};var monadEffEff=new MonadEff(function(){return Control_Monad_Eff.monadEff},Control_Category.id(Control_Category.categoryFn));var liftEff=function(dict){return dict.liftEff};exports["MonadEff"]=MonadEff;exports["liftEff"]=liftEff;exports["monadEffEff"]=monadEffEff})(PS["Control.Monad.Eff.Class"]=PS["Control.Monad.Eff.Class"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Biapplicative=PS["Control.Biapplicative"];var Control_Biapply=PS["Control.Biapply"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Control_Lazy=PS["Control.Lazy"];var Data_Bifoldable=PS["Data.Bifoldable"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Bitraversable=PS["Data.Bitraversable"];var Data_Foldable=PS["Data.Foldable"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Maybe=PS["Data.Maybe"];var Data_Maybe_First=PS["Data.Maybe.First"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Traversable=PS["Data.Traversable"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Bounded=PS["Data.Bounded"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Semiring=PS["Data.Semiring"];var Data_Ring=PS["Data.Ring"];var Data_CommutativeRing=PS["Data.CommutativeRing"];var Data_BooleanAlgebra=PS["Data.BooleanAlgebra"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Function=PS["Data.Function"];var Data_Unit=PS["Data.Unit"];var Tuple=function(){function Tuple(value0,value1){this.value0=value0;this.value1=value1}Tuple.create=function(value0){return function(value1){return new Tuple(value0,value1)}};return Tuple}();var snd=function(v){return v.value1};var fst=function(v){return v.value0};exports["Tuple"]=Tuple;exports["fst"]=fst;exports["snd"]=snd})(PS["Data.Tuple"]=PS["Data.Tuple"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Tuple=PS["Data.Tuple"];var Data_Unit=PS["Data.Unit"];var MonadState=function(__superclass_Control$dotMonad$dotMonad_0,state){this["__superclass_Control.Monad.Monad_0"]=__superclass_Control$dotMonad$dotMonad_0;this.state=state};var state=function(dict){return dict.state};var modify=function(dictMonadState){return function(f){return state(dictMonadState)(function(s){return new Data_Tuple.Tuple(Data_Unit.unit,f(s))})}};var get=function(dictMonadState){return state(dictMonadState)(function(s){return new Data_Tuple.Tuple(s,s)})};exports["MonadState"]=MonadState;exports["get"]=get;exports["modify"]=modify;exports["state"]=state})(PS["Control.Monad.State.Class"]=PS["Control.Monad.State.Class"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Monad_Cont_Class=PS["Control.Monad.Cont.Class"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Reader_Class=PS["Control.Monad.Reader.Class"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_State_Class=PS["Control.Monad.State.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Monad_Writer_Class=PS["Control.Monad.Writer.Class"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Data_Either=PS["Data.Either"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Tuple=PS["Data.Tuple"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Monad=PS["Control.Monad"];var Control_Applicative=PS["Control.Applicative"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Bind=PS["Control.Bind"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Function=PS["Data.Function"];var Control_Category=PS["Control.Category"];var ExceptT=function(x){return x};var runExceptT=function(v){return v};var mapExceptT=function(f){return function(v){return f(v)}};var functorExceptT=function(dictFunctor){return new Data_Functor.Functor(function(f){return mapExceptT(Data_Functor.map(dictFunctor)(Data_Functor.map(Data_Either.functorEither)(f)))})};var except=function(dictApplicative){return function($87){return ExceptT(Control_Applicative.pure(dictApplicative)($87))}};var monadExceptT=function(dictMonad){return new Control_Monad.Monad(function(){return applicativeExceptT(dictMonad)},function(){return bindExceptT(dictMonad)})};var bindExceptT=function(dictMonad){return new Control_Bind.Bind(function(){return applyExceptT(dictMonad)},function(v){return function(k){return Control_Bind.bind(dictMonad["__superclass_Control.Bind.Bind_1"]())(v)(Data_Either.either(function($88){return Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(Data_Either.Left.create($88))})(function(a){var $56=k(a);return $56}))}})};var applyExceptT=function(dictMonad){return new Control_Apply.Apply(function(){return functorExceptT(dictMonad["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())},Control_Monad.ap(monadExceptT(dictMonad)))};var applicativeExceptT=function(dictMonad){return new Control_Applicative.Applicative(function(){return applyExceptT(dictMonad)},function($89){return ExceptT(Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(Data_Either.Right.create($89)))})};var monadErrorExceptT=function(dictMonad){return new Control_Monad_Error_Class.MonadError(function(){return monadExceptT(dictMonad)},function(v){return function(k){return Control_Bind.bind(dictMonad["__superclass_Control.Bind.Bind_1"]())(v)(Data_Either.either(function(a){var $60=k(a);return $60})(function($91){return Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(Data_Either.Right.create($91))}))}},function($92){return ExceptT(Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(Data_Either.Left.create($92)))})};exports["ExceptT"]=ExceptT;exports["except"]=except;exports["mapExceptT"]=mapExceptT;exports["runExceptT"]=runExceptT;exports["functorExceptT"]=functorExceptT;exports["applyExceptT"]=applyExceptT;exports["applicativeExceptT"]=applicativeExceptT;exports["bindExceptT"]=bindExceptT;exports["monadExceptT"]=monadExceptT;exports["monadErrorExceptT"]=monadErrorExceptT})(PS["Control.Monad.Except.Trans"]=PS["Control.Monad.Except.Trans"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Either=PS["Data.Either"];var Data_Identity=PS["Data.Identity"];var Data_Newtype=PS["Data.Newtype"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var runExcept=function($0){return Data_Newtype.unwrap(Data_Identity.newtypeIdentity)(Control_Monad_Except_Trans.runExceptT($0))};var mapExcept=function(f){return Control_Monad_Except_Trans.mapExceptT(function($1){return Data_Identity.Identity(f(Data_Newtype.unwrap(Data_Identity.newtypeIdentity)($1)))})};exports["mapExcept"]=mapExcept;exports["runExcept"]=runExcept})(PS["Control.Monad.Except"]=PS["Control.Monad.Except"]||{});(function(exports){"use strict";exports.newRef=function(val){return function(){return{value:val}}};exports.readRef=function(ref){return function(){return ref.value}};exports["modifyRef'"]=function(ref){return function(f){return function(){var t=f(ref.value);ref.value=t.state;return t.value}}};exports.writeRef=function(ref){return function(val){return function(){ref.value=val;return{}}}}})(PS["Control.Monad.Eff.Ref"]=PS["Control.Monad.Eff.Ref"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Eff.Ref"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var modifyRef=function(ref){return function(f){return $foreign["modifyRef'"](ref)(function(s){return{state:f(s),value:Data_Unit.unit}})}};exports["modifyRef"]=modifyRef;exports["newRef"]=$foreign.newRef;exports["readRef"]=$foreign.readRef;exports["writeRef"]=$foreign.writeRef})(PS["Control.Monad.Eff.Ref"]=PS["Control.Monad.Eff.Ref"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Monad_Cont_Trans=PS["Control.Monad.Cont.Trans"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Control_Monad_Eff_Unsafe=PS["Control.Monad.Eff.Unsafe"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Control_Monad_Maybe_Trans=PS["Control.Monad.Maybe.Trans"];var Control_Monad_Reader_Trans=PS["Control.Monad.Reader.Trans"];var Control_Monad_Writer_Trans=PS["Control.Monad.Writer.Trans"];var Control_Plus=PS["Control.Plus"];var Data_Either=PS["Data.Either"];var Data_Functor_Compose=PS["Data.Functor.Compose"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Apply=PS["Control.Apply"];var Data_Function=PS["Data.Function"];var Control_Bind=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var Parallel=function(__superclass_Control$dotApplicative$dotApplicative_1,__superclass_Control$dotMonad$dotMonad_0,parallel,sequential){this["__superclass_Control.Applicative.Applicative_1"]=__superclass_Control$dotApplicative$dotApplicative_1;this["__superclass_Control.Monad.Monad_0"]=__superclass_Control$dotMonad$dotMonad_0;

this.parallel=parallel;this.sequential=sequential};var sequential=function(dict){return dict.sequential};var parallel=function(dict){return dict.parallel};exports["Parallel"]=Parallel;exports["parallel"]=parallel;exports["sequential"]=sequential})(PS["Control.Parallel.Class"]=PS["Control.Parallel.Class"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Parallel_Class=PS["Control.Parallel.Class"];var Data_Foldable=PS["Data.Foldable"];var Data_Traversable=PS["Data.Traversable"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Category=PS["Control.Category"];var parTraverse_=function(dictParallel){return function(dictFoldable){return function(f){return function($8){return Control_Parallel_Class.sequential(dictParallel)(Data_Foldable.traverse_(dictParallel["__superclass_Control.Applicative.Applicative_1"]())(dictFoldable)(function($9){return Control_Parallel_Class.parallel(dictParallel)(f($9))})($8))}}}};var parSequence_=function(dictParallel){return function(dictTraversable){return parTraverse_(dictParallel)(dictTraversable["__superclass_Data.Foldable.Foldable_1"]())(Control_Category.id(Control_Category.categoryFn))}};exports["parSequence_"]=parSequence_;exports["parTraverse_"]=parTraverse_})(PS["Control.Parallel"]=PS["Control.Parallel"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Newtype=PS["Data.Newtype"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Category=PS["Control.Category"];var Profunctor=function(dimap){this.dimap=dimap};var profunctorFn=new Profunctor(function(a2b){return function(c2d){return function(b2c){return function($9){return c2d(b2c(a2b($9)))}}}});var dimap=function(dict){return dict.dimap};var rmap=function(dictProfunctor){return function(b2c){return dimap(dictProfunctor)(Control_Category.id(Control_Category.categoryFn))(b2c)}};exports["Profunctor"]=Profunctor;exports["dimap"]=dimap;exports["rmap"]=rmap;exports["profunctorFn"]=profunctorFn})(PS["Data.Profunctor"]=PS["Data.Profunctor"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Apply=PS["Control.Apply"];var Control_Monad_Free_Trans=PS["Control.Monad.Free.Trans"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Monad_Except=PS["Control.Monad.Except"];var Control_Parallel=PS["Control.Parallel"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Either=PS["Data.Either"];var Data_Identity=PS["Data.Identity"];var Data_Maybe=PS["Data.Maybe"];var Data_Newtype=PS["Data.Newtype"];var Data_Profunctor=PS["Data.Profunctor"];var Data_Tuple=PS["Data.Tuple"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Control_Bind=PS["Control.Bind"];var Data_Function=PS["Data.Function"];var Control_Parallel_Class=PS["Control.Parallel.Class"];var Control_Category=PS["Control.Category"];var Emit=function(){function Emit(value0,value1){this.value0=value0;this.value1=value1}Emit.create=function(value0){return function(value1){return new Emit(value0,value1)}};return Emit}();var runProcess=function(dictMonadRec){return Control_Monad_Free_Trans.runFreeT(Data_Identity.functorIdentity)(dictMonadRec)(function($185){return Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())(Data_Newtype.unwrap(Data_Identity.newtypeIdentity)($185))})};var profunctorAwait=new Data_Profunctor.Profunctor(function(f){return function(g){return function(v){return Data_Profunctor.dimap(Data_Profunctor.profunctorFn)(f)(g)(v)}}});var loop=function(dictFunctor){return function(dictMonad){return function(me){return Control_Monad_Rec_Class.tailRecM(Control_Monad_Free_Trans.monadRecFreeT(dictFunctor)(dictMonad))(function(v){return Data_Functor.map(Control_Monad_Free_Trans.functorFreeT(dictFunctor)(dictMonad["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]()))(Data_Maybe.maybe(new Control_Monad_Rec_Class.Loop(Data_Unit.unit))(Control_Monad_Rec_Class.Done.create))(me)})(Data_Unit.unit)}}};var fuseWithL=function(dictFunctor){return function(dictFunctor1){return function(dictFunctor2){return function(dictMonadRec){return function(zap){return function(fs){return function(gs){var go=function(v){return Control_Monad_Except_Trans.runExceptT(Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(dictMonadRec["__superclass_Control.Monad.Monad_0"]()))(Control_Monad_Except_Trans.ExceptT(Control_Monad_Free_Trans.resume(dictFunctor)(dictMonadRec)(v.value0)))(function(v1){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(dictMonadRec["__superclass_Control.Monad.Monad_0"]()))(Control_Monad_Except_Trans.ExceptT(Control_Monad_Free_Trans.resume(dictFunctor1)(dictMonadRec)(v.value1)))(function(v2){return Control_Applicative.pure(Control_Monad_Except_Trans.applicativeExceptT(dictMonadRec["__superclass_Control.Monad.Monad_0"]()))(Data_Functor.map(dictFunctor2)(function(t){return Control_Monad_Free_Trans.freeT(function(v3){return go(t)})})(zap(Data_Tuple.Tuple.create)(v1)(v2)))})}))};return Control_Monad_Free_Trans.freeT(function(v){return go(new Data_Tuple.Tuple(fs,gs))})}}}}}}};var fuseWith=function(dictFunctor){return function(dictFunctor1){return function(dictFunctor2){return function(dictMonadRec){return function(dictParallel){return function(zap){return function(fs){return function(gs){var go=function(v){return Control_Bind.bind(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Bind.Bind_1"]())(Control_Parallel_Class.sequential(dictParallel)(Control_Apply.apply(dictParallel["__superclass_Control.Applicative.Applicative_1"]()["__superclass_Control.Apply.Apply_0"]())(Data_Functor.map(dictParallel["__superclass_Control.Applicative.Applicative_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())(Control_Apply.lift2(Data_Either.applyEither)(zap(Data_Tuple.Tuple.create)))(Control_Parallel_Class.parallel(dictParallel)(Control_Monad_Free_Trans.resume(dictFunctor)(dictMonadRec)(v.value0))))(Control_Parallel_Class.parallel(dictParallel)(Control_Monad_Free_Trans.resume(dictFunctor1)(dictMonadRec)(v.value1)))))(function(v1){if(v1 instanceof Data_Either.Left){return Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())(new Data_Either.Left(v1.value0))}if(v1 instanceof Data_Either.Right){return Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())(new Data_Either.Right(Data_Functor.map(dictFunctor2)(function(t){return Control_Monad_Free_Trans.freeT(function(v2){return go(t)})})(v1.value0)))}throw new Error("Failed pattern match at Control.Coroutine line 76, column 5 - line 78, column 63: "+[v1.constructor.name])})};return Control_Monad_Free_Trans.freeT(function(v){return go(new Data_Tuple.Tuple(fs,gs))})}}}}}}}};var functorAwait=new Data_Functor.Functor(Data_Profunctor.rmap(profunctorAwait));var bifunctorEmit=new Data_Bifunctor.Bifunctor(function(f){return function(g){return function(v){return new Emit(f(v.value0),g(v.value1))}}});var functorEmit=new Data_Functor.Functor(Data_Bifunctor.rmap(bifunctorEmit));var connect=function(dictMonadRec){return function(dictParallel){return fuseWith(functorEmit)(functorAwait)(Data_Identity.functorIdentity)(dictMonadRec)(dictParallel)(function(f){return function(v){return function(v1){return f(v.value1)(v1(v.value0))}}})}};var emit=function(dictMonad){return function(o){return Control_Monad_Free_Trans.liftFreeT(functorEmit)(dictMonad)(new Emit(o,Data_Unit.unit))}};var producer=function(dictMonad){return function(recv){return loop(functorEmit)(dictMonad)(Control_Bind.bind(Control_Monad_Free_Trans.bindFreeT(functorEmit)(dictMonad))(Control_Monad_Trans_Class.lift(Control_Monad_Free_Trans.monadTransFreeT(functorEmit))(dictMonad)(recv))(function(v){if(v instanceof Data_Either.Left){return Data_Functor.voidLeft(Control_Monad_Free_Trans.functorFreeT(functorEmit)(dictMonad["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]()))(emit(dictMonad)(v.value0))(Data_Maybe.Nothing.value)}if(v instanceof Data_Either.Right){return Control_Applicative.pure(Control_Monad_Free_Trans.applicativeFreeT(functorEmit)(dictMonad))(new Data_Maybe.Just(v.value0))}throw new Error("Failed pattern match at Control.Coroutine line 119, column 3 - line 121, column 29: "+[v.constructor.name])}))}};var pullFrom=function(dictMonadRec){return fuseWithL(functorAwait)(functorEmit)(Data_Identity.functorIdentity)(dictMonadRec)(function(f){return function(v){return function(v1){return Control_Applicative.pure(Data_Identity.applicativeIdentity)(f(v(v1.value0))(v1.value1))}}})};var $$await=function(dictMonad){return Control_Monad_Free_Trans.liftFreeT(functorAwait)(dictMonad)(Control_Category.id(Control_Category.categoryFn))};exports["Emit"]=Emit;exports["await"]=$$await;exports["connect"]=connect;exports["emit"]=emit;exports["fuseWith"]=fuseWith;exports["fuseWithL"]=fuseWithL;exports["loop"]=loop;exports["producer"]=producer;exports["pullFrom"]=pullFrom;exports["runProcess"]=runProcess;exports["bifunctorEmit"]=bifunctorEmit;exports["functorEmit"]=functorEmit;exports["profunctorAwait"]=profunctorAwait;exports["functorAwait"]=functorAwait})(PS["Control.Coroutine"]=PS["Control.Coroutine"]||{});(function(exports){"use strict";exports._cancelWith=function(nonCanceler,aff,canceler1){return function(success,error){var canceler2=aff(success,error);return function(e){return function(success,error){var cancellations=0;var result=false;var errored=false;var s=function(bool){cancellations=cancellations+1;result=result||bool;if(cancellations===2&&!errored){success(result)}};var f=function(err){if(!errored){errored=true;error(err)}};canceler2(e)(s,f);canceler1(e)(s,f);return nonCanceler}}}};exports._forkAff=function(nonCanceler,aff){var voidF=function(){};return function(success){var canceler=aff(voidF,voidF);success(canceler);return nonCanceler}};exports._forkAll=function(nonCanceler,foldl,affs){var voidF=function(){};return function(success,error){try{var cancelers=foldl(function(acc){return function(aff){acc.push(aff(voidF,voidF));return acc}})([])(affs)}catch(err){error(err)}var canceler=function(e){return function(success,error){var cancellations=0;var result=false;var errored=false;var s=function(bool){cancellations=cancellations+1;result=result||bool;if(cancellations===cancelers.length&&!errored){success(result)}};var f=function(err){if(!errored){errored=true;error(err)}};for(var i=0;i<cancelers.length;i++){cancelers[i](e)(s,f)}return nonCanceler}};success(canceler);return nonCanceler}};exports._makeAff=function(cb){return function(success,error){try{return cb(function(e){return function(){error(e)}})(function(v){return function(){success(v)}})()}catch(err){error(err)}}};exports._pure=function(nonCanceler,v){return function(success){success(v);return nonCanceler}};exports._throwError=function(nonCanceler,e){return function(success,error){error(e);return nonCanceler}};exports._fmap=function(f,aff){return function(success,error){try{return aff(function(v){try{var v2=f(v)}catch(err){error(err)}success(v2)},error)}catch(err){error(err)}}};exports._bind=function(alwaysCanceler,aff,f){return function(success,error){var canceler1,canceler2;var isCanceled=false;var requestCancel=false;var onCanceler=function(){};canceler1=aff(function(v){if(requestCancel){isCanceled=true;return alwaysCanceler}else{canceler2=f(v)(success,error);onCanceler(canceler2);return canceler2}},error);return function(e){return function(s,f){requestCancel=true;if(canceler2!==undefined){return canceler2(e)(s,f)}else{return canceler1(e)(function(bool){if(bool||isCanceled){s(true)}else{onCanceler=function(canceler){canceler(e)(s,f)}}},f)}}}}};exports._attempt=function(Left,Right,aff){return function(success){try{return aff(function(v){success(Right(v))},function(e){success(Left(e))})}catch(err){success(Left(err))}}};exports._runAff=function(errorT,successT,aff){return function(){return aff(function(v){successT(v)()},function(e){errorT(e)()})}};exports._liftEff=function(nonCanceler,e){return function(success,error){var result;try{result=e()}catch(err){error(err);return nonCanceler}success(result);return nonCanceler}};exports._tailRecM=function(isLeft,f,a){return function(success,error){return function go(acc){var result,status,canceler;var csuccess=function(v){if(status===0){result=v;status=1}else{if(isLeft(v)){go(v.value0)}else{try{success(v.value0)}catch(err){error(err)}}}};while(true){status=0;canceler=f(acc)(csuccess,error);if(status===1){if(isLeft(result)){acc=result.value0;continue}else{try{success(result.value0)}catch(err){error(err)}}}else{status=2}return canceler}}(a)}}})(PS["Control.Monad.Aff"]=PS["Control.Monad.Aff"]||{});(function(exports){"use strict";exports._makeVar=function(nonCanceler){return function(success,error){try{success({consumers:[],producers:[],error:undefined})}catch(err){error(err)}return nonCanceler}};exports._takeVar=function(nonCanceler,avar){return function(success,error){if(avar.error!==undefined){error(avar.error)}else if(avar.producers.length>0){var producer=avar.producers.shift();producer(success,error)}else{avar.consumers.push({success:success,error:error})}return nonCanceler}};exports._putVar=function(nonCanceler,avar,a){return function(success,error){if(avar.error!==undefined){error(avar.error)}else if(avar.consumers.length===0){avar.producers.push(function(success,error){try{success(a)}catch(err){error(err)}});success({})}else{var consumer;do{consumer=avar.consumers.shift();try{consumer.success(a)}catch(err){error(err);return}}while(consumer.peek===true);success({})}return nonCanceler}};exports._killVar=function(nonCanceler,avar,e){return function(success,error){if(avar.error!==undefined){error(avar.error)}else{var errors=[];avar.error=e;while(avar.consumers.length>0){var consumer=avar.consumers.shift();try{consumer.error(e)}catch(err){errors.push(err)}}if(errors.length>0)error(errors[0]);else success({})}return nonCanceler}}})(PS["Control.Monad.Aff.Internal"]=PS["Control.Monad.Aff.Internal"]||{});(function(exports){"use strict";exports.showErrorImpl=function(err){return err.stack||err.toString()};exports.error=function(msg){return new Error(msg)};exports.throwException=function(e){return function(){throw e}}})(PS["Control.Monad.Eff.Exception"]=PS["Control.Monad.Eff.Exception"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Eff.Exception"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Either=PS["Data.Either"];var Data_Maybe=PS["Data.Maybe"];var Data_Show=PS["Data.Show"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Applicative=PS["Control.Applicative"];var Data_Functor=PS["Data.Functor"];var showError=new Data_Show.Show($foreign.showErrorImpl);exports["showError"]=showError;exports["error"]=$foreign.error;exports["throwException"]=$foreign.throwException})(PS["Control.Monad.Eff.Exception"]=PS["Control.Monad.Eff.Exception"]||{});(function(exports){"use strict";exports.runFn2=function(fn){return function(a){return function(b){return fn(a,b)}}}})(PS["Data.Function.Uncurried"]=PS["Data.Function.Uncurried"]||{});(function(exports){"use strict";var $foreign=PS["Data.Function.Uncurried"];var Data_Unit=PS["Data.Unit"];exports["runFn2"]=$foreign.runFn2})(PS["Data.Function.Uncurried"]=PS["Data.Function.Uncurried"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Aff.Internal"];var Prelude=PS["Prelude"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];exports["_killVar"]=$foreign._killVar;exports["_makeVar"]=$foreign._makeVar;exports["_putVar"]=$foreign._putVar;exports["_takeVar"]=$foreign._takeVar})(PS["Control.Monad.Aff.Internal"]=PS["Control.Monad.Aff.Internal"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Aff"];var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Monad_Aff_Internal=PS["Control.Monad.Aff.Internal"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_Parallel=PS["Control.Parallel"];var Control_Plus=PS["Control.Plus"];var Data_Either=PS["Data.Either"];var Data_Foldable=PS["Data.Foldable"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Semigroup=PS["Data.Semigroup"];var Control_Apply=PS["Control.Apply"];var Data_Functor=PS["Data.Functor"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Function=PS["Data.Function"];var Control_MonadZero=PS["Control.MonadZero"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Eq=PS["Data.Eq"];var Data_Semiring=PS["Data.Semiring"];var Control_Parallel_Class=PS["Control.Parallel.Class"];var Data_Unit=PS["Data.Unit"];var ParAff=function(x){return x};var runAff=function(ex){return function(f){return function(aff){return $foreign._runAff(ex,f,aff)}}};var makeAff$prime=function(h){return $foreign._makeAff(h)};var functorAff=new Data_Functor.Functor(function(f){return function(fa){return $foreign._fmap(f,fa)}});var functorParAff=functorAff;var fromAVBox=Unsafe_Coerce.unsafeCoerce;var cancel=function(v){return v};var attempt=function(aff){return $foreign._attempt(Data_Either.Left.create,Data_Either.Right.create,aff)};var applyAff=new Control_Apply.Apply(function(){return functorAff},function(ff){return function(fa){return $foreign._bind(alwaysCanceler,ff,function(f){return Data_Functor.map(functorAff)(f)(fa)})}});var applicativeAff=new Control_Applicative.Applicative(function(){return applyAff},function(v){return $foreign._pure(nonCanceler,v)});var nonCanceler=Data_Function["const"](Control_Applicative.pure(applicativeAff)(false));var alwaysCanceler=Data_Function["const"](Control_Applicative.pure(applicativeAff)(true));var cancelWith=function(aff){return function(c){return $foreign._cancelWith(nonCanceler,aff,c)}};var forkAff=function(aff){return $foreign._forkAff(nonCanceler,aff)};var forkAll=function(dictFoldable){return function(affs){return $foreign._forkAll(nonCanceler,Data_Foldable.foldl(dictFoldable),affs)}};var killVar=function(q){return function(e){return fromAVBox(Control_Monad_Aff_Internal._killVar(nonCanceler,q,e))}};var makeAff=function(h){return makeAff$prime(function(e){return function(a){return Data_Functor.map(Control_Monad_Eff.functorEff)(Data_Function["const"](nonCanceler))(h(e)(a))}})};var makeVar=fromAVBox(Control_Monad_Aff_Internal._makeVar(nonCanceler));var putVar=function(q){return function(a){return fromAVBox(Control_Monad_Aff_Internal._putVar(nonCanceler,q,a))}};var takeVar=function(q){return fromAVBox(Control_Monad_Aff_Internal._takeVar(nonCanceler,q))};var semigroupCanceler=new Data_Semigroup.Semigroup(function(v){return function(v1){return function(e){return Control_Apply.apply(applyAff)(Data_Functor.map(functorAff)(Data_HeytingAlgebra.disj(Data_HeytingAlgebra.heytingAlgebraBoolean))(v(e)))(v1(e))}}});var bindAff=new Control_Bind.Bind(function(){return applyAff},function(fa){return function(f){return $foreign._bind(alwaysCanceler,fa,f)}});var applyParAff=new Control_Apply.Apply(function(){return functorParAff},function(v){return function(v1){var putOrKill=function(v2){return Data_Either.either(killVar(v2))(putVar(v2))};return Control_Bind.bind(bindAff)(makeVar)(function(v2){return Control_Bind.bind(bindAff)(makeVar)(function(v3){return Control_Bind.bind(bindAff)(forkAff(Control_Bind.bindFlipped(bindAff)(putOrKill(v2))(attempt(v))))(function(v4){return Control_Bind.bind(bindAff)(forkAff(Control_Bind.bindFlipped(bindAff)(putOrKill(v3))(attempt(v1))))(function(v5){return cancelWith(Control_Apply.apply(applyAff)(takeVar(v2))(takeVar(v3)))(Data_Semigroup.append(semigroupCanceler)(v4)(v5))})})})})}});var applicativeParAff=new Control_Applicative.Applicative(function(){return applyParAff},function($49){return ParAff(Control_Applicative.pure(applicativeAff)($49))});var monadAff=new Control_Monad.Monad(function(){return applicativeAff},function(){return bindAff});var monadEffAff=new Control_Monad_Eff_Class.MonadEff(function(){return monadAff},function(eff){return $foreign._liftEff(nonCanceler,eff)});var monadRecAff=new Control_Monad_Rec_Class.MonadRec(function(){return monadAff},function(f){return function(a){var isLoop=function(v){if(v instanceof Control_Monad_Rec_Class.Loop){return true}return false};return $foreign._tailRecM(isLoop,f,a)}});var parallelParAff=new Control_Parallel_Class.Parallel(function(){return applicativeParAff},function(){return monadAff},ParAff,function(v){return v});var monadErrorAff=new Control_Monad_Error_Class.MonadError(function(){return monadAff},function(aff){return function(ex){return Control_Bind.bind(bindAff)(attempt(aff))(Data_Either.either(ex)(Control_Applicative.pure(applicativeAff)))}},function(e){return $foreign._throwError(nonCanceler,e)});exports["ParAff"]=ParAff;exports["attempt"]=attempt;exports["cancel"]=cancel;exports["cancelWith"]=cancelWith;exports["forkAff"]=forkAff;exports["forkAll"]=forkAll;exports["makeAff"]=makeAff;exports["makeAff'"]=makeAff$prime;exports["nonCanceler"]=nonCanceler;exports["runAff"]=runAff;exports["functorAff"]=functorAff;exports["applyAff"]=applyAff;exports["applicativeAff"]=applicativeAff;exports["bindAff"]=bindAff;exports["monadAff"]=monadAff;exports["monadEffAff"]=monadEffAff;exports["monadErrorAff"]=monadErrorAff;exports["monadRecAff"]=monadRecAff;exports["semigroupCanceler"]=semigroupCanceler;exports["functorParAff"]=functorParAff;exports["applyParAff"]=applyParAff;exports["applicativeParAff"]=applicativeParAff;exports["parallelParAff"]=parallelParAff})(PS["Control.Monad.Aff"]=PS["Control.Monad.Aff"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_Internal=PS["Control.Monad.Aff.Internal"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Function=PS["Data.Function"];var Control_Bind=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var fromAVBox=Unsafe_Coerce.unsafeCoerce;var killVar=function(q){return function(e){return fromAVBox(Control_Monad_Aff_Internal._killVar(Control_Monad_Aff.nonCanceler,q,e))}};var makeVar=fromAVBox(Control_Monad_Aff_Internal._makeVar(Control_Monad_Aff.nonCanceler));var putVar=function(q){return function(a){return fromAVBox(Control_Monad_Aff_Internal._putVar(Control_Monad_Aff.nonCanceler,q,a))}};var takeVar=function(q){return fromAVBox(Control_Monad_Aff_Internal._takeVar(Control_Monad_Aff.nonCanceler,q))};exports["killVar"]=killVar;exports["makeVar"]=makeVar;exports["putVar"]=putVar;exports["takeVar"]=takeVar})(PS["Control.Monad.Aff.AVar"]=PS["Control.Monad.Aff.AVar"]||{});(function(exports){"use strict";var Control_Monad_Aff=PS["Control.Monad.Aff"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var unsafeCoerceAff=Unsafe_Coerce.unsafeCoerce;exports["unsafeCoerceAff"]=unsafeCoerceAff})(PS["Control.Monad.Aff.Unsafe"]=PS["Control.Monad.Aff.Unsafe"]||{});(function(exports){"use strict";exports.log=function(s){return function(){console.log(s);return{}}};exports.error=function(s){return function(){console.error(s);return{}}}})(PS["Control.Monad.Eff.Console"]=PS["Control.Monad.Eff.Console"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Show=PS["Data.Show"];var Data_Unit=PS["Data.Unit"];var logShow=function(dictShow){return function(a){return $foreign.log(Data_Show.show(dictShow)(a))}};exports["logShow"]=logShow;exports["error"]=$foreign.error})(PS["Control.Monad.Eff.Console"]=PS["Control.Monad.Eff.Console"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Reader_Trans=PS["Control.Monad.Reader.Trans"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var MonadFork=function(__superclass_Control$dotMonad$dotMonad_0,fork){this["__superclass_Control.Monad.Monad_0"]=__superclass_Control$dotMonad$dotMonad_0;this.fork=fork};var monadForkAff=new MonadFork(function(){return Control_Monad_Aff.monadAff},function($3){return Data_Functor.map(Control_Monad_Aff.functorAff)(Control_Monad_Aff.cancel)(Control_Monad_Aff.forkAff($3))});var fork=function(dict){return dict.fork};exports["MonadFork"]=MonadFork;exports["fork"]=fork;exports["monadForkAff"]=monadForkAff})(PS["Control.Monad.Fork.Class"]=PS["Control.Monad.Fork.Class"]||{});(function(exports){"use strict";exports.zipAll=function(f){return function(xs){return function(ys){var l=xs.length<ys.length?xs.length:ys.length;for(var i=0;i<l;i++){if(!f(xs[i])(ys[i])){return false}}return true}}}})(PS["Data.Generic"]=PS["Data.Generic"]||{});(function(exports){"use strict";exports.length=function(xs){return xs.length};exports.snoc=function(l){return function(e){var l1=l.slice();l1.push(e);return l1}};exports.sortImpl=function(f){return function(l){return l.slice().sort(function(x,y){return f(x)(y)})}};exports.slice=function(s){return function(e){return function(l){return l.slice(s,e)}}};exports.take=function(n){return function(l){return n<1?[]:l.slice(0,n)}};exports.drop=function(n){return function(l){return n<1?l:l.slice(n)}}})(PS["Data.Array"]=PS["Data.Array"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Plus=PS["Control.Plus"];var Data_Foldable=PS["Data.Foldable"];var Data_Traversable=PS["Data.Traversable"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Eq=PS["Data.Eq"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Category=PS["Control.Category"];var NonEmpty=function(){function NonEmpty(value0,value1){this.value0=value0;this.value1=value1}NonEmpty.create=function(value0){return function(value1){return new NonEmpty(value0,value1)}};return NonEmpty}();var singleton=function(dictPlus){return function(a){return new NonEmpty(a,Control_Plus.empty(dictPlus))}};var showNonEmpty=function(dictShow){return function(dictShow1){return new Data_Show.Show(function(v){return"(NonEmpty "+(Data_Show.show(dictShow)(v.value0)+(" "+(Data_Show.show(dictShow1)(v.value1)+")")))})}};var functorNonEmpty=function(dictFunctor){return new Data_Functor.Functor(function(f){return function(v){return new NonEmpty(f(v.value0),Data_Functor.map(dictFunctor)(f)(v.value1))}})};exports["NonEmpty"]=NonEmpty;exports["singleton"]=singleton;exports["showNonEmpty"]=showNonEmpty;exports["functorNonEmpty"]=functorNonEmpty})(PS["Data.NonEmpty"]=PS["Data.NonEmpty"]||{});(function(exports){"use strict";var $foreign=PS["Data.Array"];var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Lazy=PS["Control.Lazy"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Data_Foldable=PS["Data.Foldable"];var Data_Maybe=PS["Data.Maybe"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Partial_Unsafe=PS["Partial.Unsafe"];var Data_Function=PS["Data.Function"];var Data_Ord=PS["Data.Ord"];var Data_Semiring=PS["Data.Semiring"];var Data_Boolean=PS["Data.Boolean"];var Data_Ordering=PS["Data.Ordering"];var Data_Ring=PS["Data.Ring"];var Data_Eq=PS["Data.Eq"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Control_Apply=PS["Control.Apply"];var Data_Functor=PS["Data.Functor"];var Control_Applicative=PS["Control.Applicative"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Bind=PS["Control.Bind"];var Data_Semigroup=PS["Data.Semigroup"];var Control_Category=PS["Control.Category"];var sortBy=function(comp){return function(xs){var comp$prime=function(x){return function(y){var $51=comp(x)(y);if($51 instanceof Data_Ordering.GT){return 1}if($51 instanceof Data_Ordering.EQ){return 0}if($51 instanceof Data_Ordering.LT){return-1}throw new Error("Failed pattern match at Data.Array line 467, column 15 - line 472, column 1: "+[$51.constructor.name])}};return $foreign.sortImpl(comp$prime)(xs)}};var singleton=function(a){return[a]};var concatMap=Data_Function.flip(Control_Bind.bind(Control_Bind.bindArray));var mapMaybe=function(f){return concatMap(function($78){return Data_Maybe.maybe([])(singleton)(f($78))})};var catMaybes=mapMaybe(Control_Category.id(Control_Category.categoryFn));exports["catMaybes"]=catMaybes;exports["concatMap"]=concatMap;exports["mapMaybe"]=mapMaybe;exports["singleton"]=singleton;exports["sortBy"]=sortBy;exports["drop"]=$foreign.drop;exports["length"]=$foreign.length;exports["snoc"]=$foreign.snoc;exports["take"]=$foreign.take})(PS["Data.Array"]=PS["Data.Array"]||{});(function(exports){"use strict";var $foreign=PS["Data.Generic"];var Prelude=PS["Prelude"];var Data_Array=PS["Data.Array"];var Data_Either=PS["Data.Either"];var Data_Foldable=PS["Data.Foldable"];var Data_Identity=PS["Data.Identity"];var Data_Maybe=PS["Data.Maybe"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_String=PS["Data.String"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Type_Proxy=PS["Type.Proxy"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Data_Ordering=PS["Data.Ordering"];var Data_Eq=PS["Data.Eq"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Ord=PS["Data.Ord"];var Data_Function=PS["Data.Function"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Monoid=PS["Data.Monoid"];var Data_Ring=PS["Data.Ring"];var Data_Boolean=PS["Data.Boolean"];var SProd=function(){function SProd(value0,value1){this.value0=value0;this.value1=value1}SProd.create=function(value0){return function(value1){return new SProd(value0,value1)}};return SProd}();var SRecord=function(){function SRecord(value0){this.value0=value0}SRecord.create=function(value0){return new SRecord(value0)};return SRecord}();var SNumber=function(){function SNumber(value0){this.value0=value0}SNumber.create=function(value0){return new SNumber(value0)};return SNumber}();var SBoolean=function(){function SBoolean(value0){this.value0=value0}SBoolean.create=function(value0){return new SBoolean(value0)};return SBoolean}();var SInt=function(){function SInt(value0){this.value0=value0}SInt.create=function(value0){return new SInt(value0)};return SInt}();var SString=function(){function SString(value0){this.value0=value0}SString.create=function(value0){return new SString(value0)};return SString}();var SChar=function(){
function SChar(value0){this.value0=value0}SChar.create=function(value0){return new SChar(value0)};return SChar}();var SArray=function(){function SArray(value0){this.value0=value0}SArray.create=function(value0){return new SArray(value0)};return SArray}();var SUnit=function(){function SUnit(){}SUnit.value=new SUnit;return SUnit}();var SigProd=function(){function SigProd(value0,value1){this.value0=value0;this.value1=value1}SigProd.create=function(value0){return function(value1){return new SigProd(value0,value1)}};return SigProd}();var SigInt=function(){function SigInt(){}SigInt.value=new SigInt;return SigInt}();var Generic=function(fromSpine,toSignature,toSpine){this.fromSpine=fromSpine;this.toSignature=toSignature;this.toSpine=toSpine};var toSpine=function(dict){return dict.toSpine};var toSignature=function(dict){return dict.toSignature};var genericInt=new Generic(function(v){if(v instanceof SInt){return new Data_Maybe.Just(v.value0)}return Data_Maybe.Nothing.value},function(v){return SigInt.value},SInt.create);var fromSpine=function(dict){return dict.fromSpine};var force=function(f){return f(Data_Unit.unit)};var eqThunk=function(dictEq){return function(x){return function(y){return Data_Eq.eq(dictEq)(force(x))(force(y))}}};var eqRecordSigs=function(dictEq){return function(arr1){return function(arr2){var labelCompare=function(r1){return function(r2){return Data_Ord.compare(Data_Ord.ordString)(r1.recLabel)(r2.recLabel)}};var sorted1=Data_Array.sortBy(labelCompare)(arr1);var sorted2=Data_Array.sortBy(labelCompare)(arr2);var doCmp=function(x){return function(y){return x.recLabel===y.recLabel&&Data_Eq.eq(dictEq)(force(x.recValue))(force(y.recValue))}};return Data_Array.length(arr1)===Data_Array.length(arr2)&&$foreign.zipAll(doCmp)(sorted1)(sorted2)}}};var eqGenericSpine=new Data_Eq.Eq(function(v){return function(v1){if(v instanceof SProd&&v1 instanceof SProd){return v.value0===v1.value0&&(Data_Array.length(v.value1)===Data_Array.length(v1.value1)&&$foreign.zipAll(eqThunk(eqGenericSpine))(v.value1)(v1.value1))}if(v instanceof SRecord&&v1 instanceof SRecord){return eqRecordSigs(eqGenericSpine)(v.value0)(v1.value0)}if(v instanceof SNumber&&v1 instanceof SNumber){return v.value0===v1.value0}if(v instanceof SBoolean&&v1 instanceof SBoolean){return v.value0===v1.value0}if(v instanceof SInt&&v1 instanceof SInt){return v.value0===v1.value0}if(v instanceof SString&&v1 instanceof SString){return v.value0===v1.value0}if(v instanceof SChar&&v1 instanceof SChar){return v.value0===v1.value0}if(v instanceof SArray&&v1 instanceof SArray){return Data_Array.length(v.value0)===Data_Array.length(v1.value0)&&$foreign.zipAll(eqThunk(eqGenericSpine))(v.value0)(v1.value0)}if(v instanceof SUnit&&v1 instanceof SUnit){return true}return false}});var gEq=function(dictGeneric){return function(x){return function(y){return Data_Eq.eq(eqGenericSpine)(toSpine(dictGeneric)(x))(toSpine(dictGeneric)(y))}}};exports["SigProd"]=SigProd;exports["SigInt"]=SigInt;exports["SProd"]=SProd;exports["SRecord"]=SRecord;exports["SNumber"]=SNumber;exports["SBoolean"]=SBoolean;exports["SInt"]=SInt;exports["SString"]=SString;exports["SChar"]=SChar;exports["SArray"]=SArray;exports["SUnit"]=SUnit;exports["Generic"]=Generic;exports["fromSpine"]=fromSpine;exports["gEq"]=gEq;exports["toSignature"]=toSignature;exports["toSpine"]=toSpine;exports["genericInt"]=genericInt;exports["eqGenericSpine"]=eqGenericSpine})(PS["Data.Generic"]=PS["Data.Generic"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Apply=PS["Control.Apply"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Data_Foldable=PS["Data.Foldable"];var Data_Generic=PS["Data.Generic"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Data_Unit=PS["Data.Unit"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Functor=PS["Data.Functor"];var Data_Eq=PS["Data.Eq"];var Data_Function=PS["Data.Function"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Applicative=PS["Control.Applicative"];var Control_Category=PS["Control.Category"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Nil=function(){function Nil(){}Nil.value=new Nil;return Nil}();var Cons=function(){function Cons(value0,value1){this.value0=value0;this.value1=value1}Cons.create=function(value0){return function(value1){return new Cons(value0,value1)}};return Cons}();var NonEmptyList=function(x){return x};var semigroupList=new Data_Semigroup.Semigroup(function(v){return function(ys){if(v instanceof Nil){return ys}if(v instanceof Cons){return new Cons(v.value0,Data_Semigroup.append(semigroupList)(v.value1)(ys))}throw new Error("Failed pattern match at Data.List.Types line 53, column 3 - line 53, column 21: "+[v.constructor.name,ys.constructor.name])}});var foldableList=new Data_Foldable.Foldable(function(dictMonoid){return function(f){return Data_Foldable.foldl(foldableList)(function(acc){return function($133){return Data_Semigroup.append(dictMonoid["__superclass_Data.Semigroup.Semigroup_0"]())(acc)(f($133))}})(Data_Monoid.mempty(dictMonoid))}},function(f){var go=function(__copy_b){return function(__copy_v){var b=__copy_b;var v=__copy_v;tco:while(true){if(v instanceof Nil){return b}if(v instanceof Cons){var __tco_b=f(b)(v.value0);var __tco_v=v.value1;b=__tco_b;v=__tco_v;continue tco}throw new Error("Failed pattern match at Data.List.Types line 67, column 3 - line 70, column 34: "+[b.constructor.name,v.constructor.name])}}};return go},function(f){return function(b){return function(as){var rev=function(__copy_acc){return function(__copy_v){var acc=__copy_acc;var v=__copy_v;tco:while(true){if(v instanceof Nil){return acc}if(v instanceof Cons){var __tco_acc=new Cons(v.value0,acc);var __tco_v=v.value1;acc=__tco_acc;v=__tco_v;continue tco}throw new Error("Failed pattern match at Data.List.Types line 63, column 3 - line 66, column 40: "+[acc.constructor.name,v.constructor.name])}}};return Data_Foldable.foldl(foldableList)(Data_Function.flip(f))(b)(rev(Nil.value)(as))}}});var functorList=new Data_Functor.Functor(function(f){return Data_Foldable.foldr(foldableList)(function(x){return function(acc){return new Cons(f(x),acc)}})(Nil.value)});var functorNonEmptyList=Data_NonEmpty.functorNonEmpty(functorList);var showList=function(dictShow){return new Data_Show.Show(function(v){if(v instanceof Nil){return"Nil"}return"("+(Data_Foldable.intercalate(foldableList)(Data_Monoid.monoidString)(" : ")(Data_Functor.map(functorList)(Data_Show.show(dictShow))(v))+" : Nil)")})};var showNonEmptyList=function(dictShow){return new Data_Show.Show(function(v){return"(NonEmptyList "+(Data_Show.show(Data_NonEmpty.showNonEmpty(dictShow)(showList(dictShow)))(v)+")")})};var traversableList=new Data_Traversable.Traversable(function(){return foldableList},function(){return functorList},function(dictApplicative){return Data_Traversable.traverse(traversableList)(dictApplicative)(Control_Category.id(Control_Category.categoryFn))},function(dictApplicative){return function(f){return function($134){return Data_Functor.map(dictApplicative["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())(Data_Foldable.foldl(foldableList)(Data_Function.flip(Cons.create))(Nil.value))(Data_Foldable.foldl(foldableList)(function(acc){return function($135){return Control_Apply.lift2(dictApplicative["__superclass_Control.Apply.Apply_0"]())(Data_Function.flip(Cons.create))(acc)(f($135))}})(Control_Applicative.pure(dictApplicative)(Nil.value))($134))}}});var applyList=new Control_Apply.Apply(function(){return functorList},function(v){return function(v1){if(v instanceof Nil){return Nil.value}if(v instanceof Cons){return Data_Semigroup.append(semigroupList)(Data_Functor.map(functorList)(v.value0)(v1))(Control_Apply.apply(applyList)(v.value1)(v1))}throw new Error("Failed pattern match at Data.List.Types line 85, column 3 - line 85, column 20: "+[v.constructor.name,v1.constructor.name])}});var applyNonEmptyList=new Control_Apply.Apply(function(){return functorNonEmptyList},function(v){return function(v1){return new Data_NonEmpty.NonEmpty(v.value0(v1.value0),Data_Semigroup.append(semigroupList)(Control_Apply.apply(applyList)(v.value1)(new Cons(v1.value0,Nil.value)))(Control_Apply.apply(applyList)(new Cons(v.value0,v.value1))(v1.value1)))}});var applicativeList=new Control_Applicative.Applicative(function(){return applyList},function(a){return new Cons(a,Nil.value)});var altList=new Control_Alt.Alt(function(){return functorList},Data_Semigroup.append(semigroupList));var plusList=new Control_Plus.Plus(function(){return altList},Nil.value);var applicativeNonEmptyList=new Control_Applicative.Applicative(function(){return applyNonEmptyList},function($137){return NonEmptyList(Data_NonEmpty.singleton(plusList)($137))});exports["Nil"]=Nil;exports["Cons"]=Cons;exports["NonEmptyList"]=NonEmptyList;exports["showList"]=showList;exports["semigroupList"]=semigroupList;exports["functorList"]=functorList;exports["foldableList"]=foldableList;exports["traversableList"]=traversableList;exports["applyList"]=applyList;exports["applicativeList"]=applicativeList;exports["altList"]=altList;exports["plusList"]=plusList;exports["showNonEmptyList"]=showNonEmptyList;exports["functorNonEmptyList"]=functorNonEmptyList;exports["applyNonEmptyList"]=applyNonEmptyList;exports["applicativeNonEmptyList"]=applicativeNonEmptyList})(PS["Data.List.Types"]=PS["Data.List.Types"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Lazy=PS["Control.Lazy"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Foldable=PS["Data.Foldable"];var Data_List_Types=PS["Data.List.Types"];var Data_Maybe=PS["Data.Maybe"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Data_Functor=PS["Data.Functor"];var Data_Ring=PS["Data.Ring"];var Data_Eq=PS["Data.Eq"];var Data_Ordering=PS["Data.Ordering"];var Data_Boolean=PS["Data.Boolean"];var Data_Function=PS["Data.Function"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Ord=PS["Data.Ord"];var Data_Semiring=PS["Data.Semiring"];var Control_Bind=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var Control_Apply=PS["Control.Apply"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Semigroup=PS["Data.Semigroup"];var Control_Category=PS["Control.Category"];var reverse=function(){var go=function(__copy_acc){return function(__copy_v){var acc=__copy_acc;var v=__copy_v;tco:while(true){if(v instanceof Data_List_Types.Nil){return acc}if(v instanceof Data_List_Types.Cons){var __tco_acc=new Data_List_Types.Cons(v.value0,acc);var __tco_v=v.value1;acc=__tco_acc;v=__tco_v;continue tco}throw new Error("Failed pattern match at Data.List line 352, column 1 - line 355, column 36: "+[acc.constructor.name,v.constructor.name])}}};return go(Data_List_Types.Nil.value)}();exports["reverse"]=reverse})(PS["Data.List"]=PS["Data.List"]||{});(function(exports){"use strict";var Data_List=PS["Data.List"];var Data_Maybe=PS["Data.Maybe"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var Data_Tuple=PS["Data.Tuple"];var Data_List_Types=PS["Data.List.Types"];var CatQueue=function(){function CatQueue(value0,value1){this.value0=value0;this.value1=value1}CatQueue.create=function(value0){return function(value1){return new CatQueue(value0,value1)}};return CatQueue}();var uncons=function(__copy_v){var v=__copy_v;tco:while(true){if(v.value0 instanceof Data_List_Types.Nil&&v.value1 instanceof Data_List_Types.Nil){return Data_Maybe.Nothing.value}if(v.value0 instanceof Data_List_Types.Nil){var __tco_v=new CatQueue(Data_List.reverse(v.value1),Data_List_Types.Nil.value);v=__tco_v;continue tco}if(v.value0 instanceof Data_List_Types.Cons){return new Data_Maybe.Just(new Data_Tuple.Tuple(v.value0.value0,new CatQueue(v.value0.value1,v.value1)))}throw new Error("Failed pattern match at Data.CatQueue line 51, column 1 - line 51, column 36: "+[v.constructor.name])}};var snoc=function(v){return function(a){return new CatQueue(v.value0,new Data_List_Types.Cons(a,v.value1))}};var $$null=function(v){if(v.value0 instanceof Data_List_Types.Nil&&v.value1 instanceof Data_List_Types.Nil){return true}return false};var empty=new CatQueue(Data_List_Types.Nil.value,Data_List_Types.Nil.value);exports["CatQueue"]=CatQueue;exports["empty"]=empty;exports["null"]=$$null;exports["snoc"]=snoc;exports["uncons"]=uncons})(PS["Data.CatQueue"]=PS["Data.CatQueue"]||{});(function(exports){"use strict";var Data_CatQueue=PS["Data.CatQueue"];var Data_Foldable=PS["Data.Foldable"];var Data_List=PS["Data.List"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_NaturalTransformation=PS["Data.NaturalTransformation"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Data_List_Types=PS["Data.List.Types"];var CatNil=function(){function CatNil(){}CatNil.value=new CatNil;return CatNil}();var CatCons=function(){function CatCons(value0,value1){this.value0=value0;this.value1=value1}CatCons.create=function(value0){return function(value1){return new CatCons(value0,value1)}};return CatCons}();var link=function(v){return function(cat){if(v instanceof CatNil){return cat}if(v instanceof CatCons){return new CatCons(v.value0,Data_CatQueue.snoc(v.value1)(cat))}throw new Error("Failed pattern match at Data.CatList line 111, column 1 - line 111, column 22: "+[v.constructor.name,cat.constructor.name])}};var foldr=function(k){return function(b){return function(q){var foldl=function(__copy_v){return function(__copy_c){return function(__copy_v1){var v=__copy_v;var c=__copy_c;var v1=__copy_v1;tco:while(true){if(v1 instanceof Data_List_Types.Nil){return c}if(v1 instanceof Data_List_Types.Cons){var __tco_v=v;var __tco_c=v(c)(v1.value0);var __tco_v1=v1.value1;v=__tco_v;c=__tco_c;v1=__tco_v1;continue tco}throw new Error("Failed pattern match at Data.CatList line 126, column 3 - line 126, column 22: "+[v.constructor.name,c.constructor.name,v1.constructor.name])}}}};var go=function(__copy_xs){return function(__copy_ys){var xs=__copy_xs;var ys=__copy_ys;tco:while(true){var $33=Data_CatQueue.uncons(xs);if($33 instanceof Data_Maybe.Nothing){return foldl(function(x){return function(i){return i(x)}})(b)(ys)}if($33 instanceof Data_Maybe.Just){var __tco_ys=new Data_List_Types.Cons(k($33.value0.value0),ys);xs=$33.value0.value1;ys=__tco_ys;continue tco}throw new Error("Failed pattern match at Data.CatList line 121, column 14 - line 123, column 67: "+[$33.constructor.name])}}};return go(q)(Data_List_Types.Nil.value)}}};var uncons=function(v){if(v instanceof CatNil){return Data_Maybe.Nothing.value}if(v instanceof CatCons){return new Data_Maybe.Just(new Data_Tuple.Tuple(v.value0,function(){var $38=Data_CatQueue["null"](v.value1);if($38){return CatNil.value}if(!$38){return foldr(link)(CatNil.value)(v.value1)}throw new Error("Failed pattern match at Data.CatList line 103, column 39 - line 103, column 89: "+[$38.constructor.name])}()))}throw new Error("Failed pattern match at Data.CatList line 102, column 1 - line 102, column 24: "+[v.constructor.name])};var empty=CatNil.value;var append=function(v){return function(v1){if(v1 instanceof CatNil){return v}if(v instanceof CatNil){return v1}return link(v)(v1)}};var semigroupCatList=new Data_Semigroup.Semigroup(append);var snoc=function(cat){return function(a){return append(cat)(new CatCons(a,Data_CatQueue.empty))}};exports["CatNil"]=CatNil;exports["CatCons"]=CatCons;exports["append"]=append;exports["empty"]=empty;exports["snoc"]=snoc;exports["uncons"]=uncons;exports["semigroupCatList"]=semigroupCatList})(PS["Data.CatList"]=PS["Data.CatList"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Data_CatList=PS["Data.CatList"];var Data_Either=PS["Data.Either"];var Data_Inject=PS["Data.Inject"];var Data_Maybe=PS["Data.Maybe"];var Data_Tuple=PS["Data.Tuple"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Functor=PS["Data.Functor"];var Control_Bind=PS["Control.Bind"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Monad=PS["Control.Monad"];var Data_Semigroup=PS["Data.Semigroup"];var Free=function(){function Free(value0,value1){this.value0=value0;this.value1=value1}Free.create=function(value0){return function(value1){return new Free(value0,value1)}};return Free}();var Return=function(){function Return(value0){this.value0=value0}Return.create=function(value0){return new Return(value0)};return Return}();var Bind=function(){function Bind(value0,value1){this.value0=value0;this.value1=value1}Bind.create=function(value0){return function(value1){return new Bind(value0,value1)}};return Bind}();var toView=function(__copy_v){var v=__copy_v;tco:while(true){var runExpF=function(v2){return v2};var concatF=function(v2){return function(r){return new Free(v2.value0,Data_Semigroup.append(Data_CatList.semigroupCatList)(v2.value1)(r))}};if(v.value0 instanceof Return){var $21=Data_CatList.uncons(v.value1);if($21 instanceof Data_Maybe.Nothing){return new Return(Unsafe_Coerce.unsafeCoerce(v.value0.value0))}if($21 instanceof Data_Maybe.Just){var __tco_v=Unsafe_Coerce.unsafeCoerce(concatF(runExpF($21.value0.value0)(v.value0.value0))($21.value0.value1));v=__tco_v;continue tco}throw new Error("Failed pattern match at Control.Monad.Free line 173, column 7 - line 177, column 64: "+[$21.constructor.name])}if(v.value0 instanceof Bind){return new Bind(v.value0.value0,function(a){return Unsafe_Coerce.unsafeCoerce(concatF(v.value0.value1(a))(v.value1))})}throw new Error("Failed pattern match at Control.Monad.Free line 171, column 3 - line 179, column 56: "+[v.value0.constructor.name])}};var fromView=function(f){return new Free(Unsafe_Coerce.unsafeCoerce(f),Data_CatList.empty)};var freeMonad=new Control_Monad.Monad(function(){return freeApplicative},function(){return freeBind});var freeFunctor=new Data_Functor.Functor(function(k){return function(f){return Control_Bind.bindFlipped(freeBind)(function($57){return Control_Applicative.pure(freeApplicative)(k($57))})(f)}});var freeBind=new Control_Bind.Bind(function(){return freeApply},function(v){return function(k){return new Free(v.value0,Data_CatList.snoc(v.value1)(Unsafe_Coerce.unsafeCoerce(k)))}});var freeApply=new Control_Apply.Apply(function(){return freeFunctor},Control_Monad.ap(freeMonad));var freeApplicative=new Control_Applicative.Applicative(function(){return freeApply},function($58){return fromView(Return.create($58))});var liftF=function(f){return fromView(new Bind(Unsafe_Coerce.unsafeCoerce(f),function($59){return Control_Applicative.pure(freeApplicative)(Unsafe_Coerce.unsafeCoerce($59))}))};var foldFree=function(dictMonadRec){return function(k){var go=function(f){var $53=toView(f);if($53 instanceof Return){return Data_Functor.map(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())(Control_Monad_Rec_Class.Done.create)(Control_Applicative.pure(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Applicative.Applicative_0"]())($53.value0))}if($53 instanceof Bind){return Data_Functor.map(dictMonadRec["__superclass_Control.Monad.Monad_0"]()["__superclass_Control.Bind.Bind_1"]()["__superclass_Control.Apply.Apply_0"]()["__superclass_Data.Functor.Functor_0"]())(function($61){return Control_Monad_Rec_Class.Loop.create($53.value1($61))})(k($53.value0))}throw new Error("Failed pattern match at Control.Monad.Free line 114, column 10 - line 116, column 37: "+[$53.constructor.name])};return Control_Monad_Rec_Class.tailRecM(dictMonadRec)(go)}};exports["foldFree"]=foldFree;exports["liftF"]=liftF;exports["freeFunctor"]=freeFunctor;exports["freeBind"]=freeBind;exports["freeApplicative"]=freeApplicative;exports["freeApply"]=freeApply;exports["freeMonad"]=freeMonad})(PS["Control.Monad.Free"]=PS["Control.Monad.Free"]||{});(function(exports){"use strict";exports.preventDefault=function(e){return function(){return e.preventDefault()}};exports.stopPropagation=function(e){return function(){return e.stopPropagation()}}})(PS["DOM.Event.Event"]=PS["DOM.Event.Event"]||{});(function(exports){"use strict";exports.parseJSONImpl=function(left,right,str){try{return right(JSON.parse(str))}catch(e){return left(e.toString())}};exports.toForeign=function(value){return value};exports.unsafeFromForeign=function(value){return value};exports.typeOf=function(value){return typeof value};exports.tagOf=function(value){return Object.prototype.toString.call(value).slice(8,-1)};exports.isNull=function(value){return value===null};exports.isUndefined=function(value){return value===undefined}})(PS["Data.Foreign"]=PS["Data.Foreign"]||{});(function(exports){"use strict";exports.fromNumberImpl=function(just){return function(nothing){return function(n){return(n|0)===n?just(n):nothing}}};exports.toNumber=function(n){return n}})(PS["Data.Int"]=PS["Data.Int"]||{});(function(exports){"use strict";exports.atan2=function(y){return function(x){return Math.atan2(y,x)}};exports.cos=Math.cos;exports.floor=Math.floor;exports.max=function(n1){return function(n2){return Math.max(n1,n2)}};exports.round=Math.round;exports.sin=Math.sin;exports.sqrt=Math.sqrt;exports.pi=Math.PI})(PS["Math"]=PS["Math"]||{});(function(exports){"use strict";var $foreign=PS["Math"];exports["atan2"]=$foreign.atan2;exports["cos"]=$foreign.cos;exports["floor"]=$foreign.floor;exports["max"]=$foreign.max;exports["pi"]=$foreign.pi;exports["round"]=$foreign.round;exports["sin"]=$foreign.sin;exports["sqrt"]=$foreign.sqrt})(PS["Math"]=PS["Math"]||{});(function(exports){"use strict";var $foreign=PS["Data.Int"];var Data_Boolean=PS["Data.Boolean"];var Data_BooleanAlgebra=PS["Data.BooleanAlgebra"];var Data_Bounded=PS["Data.Bounded"];var Data_Eq=PS["Data.Eq"];var Data_Function=PS["Data.Function"];var Data_Int_Bits=PS["Data.Int.Bits"];var Data_Maybe=PS["Data.Maybe"];var Data_Ord=PS["Data.Ord"];var $$Math=PS["Math"];var Partial_Unsafe=PS["Partial.Unsafe"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var fromNumber=$foreign.fromNumberImpl(Data_Maybe.Just.create)(Data_Maybe.Nothing.value);var unsafeClamp=function(x){if(x>=$foreign.toNumber(Data_Bounded.top(Data_Bounded.boundedInt))){return Data_Bounded.top(Data_Bounded.boundedInt)}if(x<=$foreign.toNumber(Data_Bounded.bottom(Data_Bounded.boundedInt))){return Data_Bounded.bottom(Data_Bounded.boundedInt)}if(Data_Boolean.otherwise){return Partial_Unsafe.unsafePartial(function(dictPartial){return Data_Maybe.fromJust(dictPartial)(fromNumber(x))})}throw new Error("Failed pattern match at Data.Int line 66, column 1 - line 69, column 56: "+[x.constructor.name])};var floor=function($4){return unsafeClamp($$Math.floor($4))};exports["floor"]=floor;exports["fromNumber"]=fromNumber;exports["toNumber"]=$foreign.toNumber})(PS["Data.Int"]=PS["Data.Int"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Foldable=PS["Data.Foldable"];var Data_List=PS["Data.List"];var Data_List_Types=PS["Data.List.Types"];var Data_Maybe=PS["Data.Maybe"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var Data_Semiring=PS["Data.Semiring"];var Data_Function=PS["Data.Function"];var Control_Bind=PS["Control.Bind"];var singleton=function($36){return Data_List_Types.NonEmptyList(Data_NonEmpty.singleton(Data_List_Types.plusList)($36))};exports["singleton"]=singleton})(PS["Data.List.NonEmpty"]=PS["Data.List.NonEmpty"]||{});(function(exports){"use strict";var $foreign=PS["Data.Foreign"];var Prelude=PS["Prelude"];var Control_Monad_Except=PS["Control.Monad.Except"];var Data_Either=PS["Data.Either"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Int=PS["Data.Int"];var Data_List_NonEmpty=PS["Data.List.NonEmpty"];var Data_Maybe=PS["Data.Maybe"];var Data_String=PS["Data.String"];var Data_Eq=PS["Data.Eq"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var Control_Applicative=PS["Control.Applicative"];var Data_Function=PS["Data.Function"];var Data_Boolean=PS["Data.Boolean"];var ForeignError=function(){function ForeignError(value0){this.value0=value0}ForeignError.create=function(value0){return new ForeignError(value0)};return ForeignError}();var TypeMismatch=function(){function TypeMismatch(value0,value1){this.value0=value0;this.value1=value1}TypeMismatch.create=function(value0){return function(value1){return new TypeMismatch(value0,value1)}};return TypeMismatch}();var ErrorAtIndex=function(){function ErrorAtIndex(value0,value1){this.value0=value0;this.value1=value1}ErrorAtIndex.create=function(value0){return function(value1){return new ErrorAtIndex(value0,value1)}};return ErrorAtIndex}();var ErrorAtProperty=function(){function ErrorAtProperty(value0,value1){this.value0=value0;this.value1=value1}ErrorAtProperty.create=function(value0){return function(value1){return new ErrorAtProperty(value0,value1)}};return ErrorAtProperty}();var JSONError=function(){function JSONError(value0){this.value0=value0}JSONError.create=function(value0){return new JSONError(value0)};return JSONError}();var showForeignError=new Data_Show.Show(function(v){if(v instanceof ForeignError){return"(ForeignError "+(v.value0+")")}if(v instanceof ErrorAtIndex){return"(ErrorAtIndex "+(Data_Show.show(Data_Show.showInt)(v.value0)+(" "+(Data_Show.show(showForeignError)(v.value1)+")")))}if(v instanceof ErrorAtProperty){return"(ErrorAtProperty "+(Data_Show.show(Data_Show.showString)(v.value0)+(" "+(Data_Show.show(showForeignError)(v.value1)+")")))}if(v instanceof JSONError){return"(JSONError "+(Data_Show.show(Data_Show.showString)(v.value0)+")")}if(v instanceof TypeMismatch){return"(TypeMismatch "+(Data_Show.show(Data_Show.showString)(v.value0)+(" "+(Data_Show.show(Data_Show.showString)(v.value1)+")")))}throw new Error("Failed pattern match at Data.Foreign line 65, column 3 - line 66, column 3: "+[v.constructor.name])});var fail=function($112){return Control_Monad_Error_Class.throwError(Control_Monad_Except_Trans.monadErrorExceptT(Data_Identity.monadIdentity))(Data_List_NonEmpty.singleton($112))};var parseJSON=function(json){return $foreign.parseJSONImpl(function($113){return fail(JSONError.create($113))},Control_Applicative.pure(Control_Monad_Except_Trans.applicativeExceptT(Data_Identity.monadIdentity)),json)};var unsafeReadTagged=function(tag){return function(value){if($foreign.tagOf(value)===tag){return Control_Applicative.pure(Control_Monad_Except_Trans.applicativeExceptT(Data_Identity.monadIdentity))($foreign.unsafeFromForeign(value))}if(Data_Boolean.otherwise){return fail(new TypeMismatch(tag,$foreign.tagOf(value)))}throw new Error("Failed pattern match at Data.Foreign line 108, column 1 - line 110, column 54: "+[tag.constructor.name,value.constructor.name])}};var readBoolean=unsafeReadTagged("Boolean");var readNumber=unsafeReadTagged("Number");var readInt=function(value){var error=Data_Either.Left.create(Data_List_NonEmpty.singleton(new TypeMismatch("Int",$foreign.tagOf(value))));var fromNumber=function($114){return Data_Maybe.maybe(error)(Control_Applicative.pure(Data_Either.applicativeEither))(Data_Int.fromNumber($114))};return Control_Monad_Except.mapExcept(Data_Either.either(Data_Function["const"](error))(fromNumber))(readNumber(value))};var readString=unsafeReadTagged("String");exports["ForeignError"]=ForeignError;exports["TypeMismatch"]=TypeMismatch;exports["ErrorAtIndex"]=ErrorAtIndex;exports["ErrorAtProperty"]=ErrorAtProperty;exports["JSONError"]=JSONError;exports["fail"]=fail;exports["parseJSON"]=parseJSON;exports["readBoolean"]=readBoolean;exports["readInt"]=readInt;exports["readNumber"]=readNumber;exports["readString"]=readString;exports["unsafeReadTagged"]=unsafeReadTagged;exports["showForeignError"]=showForeignError;exports["isNull"]=$foreign.isNull;exports["isUndefined"]=$foreign.isUndefined;exports["toForeign"]=$foreign.toForeign;exports["typeOf"]=$foreign.typeOf})(PS["Data.Foreign"]=PS["Data.Foreign"]||{});(function(exports){"use strict";exports.unsafeReadPropImpl=function(f,s,key,value){return value==null?f:s(value[key])};exports.unsafeHasOwnProperty=function(prop,value){return Object.prototype.hasOwnProperty.call(value,prop)};exports.unsafeHasProperty=function(prop,value){return prop in value}})(PS["Data.Foreign.Index"]=PS["Data.Foreign.Index"]||{});(function(exports){"use strict";var $foreign=PS["Data.Foreign.Index"];var Prelude=PS["Prelude"];var Data_Foreign=PS["Data.Foreign"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Function=PS["Data.Function"];var Control_Applicative=PS["Control.Applicative"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Eq=PS["Data.Eq"];var Index=function(errorAt,hasOwnProperty,hasProperty,ix){this.errorAt=errorAt;this.hasOwnProperty=hasOwnProperty;this.hasProperty=hasProperty;this.ix=ix};var unsafeReadProp=function(k){return function(value){return $foreign.unsafeReadPropImpl(Data_Foreign.fail(new Data_Foreign.TypeMismatch("object",Data_Foreign.typeOf(value))),Control_Applicative.pure(Control_Monad_Except_Trans.applicativeExceptT(Data_Identity.monadIdentity)),k,value)}};var prop=unsafeReadProp;var ix=function(dict){return dict.ix};var hasPropertyImpl=function(v){return function(value){if(Data_Foreign.isNull(value)){return false}if(Data_Foreign.isUndefined(value)){return false}if(Data_Foreign.typeOf(value)==="object"||Data_Foreign.typeOf(value)==="function"){return $foreign.unsafeHasProperty(v,value)}return false}};var hasProperty=function(dict){return dict.hasProperty};var hasOwnPropertyImpl=function(v){return function(value){if(Data_Foreign.isNull(value)){return false}if(Data_Foreign.isUndefined(value)){return false}if(Data_Foreign.typeOf(value)==="object"||Data_Foreign.typeOf(value)==="function"){return $foreign.unsafeHasOwnProperty(v,value)}return false}};var indexString=new Index(Data_Foreign.ErrorAtProperty.create,hasOwnPropertyImpl,hasPropertyImpl,Data_Function.flip(prop));

var hasOwnProperty=function(dict){return dict.hasOwnProperty};var errorAt=function(dict){return dict.errorAt};exports["Index"]=Index;exports["errorAt"]=errorAt;exports["hasOwnProperty"]=hasOwnProperty;exports["hasProperty"]=hasProperty;exports["ix"]=ix;exports["prop"]=prop;exports["indexString"]=indexString})(PS["Data.Foreign.Index"]=PS["Data.Foreign.Index"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Alt=PS["Control.Alt"];var Control_Monad_Except=PS["Control.Monad.Except"];var Data_Array=PS["Data.Array"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Either=PS["Data.Either"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Index=PS["Data.Foreign.Index"];var Data_Foreign_Null=PS["Data.Foreign.Null"];var Data_Foreign_NullOrUndefined=PS["Data.Foreign.NullOrUndefined"];var Data_Foreign_Undefined=PS["Data.Foreign.Undefined"];var Data_Maybe=PS["Data.Maybe"];var Data_Traversable=PS["Data.Traversable"];var Control_Applicative=PS["Control.Applicative"];var Data_Functor=PS["Data.Functor"];var Data_Semiring=PS["Data.Semiring"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_List_Types=PS["Data.List.Types"];var Data_Identity=PS["Data.Identity"];var IsForeign=function(read){this.read=read};var read=function(dict){return dict.read};var readWith=function(dictIsForeign){return function(f){return function($23){return Control_Monad_Except.mapExcept(Data_Bifunctor.lmap(Data_Either.bifunctorEither)(f))(read(dictIsForeign)($23))}}};var readProp=function(dictIsForeign){return function(dictIndex){return function(prop){return function(value){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Index.ix(dictIndex)(value)(prop))(readWith(dictIsForeign)(Data_Functor.map(Data_List_Types.functorNonEmptyList)(Data_Foreign_Index.errorAt(dictIndex)(prop))))}}}};var numberIsForeign=new IsForeign(Data_Foreign.readNumber);var intIsForeign=new IsForeign(Data_Foreign.readInt);var booleanIsForeign=new IsForeign(Data_Foreign.readBoolean);exports["IsForeign"]=IsForeign;exports["read"]=read;exports["readProp"]=readProp;exports["readWith"]=readWith;exports["booleanIsForeign"]=booleanIsForeign;exports["numberIsForeign"]=numberIsForeign;exports["intIsForeign"]=intIsForeign})(PS["Data.Foreign.Class"]=PS["Data.Foreign.Class"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Event.Types"];var Prelude=PS["Prelude"];var Data_Either=PS["Data.Either"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];var Data_Newtype=PS["Data.Newtype"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var EventType=function(x){return x};var newtypeEventType=new Data_Newtype.Newtype(function(n){return n},EventType);var mouseEventToEvent=Unsafe_Coerce.unsafeCoerce;var keyboardEventToEvent=Unsafe_Coerce.unsafeCoerce;exports["EventType"]=EventType;exports["keyboardEventToEvent"]=keyboardEventToEvent;exports["mouseEventToEvent"]=mouseEventToEvent;exports["newtypeEventType"]=newtypeEventType})(PS["DOM.Event.Types"]=PS["DOM.Event.Types"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Event.Event"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Enum=PS["Data.Enum"];var Data_Maybe=PS["Data.Maybe"];var DOM=PS["DOM"];var DOM_Event_EventPhase=PS["DOM.Event.EventPhase"];var DOM_Event_Types=PS["DOM.Event.Types"];var DOM_Node_Types=PS["DOM.Node.Types"];var Control_Semigroupoid=PS["Control.Semigroupoid"];exports["preventDefault"]=$foreign.preventDefault;exports["stopPropagation"]=$foreign.stopPropagation})(PS["DOM.Event.Event"]=PS["DOM.Event.Event"]||{});(function(exports){"use strict";exports.eventListener=function(fn){return function(event){return fn(event)()}};exports.addEventListener=function(type){return function(listener){return function(useCapture){return function(target){return function(){target.addEventListener(type,listener,useCapture);return{}}}}}}})(PS["DOM.Event.EventTarget"]=PS["DOM.Event.EventTarget"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Event.EventTarget"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var DOM=PS["DOM"];var DOM_Event_Types=PS["DOM.Event.Types"];exports["addEventListener"]=$foreign.addEventListener;exports["eventListener"]=$foreign.eventListener})(PS["DOM.Event.EventTarget"]=PS["DOM.Event.EventTarget"]||{});(function(exports){"use strict";exports.key=function(e){return e.key}})(PS["DOM.Event.KeyboardEvent"]=PS["DOM.Event.KeyboardEvent"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Event.KeyboardEvent"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Enum=PS["Data.Enum"];var Data_Foreign=PS["Data.Foreign"];var Data_Maybe=PS["Data.Maybe"];var DOM=PS["DOM"];var DOM_Event_Types=PS["DOM.Event.Types"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Bounded=PS["Data.Bounded"];var Control_Semigroupoid=PS["Control.Semigroupoid"];exports["key"]=$foreign.key})(PS["DOM.Event.KeyboardEvent"]=PS["DOM.Event.KeyboardEvent"]||{});(function(exports){"use strict";exports.buttons=function(e){return e.buttons}})(PS["DOM.Event.MouseEvent"]=PS["DOM.Event.MouseEvent"]||{});(function(exports){"use strict";exports["null"]=null;exports.nullable=function(a,r,f){return a==null?r:f(a)};exports.notNull=function(x){return x}})(PS["Data.Nullable"]=PS["Data.Nullable"]||{});(function(exports){"use strict";var $foreign=PS["Data.Nullable"];var Prelude=PS["Prelude"];var Data_Function=PS["Data.Function"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Maybe=PS["Data.Maybe"];var Data_Show=PS["Data.Show"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var toNullable=Data_Maybe.maybe($foreign["null"])($foreign.notNull);var toMaybe=function(n){return $foreign.nullable(n,Data_Maybe.Nothing.value,Data_Maybe.Just.create)};exports["toMaybe"]=toMaybe;exports["toNullable"]=toNullable})(PS["Data.Nullable"]=PS["Data.Nullable"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Event.MouseEvent"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Foreign=PS["Data.Foreign"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var DOM=PS["DOM"];var DOM_Event_Types=PS["DOM.Event.Types"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];exports["buttons"]=$foreign.buttons})(PS["DOM.Event.MouseEvent"]=PS["DOM.Event.MouseEvent"]||{});(function(exports){"use strict";exports.window=function(){return window}})(PS["DOM.HTML"]=PS["DOM.HTML"]||{});(function(exports){"use strict";exports._readHTMLElement=function(failure){return function(success){return function(value){var tag=Object.prototype.toString.call(value);if(tag.indexOf("[object HTML")===0&&tag.indexOf("Element]")===tag.length-8){return success(value)}else{return failure(tag)}}}}})(PS["DOM.HTML.Types"]=PS["DOM.HTML.Types"]||{});(function(exports){"use strict";var $foreign=PS["DOM.HTML.Types"];var Prelude=PS["Prelude"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Either=PS["Data.Either"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];var DOM_Event_Types=PS["DOM.Event.Types"];var DOM_Node_Types=PS["DOM.Node.Types"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Identity=PS["Data.Identity"];var Control_Applicative=PS["Control.Applicative"];var Data_List_Types=PS["Data.List.Types"];var windowToEventTarget=Unsafe_Coerce.unsafeCoerce;var readHTMLElement=$foreign._readHTMLElement(function($0){return Control_Monad_Except_Trans.except(Data_Identity.applicativeIdentity)(Data_Either.Left.create(Control_Applicative.pure(Data_List_Types.applicativeNonEmptyList)(Data_Foreign.TypeMismatch.create("HTMLElement")($0))))})(function($1){return Control_Monad_Except_Trans.except(Data_Identity.applicativeIdentity)(Data_Either.Right.create($1))});var htmlElementToNode=Unsafe_Coerce.unsafeCoerce;var htmlDocumentToParentNode=Unsafe_Coerce.unsafeCoerce;exports["htmlDocumentToParentNode"]=htmlDocumentToParentNode;exports["htmlElementToNode"]=htmlElementToNode;exports["readHTMLElement"]=readHTMLElement;exports["windowToEventTarget"]=windowToEventTarget})(PS["DOM.HTML.Types"]=PS["DOM.HTML.Types"]||{});(function(exports){"use strict";var $foreign=PS["DOM.HTML"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var DOM=PS["DOM"];var DOM_HTML_Types=PS["DOM.HTML.Types"];exports["window"]=$foreign.window})(PS["DOM.HTML"]=PS["DOM.HTML"]||{});(function(exports){"use strict";var DOM_Event_Types=PS["DOM.Event.Types"];var load="load";exports["load"]=load})(PS["DOM.HTML.Event.EventTypes"]=PS["DOM.HTML.Event.EventTypes"]||{});(function(exports){"use strict";exports.document=function(window){return function(){return window.document}}})(PS["DOM.HTML.Window"]=PS["DOM.HTML.Window"]||{});(function(exports){"use strict";var $foreign=PS["DOM.HTML.Window"];var Prelude=PS["Prelude"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var DOM=PS["DOM"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var Data_Functor=PS["Data.Functor"];exports["document"]=$foreign.document})(PS["DOM.HTML.Window"]=PS["DOM.HTML.Window"]||{});(function(exports){"use strict";exports.appendChild=function(node){return function(parent){return function(){return parent.appendChild(node)}}}})(PS["DOM.Node.Node"]=PS["DOM.Node.Node"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Node.Node"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Enum=PS["Data.Enum"];var Data_Nullable=PS["Data.Nullable"];var Data_Maybe=PS["Data.Maybe"];var DOM=PS["DOM"];var DOM_Node_NodeType=PS["DOM.Node.NodeType"];var DOM_Node_Types=PS["DOM.Node.Types"];var Control_Semigroupoid=PS["Control.Semigroupoid"];exports["appendChild"]=$foreign.appendChild})(PS["DOM.Node.Node"]=PS["DOM.Node.Node"]||{});(function(exports){"use strict";exports.querySelector=function(selector){return function(node){return function(){return node.querySelector(selector)}}}})(PS["DOM.Node.ParentNode"]=PS["DOM.Node.ParentNode"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Node.ParentNode"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Nullable=PS["Data.Nullable"];var DOM=PS["DOM"];var DOM_Node_Types=PS["DOM.Node.Types"];exports["querySelector"]=$foreign.querySelector})(PS["DOM.Node.ParentNode"]=PS["DOM.Node.ParentNode"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Either=PS["Data.Either"];var Data_Generic=PS["Data.Generic"];var Data_String=PS["Data.String"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Maybe=PS["Data.Maybe"];var Data_Show=PS["Data.Show"];var Control_Apply=PS["Control.Apply"];var Data_Unit=PS["Data.Unit"];var Data_Semigroup=PS["Data.Semigroup"];var OPTIONS=function(){function OPTIONS(){}OPTIONS.value=new OPTIONS;return OPTIONS}();var GET=function(){function GET(){}GET.value=new GET;return GET}();var HEAD=function(){function HEAD(){}HEAD.value=new HEAD;return HEAD}();var POST=function(){function POST(){}POST.value=new POST;return POST}();var PUT=function(){function PUT(){}PUT.value=new PUT;return PUT}();var DELETE=function(){function DELETE(){}DELETE.value=new DELETE;return DELETE}();var TRACE=function(){function TRACE(){}TRACE.value=new TRACE;return TRACE}();var CONNECT=function(){function CONNECT(){}CONNECT.value=new CONNECT;return CONNECT}();var PROPFIND=function(){function PROPFIND(){}PROPFIND.value=new PROPFIND;return PROPFIND}();var PROPPATCH=function(){function PROPPATCH(){}PROPPATCH.value=new PROPPATCH;return PROPPATCH}();var MKCOL=function(){function MKCOL(){}MKCOL.value=new MKCOL;return MKCOL}();var COPY=function(){function COPY(){}COPY.value=new COPY;return COPY}();var MOVE=function(){function MOVE(){}MOVE.value=new MOVE;return MOVE}();var LOCK=function(){function LOCK(){}LOCK.value=new LOCK;return LOCK}();var UNLOCK=function(){function UNLOCK(){}UNLOCK.value=new UNLOCK;return UNLOCK}();var PATCH=function(){function PATCH(){}PATCH.value=new PATCH;return PATCH}();var unCustomMethod=function(v){return v};var showMethod=new Data_Show.Show(function(v){if(v instanceof OPTIONS){return"OPTIONS"}if(v instanceof GET){return"GET"}if(v instanceof HEAD){return"HEAD"}if(v instanceof POST){return"POST"}if(v instanceof PUT){return"PUT"}if(v instanceof DELETE){return"DELETE"}if(v instanceof TRACE){return"TRACE"}if(v instanceof CONNECT){return"CONNECT"}if(v instanceof PROPFIND){return"PROPFIND"}if(v instanceof PROPPATCH){return"PROPPATCH"}if(v instanceof MKCOL){return"MKCOL"}if(v instanceof COPY){return"COPY"}if(v instanceof MOVE){return"MOVE"}if(v instanceof LOCK){return"LOCK"}if(v instanceof UNLOCK){return"UNLOCK"}if(v instanceof PATCH){return"PATCH"}throw new Error("Failed pattern match at Data.HTTP.Method line 43, column 3 - line 44, column 3: "+[v.constructor.name])});var print=Data_Either.either(Data_Show.show(showMethod))(unCustomMethod);exports["OPTIONS"]=OPTIONS;exports["GET"]=GET;exports["HEAD"]=HEAD;exports["POST"]=POST;exports["PUT"]=PUT;exports["DELETE"]=DELETE;exports["TRACE"]=TRACE;exports["CONNECT"]=CONNECT;exports["PROPFIND"]=PROPFIND;exports["PROPPATCH"]=PROPPATCH;exports["MKCOL"]=MKCOL;exports["COPY"]=COPY;exports["MOVE"]=MOVE;exports["LOCK"]=LOCK;exports["UNLOCK"]=UNLOCK;exports["PATCH"]=PATCH;exports["print"]=print;exports["unCustomMethod"]=unCustomMethod;exports["showMethod"]=showMethod})(PS["Data.HTTP.Method"]=PS["Data.HTTP.Method"]||{});(function(exports){"use strict";exports.force=function(l){return l.force()}})(PS["Data.Lazy"]=PS["Data.Lazy"]||{});(function(exports){"use strict";var $foreign=PS["Data.Lazy"];var Prelude=PS["Prelude"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Control_Lazy=PS["Control.Lazy"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Monoid=PS["Data.Monoid"];var Data_Semiring=PS["Data.Semiring"];var Data_Ring=PS["Data.Ring"];var Data_CommutativeRing=PS["Data.CommutativeRing"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Field=PS["Data.Field"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Bounded=PS["Data.Bounded"];var Data_Semigroup=PS["Data.Semigroup"];var Control_Apply=PS["Control.Apply"];var Data_Functor=PS["Data.Functor"];var Data_BooleanAlgebra=PS["Data.BooleanAlgebra"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Data_Function=PS["Data.Function"];var Control_Monad=PS["Control.Monad"];var Data_Show=PS["Data.Show"];var Data_Unit=PS["Data.Unit"];exports["force"]=$foreign.force})(PS["Data.Lazy"]=PS["Data.Lazy"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Foldable=PS["Data.Foldable"];var Data_List=PS["Data.List"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Partial_Unsafe=PS["Partial.Unsafe"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Functor=PS["Data.Functor"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Category=PS["Control.Category"];var Data_List_Types=PS["Data.List.Types"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Ordering=PS["Data.Ordering"];var Data_Function=PS["Data.Function"];var Data_Semiring=PS["Data.Semiring"];var Leaf=function(){function Leaf(){}Leaf.value=new Leaf;return Leaf}();var Two=function(){function Two(value0,value1,value2,value3){this.value0=value0;this.value1=value1;this.value2=value2;this.value3=value3}Two.create=function(value0){return function(value1){return function(value2){return function(value3){return new Two(value0,value1,value2,value3)}}}};return Two}();var Three=function(){function Three(value0,value1,value2,value3,value4,value5,value6){this.value0=value0;this.value1=value1;this.value2=value2;this.value3=value3;this.value4=value4;this.value5=value5;this.value6=value6}Three.create=function(value0){return function(value1){return function(value2){return function(value3){return function(value4){return function(value5){return function(value6){return new Three(value0,value1,value2,value3,value4,value5,value6)}}}}}}};return Three}();var TwoLeft=function(){function TwoLeft(value0,value1,value2){this.value0=value0;this.value1=value1;this.value2=value2}TwoLeft.create=function(value0){return function(value1){return function(value2){return new TwoLeft(value0,value1,value2)}}};return TwoLeft}();var TwoRight=function(){function TwoRight(value0,value1,value2){this.value0=value0;this.value1=value1;this.value2=value2}TwoRight.create=function(value0){return function(value1){return function(value2){return new TwoRight(value0,value1,value2)}}};return TwoRight}();var ThreeLeft=function(){function ThreeLeft(value0,value1,value2,value3,value4,value5){this.value0=value0;this.value1=value1;this.value2=value2;this.value3=value3;this.value4=value4;this.value5=value5}ThreeLeft.create=function(value0){return function(value1){return function(value2){return function(value3){return function(value4){return function(value5){return new ThreeLeft(value0,value1,value2,value3,value4,value5)}}}}}};return ThreeLeft}();var ThreeMiddle=function(){function ThreeMiddle(value0,value1,value2,value3,value4,value5){this.value0=value0;this.value1=value1;this.value2=value2;this.value3=value3;this.value4=value4;this.value5=value5}ThreeMiddle.create=function(value0){return function(value1){return function(value2){return function(value3){return function(value4){return function(value5){return new ThreeMiddle(value0,value1,value2,value3,value4,value5)}}}}}};return ThreeMiddle}();var ThreeRight=function(){function ThreeRight(value0,value1,value2,value3,value4,value5){this.value0=value0;this.value1=value1;this.value2=value2;this.value3=value3;this.value4=value4;this.value5=value5}ThreeRight.create=function(value0){return function(value1){return function(value2){return function(value3){return function(value4){return function(value5){return new ThreeRight(value0,value1,value2,value3,value4,value5)}}}}}};return ThreeRight}();var KickUp=function(){function KickUp(value0,value1,value2,value3){this.value0=value0;this.value1=value1;this.value2=value2;this.value3=value3}KickUp.create=function(value0){return function(value1){return function(value2){return function(value3){return new KickUp(value0,value1,value2,value3)}}}};return KickUp}();var values=function(v){if(v instanceof Leaf){return Data_List_Types.Nil.value}if(v instanceof Two){return Data_Semigroup.append(Data_List_Types.semigroupList)(values(v.value0))(Data_Semigroup.append(Data_List_Types.semigroupList)(Control_Applicative.pure(Data_List_Types.applicativeList)(v.value2))(values(v.value3)))}if(v instanceof Three){return Data_Semigroup.append(Data_List_Types.semigroupList)(values(v.value0))(Data_Semigroup.append(Data_List_Types.semigroupList)(Control_Applicative.pure(Data_List_Types.applicativeList)(v.value2))(Data_Semigroup.append(Data_List_Types.semigroupList)(values(v.value3))(Data_Semigroup.append(Data_List_Types.semigroupList)(Control_Applicative.pure(Data_List_Types.applicativeList)(v.value5))(values(v.value6)))))}throw new Error("Failed pattern match at Data.Map line 391, column 1 - line 391, column 18: "+[v.constructor.name])};var lookup=function(dictOrd){return Partial_Unsafe.unsafePartial(function(dictPartial){return function(k){return function(tree){if(tree instanceof Leaf){return Data_Maybe.Nothing.value}var comp=Data_Ord.compare(dictOrd);var __unused=function(dictPartial1){return function($dollar38){return $dollar38}};return __unused(dictPartial)(function(){if(tree instanceof Two){var $163=comp(k)(tree.value1);if($163 instanceof Data_Ordering.EQ){return new Data_Maybe.Just(tree.value2)}if($163 instanceof Data_Ordering.LT){return lookup(dictOrd)(k)(tree.value0)}return lookup(dictOrd)(k)(tree.value3)}if(tree instanceof Three){var $168=comp(k)(tree.value1);if($168 instanceof Data_Ordering.EQ){return new Data_Maybe.Just(tree.value2)}var $170=comp(k)(tree.value4);if($170 instanceof Data_Ordering.EQ){return new Data_Maybe.Just(tree.value5)}if($168 instanceof Data_Ordering.LT){return lookup(dictOrd)(k)(tree.value0)}if($170 instanceof Data_Ordering.GT){return lookup(dictOrd)(k)(tree.value6)}return lookup(dictOrd)(k)(tree.value3)}throw new Error("Failed pattern match at Data.Map line 133, column 10 - line 147, column 39: "+[tree.constructor.name])}())}}})};var member=function(dictOrd){return function(k){return function(m){return Data_Maybe.isJust(lookup(dictOrd)(k)(m))}}};var keys=function(v){if(v instanceof Leaf){return Data_List_Types.Nil.value}if(v instanceof Two){return Data_Semigroup.append(Data_List_Types.semigroupList)(keys(v.value0))(Data_Semigroup.append(Data_List_Types.semigroupList)(Control_Applicative.pure(Data_List_Types.applicativeList)(v.value1))(keys(v.value3)))}if(v instanceof Three){return Data_Semigroup.append(Data_List_Types.semigroupList)(keys(v.value0))(Data_Semigroup.append(Data_List_Types.semigroupList)(Control_Applicative.pure(Data_List_Types.applicativeList)(v.value1))(Data_Semigroup.append(Data_List_Types.semigroupList)(keys(v.value3))(Data_Semigroup.append(Data_List_Types.semigroupList)(Control_Applicative.pure(Data_List_Types.applicativeList)(v.value4))(keys(v.value6)))))}throw new Error("Failed pattern match at Data.Map line 385, column 1 - line 385, column 16: "+[v.constructor.name])};var functorMap=new Data_Functor.Functor(function(v){return function(v1){if(v1 instanceof Leaf){return Leaf.value}if(v1 instanceof Two){return new Two(Data_Functor.map(functorMap)(v)(v1.value0),v1.value1,v(v1.value2),Data_Functor.map(functorMap)(v)(v1.value3))}if(v1 instanceof Three){return new Three(Data_Functor.map(functorMap)(v)(v1.value0),v1.value1,v(v1.value2),Data_Functor.map(functorMap)(v)(v1.value3),v1.value4,v(v1.value5),Data_Functor.map(functorMap)(v)(v1.value6))}throw new Error("Failed pattern match at Data.Map line 71, column 3 - line 71, column 20: "+[v.constructor.name,v1.constructor.name])}});var fromZipper=function(__copy_dictOrd){return function(__copy_v){return function(__copy_tree){var dictOrd=__copy_dictOrd;var v=__copy_v;var tree=__copy_tree;tco:while(true){if(v instanceof Data_List_Types.Nil){return tree}if(v instanceof Data_List_Types.Cons){if(v.value0 instanceof TwoLeft){var __tco_dictOrd=dictOrd;var __tco_v=v.value1;var __tco_tree=new Two(tree,v.value0.value0,v.value0.value1,v.value0.value2);dictOrd=__tco_dictOrd;v=__tco_v;tree=__tco_tree;continue tco}if(v.value0 instanceof TwoRight){var __tco_dictOrd=dictOrd;var __tco_v=v.value1;var __tco_tree=new Two(v.value0.value0,v.value0.value1,v.value0.value2,tree);dictOrd=__tco_dictOrd;v=__tco_v;tree=__tco_tree;continue tco}if(v.value0 instanceof ThreeLeft){var __tco_dictOrd=dictOrd;var __tco_v=v.value1;var __tco_tree=new Three(tree,v.value0.value0,v.value0.value1,v.value0.value2,v.value0.value3,v.value0.value4,v.value0.value5);dictOrd=__tco_dictOrd;v=__tco_v;tree=__tco_tree;continue tco}if(v.value0 instanceof ThreeMiddle){var __tco_dictOrd=dictOrd;var __tco_v=v.value1;var __tco_tree=new Three(v.value0.value0,v.value0.value1,v.value0.value2,tree,v.value0.value3,v.value0.value4,v.value0.value5);dictOrd=__tco_dictOrd;v=__tco_v;tree=__tco_tree;continue tco}if(v.value0 instanceof ThreeRight){var __tco_dictOrd=dictOrd;var __tco_v=v.value1;var __tco_tree=new Three(v.value0.value0,v.value0.value1,v.value0.value2,v.value0.value3,v.value0.value4,v.value0.value5,tree);dictOrd=__tco_dictOrd;v=__tco_v;tree=__tco_tree;continue tco}throw new Error("Failed pattern match at Data.Map line 224, column 3 - line 229, column 88: "+[v.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map line 222, column 1 - line 222, column 27: "+[v.constructor.name,tree.constructor.name])}}}};var insert=function(dictOrd){var up=function(__copy_v){return function(__copy_v1){var v=__copy_v;var v1=__copy_v1;tco:while(true){if(v instanceof Data_List_Types.Nil){return new Two(v1.value0,v1.value1,v1.value2,v1.value3)}if(v instanceof Data_List_Types.Cons){if(v.value0 instanceof TwoLeft){return fromZipper(dictOrd)(v.value1)(new Three(v1.value0,v1.value1,v1.value2,v1.value3,v.value0.value0,v.value0.value1,v.value0.value2))}if(v.value0 instanceof TwoRight){return fromZipper(dictOrd)(v.value1)(new Three(v.value0.value0,v.value0.value1,v.value0.value2,v1.value0,v1.value1,v1.value2,v1.value3))}if(v.value0 instanceof ThreeLeft){var __tco_v=v.value1;var __tco_v1=new KickUp(new Two(v1.value0,v1.value1,v1.value2,v1.value3),v.value0.value0,v.value0.value1,new Two(v.value0.value2,v.value0.value3,v.value0.value4,v.value0.value5));v=__tco_v;v1=__tco_v1;continue tco}if(v.value0 instanceof ThreeMiddle){var __tco_v=v.value1;var __tco_v1=new KickUp(new Two(v.value0.value0,v.value0.value1,v.value0.value2,v1.value0),v1.value1,v1.value2,new Two(v1.value3,v.value0.value3,v.value0.value4,v.value0.value5));v=__tco_v;v1=__tco_v1;continue tco}if(v.value0 instanceof ThreeRight){var __tco_v=v.value1;var __tco_v1=new KickUp(new Two(v.value0.value0,v.value0.value1,v.value0.value2,v.value0.value3),v.value0.value4,v.value0.value5,new Two(v1.value0,v1.value1,v1.value2,v1.value3));v=__tco_v;v1=__tco_v1;continue tco}throw new Error("Failed pattern match at Data.Map line 260, column 5 - line 265, column 104: "+[v.value0.constructor.name,v1.constructor.name])}throw new Error("Failed pattern match at Data.Map line 258, column 3 - line 258, column 54: "+[v.constructor.name,v1.constructor.name])}}};var comp=Data_Ord.compare(dictOrd);var down=function(__copy_ctx){return function(__copy_k){return function(__copy_v){return function(__copy_v1){var ctx=__copy_ctx;var k=__copy_k;var v=__copy_v;var v1=__copy_v1;tco:while(true){if(v1 instanceof Leaf){return up(ctx)(new KickUp(Leaf.value,k,v,Leaf.value))}if(v1 instanceof Two){var $291=comp(k)(v1.value1);if($291 instanceof Data_Ordering.EQ){return fromZipper(dictOrd)(ctx)(new Two(v1.value0,k,v,v1.value3))}if($291 instanceof Data_Ordering.LT){var __tco_ctx=new Data_List_Types.Cons(new TwoLeft(v1.value1,v1.value2,v1.value3),ctx);var __tco_k=k;var __tco_v=v;var __tco_v1=v1.value0;ctx=__tco_ctx;k=__tco_k;v=__tco_v;v1=__tco_v1;continue tco}var __tco_ctx=new Data_List_Types.Cons(new TwoRight(v1.value0,v1.value1,v1.value2),ctx);var __tco_k=k;var __tco_v=v;var __tco_v1=v1.value3;ctx=__tco_ctx;k=__tco_k;v=__tco_v;v1=__tco_v1;continue tco}if(v1 instanceof Three){var $296=comp(k)(v1.value1);if($296 instanceof Data_Ordering.EQ){return fromZipper(dictOrd)(ctx)(new Three(v1.value0,k,v,v1.value3,v1.value4,v1.value5,v1.value6))}var $298=comp(k)(v1.value4);if($298 instanceof Data_Ordering.EQ){return fromZipper(dictOrd)(ctx)(new Three(v1.value0,v1.value1,v1.value2,v1.value3,k,v,v1.value6))}if($296 instanceof Data_Ordering.LT){var __tco_ctx=new Data_List_Types.Cons(new ThreeLeft(v1.value1,v1.value2,v1.value3,v1.value4,v1.value5,v1.value6),ctx);var __tco_k=k;var __tco_v=v;var __tco_v1=v1.value0;ctx=__tco_ctx;k=__tco_k;v=__tco_v;v1=__tco_v1;continue tco}if($296 instanceof Data_Ordering.GT&&$298 instanceof Data_Ordering.LT){var __tco_ctx=new Data_List_Types.Cons(new ThreeMiddle(v1.value0,v1.value1,v1.value2,v1.value4,v1.value5,v1.value6),ctx);var __tco_k=k;var __tco_v=v;var __tco_v1=v1.value3;ctx=__tco_ctx;k=__tco_k;v=__tco_v;v1=__tco_v1;continue tco}var __tco_ctx=new Data_List_Types.Cons(new ThreeRight(v1.value0,v1.value1,v1.value2,v1.value3,v1.value4,v1.value5),ctx);var __tco_k=k;var __tco_v=v;var __tco_v1=v1.value6;ctx=__tco_ctx;k=__tco_k;v=__tco_v;v1=__tco_v1;continue tco}throw new Error("Failed pattern match at Data.Map line 241, column 3 - line 241, column 52: "+[ctx.constructor.name,k.constructor.name,v.constructor.name,v1.constructor.name])}}}}};return down(Data_List_Types.Nil.value)};var pop=function(dictOrd){var up=Partial_Unsafe.unsafePartial(function(dictPartial){return function(ctxs){return function(tree){if(ctxs instanceof Data_List_Types.Nil){return tree}if(ctxs instanceof Data_List_Types.Cons){var __unused=function(dictPartial1){return function($dollar48){return $dollar48}};return __unused(dictPartial)(function(){if(ctxs.value0 instanceof TwoLeft&&(ctxs.value0.value2 instanceof Leaf&&tree instanceof Leaf)){return fromZipper(dictOrd)(ctxs.value1)(new Two(Leaf.value,ctxs.value0.value0,ctxs.value0.value1,Leaf.value))}if(ctxs.value0 instanceof TwoRight&&(ctxs.value0.value0 instanceof Leaf&&tree instanceof Leaf)){return fromZipper(dictOrd)(ctxs.value1)(new Two(Leaf.value,ctxs.value0.value1,ctxs.value0.value2,Leaf.value))}if(ctxs.value0 instanceof TwoLeft&&ctxs.value0.value2 instanceof Two){return up(ctxs.value1)(new Three(tree,ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2.value0,ctxs.value0.value2.value1,ctxs.value0.value2.value2,ctxs.value0.value2.value3))}if(ctxs.value0 instanceof TwoRight&&ctxs.value0.value0 instanceof Two){return up(ctxs.value1)(new Three(ctxs.value0.value0.value0,ctxs.value0.value0.value1,ctxs.value0.value0.value2,ctxs.value0.value0.value3,ctxs.value0.value1,ctxs.value0.value2,tree))}if(ctxs.value0 instanceof TwoLeft&&ctxs.value0.value2 instanceof Three){return fromZipper(dictOrd)(ctxs.value1)(new Two(new Two(tree,ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2.value0),ctxs.value0.value2.value1,ctxs.value0.value2.value2,new Two(ctxs.value0.value2.value3,ctxs.value0.value2.value4,ctxs.value0.value2.value5,ctxs.value0.value2.value6)))}if(ctxs.value0 instanceof TwoRight&&ctxs.value0.value0 instanceof Three){return fromZipper(dictOrd)(ctxs.value1)(new Two(new Two(ctxs.value0.value0.value0,ctxs.value0.value0.value1,ctxs.value0.value0.value2,ctxs.value0.value0.value3),ctxs.value0.value0.value4,ctxs.value0.value0.value5,new Two(ctxs.value0.value0.value6,ctxs.value0.value1,ctxs.value0.value2,tree)))}if(ctxs.value0 instanceof ThreeLeft&&(ctxs.value0.value2 instanceof Leaf&&(ctxs.value0.value5 instanceof Leaf&&tree instanceof Leaf))){return fromZipper(dictOrd)(ctxs.value1)(new Three(Leaf.value,ctxs.value0.value0,ctxs.value0.value1,Leaf.value,ctxs.value0.value3,ctxs.value0.value4,Leaf.value))}if(ctxs.value0 instanceof ThreeMiddle&&(ctxs.value0.value0 instanceof Leaf&&(ctxs.value0.value5 instanceof Leaf&&tree instanceof Leaf))){return fromZipper(dictOrd)(ctxs.value1)(new Three(Leaf.value,ctxs.value0.value1,ctxs.value0.value2,Leaf.value,ctxs.value0.value3,ctxs.value0.value4,Leaf.value))}if(ctxs.value0 instanceof ThreeRight&&(ctxs.value0.value0 instanceof Leaf&&(ctxs.value0.value3 instanceof Leaf&&tree instanceof Leaf))){return fromZipper(dictOrd)(ctxs.value1)(new Three(Leaf.value,ctxs.value0.value1,ctxs.value0.value2,Leaf.value,ctxs.value0.value4,ctxs.value0.value5,Leaf.value))}if(ctxs.value0 instanceof ThreeLeft&&ctxs.value0.value2 instanceof Two){return fromZipper(dictOrd)(ctxs.value1)(new Two(new Three(tree,ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2.value0,ctxs.value0.value2.value1,ctxs.value0.value2.value2,ctxs.value0.value2.value3),ctxs.value0.value3,ctxs.value0.value4,ctxs.value0.value5))}if(ctxs.value0 instanceof ThreeMiddle&&ctxs.value0.value0 instanceof Two){return fromZipper(dictOrd)(ctxs.value1)(new Two(new Three(ctxs.value0.value0.value0,ctxs.value0.value0.value1,ctxs.value0.value0.value2,ctxs.value0.value0.value3,ctxs.value0.value1,ctxs.value0.value2,tree),ctxs.value0.value3,ctxs.value0.value4,ctxs.value0.value5))}if(ctxs.value0 instanceof ThreeMiddle&&ctxs.value0.value5 instanceof Two){return fromZipper(dictOrd)(ctxs.value1)(new Two(ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2,new Three(tree,ctxs.value0.value3,ctxs.value0.value4,ctxs.value0.value5.value0,ctxs.value0.value5.value1,ctxs.value0.value5.value2,ctxs.value0.value5.value3)));

}if(ctxs.value0 instanceof ThreeRight&&ctxs.value0.value3 instanceof Two){return fromZipper(dictOrd)(ctxs.value1)(new Two(ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2,new Three(ctxs.value0.value3.value0,ctxs.value0.value3.value1,ctxs.value0.value3.value2,ctxs.value0.value3.value3,ctxs.value0.value4,ctxs.value0.value5,tree)))}if(ctxs.value0 instanceof ThreeLeft&&ctxs.value0.value2 instanceof Three){return fromZipper(dictOrd)(ctxs.value1)(new Three(new Two(tree,ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2.value0),ctxs.value0.value2.value1,ctxs.value0.value2.value2,new Two(ctxs.value0.value2.value3,ctxs.value0.value2.value4,ctxs.value0.value2.value5,ctxs.value0.value2.value6),ctxs.value0.value3,ctxs.value0.value4,ctxs.value0.value5))}if(ctxs.value0 instanceof ThreeMiddle&&ctxs.value0.value0 instanceof Three){return fromZipper(dictOrd)(ctxs.value1)(new Three(new Two(ctxs.value0.value0.value0,ctxs.value0.value0.value1,ctxs.value0.value0.value2,ctxs.value0.value0.value3),ctxs.value0.value0.value4,ctxs.value0.value0.value5,new Two(ctxs.value0.value0.value6,ctxs.value0.value1,ctxs.value0.value2,tree),ctxs.value0.value3,ctxs.value0.value4,ctxs.value0.value5))}if(ctxs.value0 instanceof ThreeMiddle&&ctxs.value0.value5 instanceof Three){return fromZipper(dictOrd)(ctxs.value1)(new Three(ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2,new Two(tree,ctxs.value0.value3,ctxs.value0.value4,ctxs.value0.value5.value0),ctxs.value0.value5.value1,ctxs.value0.value5.value2,new Two(ctxs.value0.value5.value3,ctxs.value0.value5.value4,ctxs.value0.value5.value5,ctxs.value0.value5.value6)))}if(ctxs.value0 instanceof ThreeRight&&ctxs.value0.value3 instanceof Three){return fromZipper(dictOrd)(ctxs.value1)(new Three(ctxs.value0.value0,ctxs.value0.value1,ctxs.value0.value2,new Two(ctxs.value0.value3.value0,ctxs.value0.value3.value1,ctxs.value0.value3.value2,ctxs.value0.value3.value3),ctxs.value0.value3.value4,ctxs.value0.value3.value5,new Two(ctxs.value0.value3.value6,ctxs.value0.value4,ctxs.value0.value5,tree)))}throw new Error("Failed pattern match at Data.Map line 310, column 9 - line 327, column 136: "+[ctxs.value0.constructor.name,tree.constructor.name])}())}throw new Error("Failed pattern match at Data.Map line 307, column 5 - line 327, column 136: "+[ctxs.constructor.name])}}});var removeMaxNode=Partial_Unsafe.unsafePartial(function(dictPartial){return function(ctx){return function(m){var __unused=function(dictPartial1){return function($dollar50){return $dollar50}};return __unused(dictPartial)(function(){if(m instanceof Two&&(m.value0 instanceof Leaf&&m.value3 instanceof Leaf)){return up(ctx)(Leaf.value)}if(m instanceof Two){return removeMaxNode(new Data_List_Types.Cons(new TwoRight(m.value0,m.value1,m.value2),ctx))(m.value3)}if(m instanceof Three&&(m.value0 instanceof Leaf&&(m.value3 instanceof Leaf&&m.value6 instanceof Leaf))){return up(new Data_List_Types.Cons(new TwoRight(Leaf.value,m.value1,m.value2),ctx))(Leaf.value)}if(m instanceof Three){return removeMaxNode(new Data_List_Types.Cons(new ThreeRight(m.value0,m.value1,m.value2,m.value3,m.value4,m.value5),ctx))(m.value6)}throw new Error("Failed pattern match at Data.Map line 339, column 5 - line 343, column 107: "+[m.constructor.name])}())}}});var maxNode=Partial_Unsafe.unsafePartial(function(dictPartial){return function(m){var __unused=function(dictPartial1){return function($dollar52){return $dollar52}};return __unused(dictPartial)(function(){if(m instanceof Two&&m.value3 instanceof Leaf){return{key:m.value1,value:m.value2}}if(m instanceof Two){return maxNode(m.value3)}if(m instanceof Three&&m.value6 instanceof Leaf){return{key:m.value4,value:m.value5}}if(m instanceof Three){return maxNode(m.value6)}throw new Error("Failed pattern match at Data.Map line 330, column 33 - line 334, column 45: "+[m.constructor.name])}())}});var comp=Data_Ord.compare(dictOrd);var down=Partial_Unsafe.unsafePartial(function(dictPartial){return function(ctx){return function(k){return function(m){if(m instanceof Leaf){return Data_Maybe.Nothing.value}if(m instanceof Two){var $509=comp(k)(m.value1);if(m.value3 instanceof Leaf&&$509 instanceof Data_Ordering.EQ){return new Data_Maybe.Just(new Data_Tuple.Tuple(m.value2,up(ctx)(Leaf.value)))}if($509 instanceof Data_Ordering.EQ){var max=maxNode(m.value0);return new Data_Maybe.Just(new Data_Tuple.Tuple(m.value2,removeMaxNode(new Data_List_Types.Cons(new TwoLeft(max.key,max.value,m.value3),ctx))(m.value0)))}if($509 instanceof Data_Ordering.LT){return down(new Data_List_Types.Cons(new TwoLeft(m.value1,m.value2,m.value3),ctx))(k)(m.value0)}return down(new Data_List_Types.Cons(new TwoRight(m.value0,m.value1,m.value2),ctx))(k)(m.value3)}if(m instanceof Three){var leaves=function(){if(m.value0 instanceof Leaf&&(m.value3 instanceof Leaf&&m.value6 instanceof Leaf)){return true}return false}();var $518=comp(k)(m.value1);var $519=comp(k)(m.value4);if(leaves&&$518 instanceof Data_Ordering.EQ){return new Data_Maybe.Just(new Data_Tuple.Tuple(m.value2,fromZipper(dictOrd)(ctx)(new Two(Leaf.value,m.value4,m.value5,Leaf.value))))}if(leaves&&$519 instanceof Data_Ordering.EQ){return new Data_Maybe.Just(new Data_Tuple.Tuple(m.value5,fromZipper(dictOrd)(ctx)(new Two(Leaf.value,m.value1,m.value2,Leaf.value))))}if($518 instanceof Data_Ordering.EQ){var max=maxNode(m.value0);return new Data_Maybe.Just(new Data_Tuple.Tuple(m.value2,removeMaxNode(new Data_List_Types.Cons(new ThreeLeft(max.key,max.value,m.value3,m.value4,m.value5,m.value6),ctx))(m.value0)))}if($519 instanceof Data_Ordering.EQ){var max=maxNode(m.value3);return new Data_Maybe.Just(new Data_Tuple.Tuple(m.value5,removeMaxNode(new Data_List_Types.Cons(new ThreeMiddle(m.value0,m.value1,m.value2,max.key,max.value,m.value6),ctx))(m.value3)))}if($518 instanceof Data_Ordering.LT){return down(new Data_List_Types.Cons(new ThreeLeft(m.value1,m.value2,m.value3,m.value4,m.value5,m.value6),ctx))(k)(m.value0)}if($518 instanceof Data_Ordering.GT&&$519 instanceof Data_Ordering.LT){return down(new Data_List_Types.Cons(new ThreeMiddle(m.value0,m.value1,m.value2,m.value4,m.value5,m.value6),ctx))(k)(m.value3)}return down(new Data_List_Types.Cons(new ThreeRight(m.value0,m.value1,m.value2,m.value3,m.value4,m.value5),ctx))(k)(m.value6)}throw new Error("Failed pattern match at Data.Map line 280, column 36 - line 303, column 82: "+[m.constructor.name])}}}});return down(Data_List_Types.Nil.value)};var foldableMap=new Data_Foldable.Foldable(function(dictMonoid){return function(f){return function(m){return Data_Foldable.foldMap(Data_List_Types.foldableList)(dictMonoid)(f)(values(m))}}},function(f){return function(z){return function(m){return Data_Foldable.foldl(Data_List_Types.foldableList)(f)(z)(values(m))}}},function(f){return function(z){return function(m){return Data_Foldable.foldr(Data_List_Types.foldableList)(f)(z)(values(m))}}});var empty=Leaf.value;var $$delete=function(dictOrd){return function(k){return function(m){return Data_Maybe.maybe(m)(Data_Tuple.snd)(pop(dictOrd)(k)(m))}}};exports["delete"]=$$delete;exports["empty"]=empty;exports["insert"]=insert;exports["keys"]=keys;exports["lookup"]=lookup;exports["member"]=member;exports["pop"]=pop;exports["values"]=values;exports["functorMap"]=functorMap;exports["foldableMap"]=foldableMap})(PS["Data.Map"]=PS["Data.Map"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Generic=PS["Data.Generic"];var Data_Newtype=PS["Data.Newtype"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Control_Apply=PS["Control.Apply"];var Data_Maybe=PS["Data.Maybe"];var Data_Unit=PS["Data.Unit"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var MediaType=function(x){return x};var newtypeMediaType=new Data_Newtype.Newtype(function(n){return n},MediaType);exports["MediaType"]=MediaType;exports["newtypeMediaType"]=newtypeMediaType})(PS["Data.MediaType"]=PS["Data.MediaType"]||{});(function(exports){var _2_15=32768;var _2_16=65536;var _2_17=131072;var _2_34=17179869184;exports.blockIndex=function(x){return function(y){return function(z){return(x+_2_17)*_2_34+(z+_2_17)*_2_16+(y+_2_15)}}};exports.runBlockIndex=function(bits){var cx=bits/_2_34|0;var cz=(bits-cx*_2_34)/_2_16|0;var cy=bits-cx*_2_34-cz*_2_16;var x=cx-_2_17;var z=cz-_2_17;var y=cy-_2_15;return{x:x,y:y,z:z}};exports.eqBlockIndex=function(a){return function(b){return a===b}}})(PS["Game.Cubbit.BlockIndex"]=PS["Game.Cubbit.BlockIndex"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.BlockIndex"];var Control_Alternative=PS["Control.Alternative"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];var Prelude=PS["Prelude"];var Control_Applicative=PS["Control.Applicative"];var Data_Eq=PS["Data.Eq"];var Data_Show=PS["Data.Show"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var eq_BlockIndex=new Data_Eq.Eq($foreign.eqBlockIndex);exports["eq_BlockIndex"]=eq_BlockIndex;exports["blockIndex"]=$foreign.blockIndex;exports["runBlockIndex"]=$foreign.runBlockIndex})(PS["Game.Cubbit.BlockIndex"]=PS["Game.Cubbit.BlockIndex"]||{});(function(exports){"use strict";var Data_Generic=PS["Data.Generic"];var Data_Newtype=PS["Data.Newtype"];var Prelude=PS["Prelude"];var Control_Apply=PS["Control.Apply"];var Data_Maybe=PS["Data.Maybe"];var Data_Unit=PS["Data.Unit"];var Data_Eq=PS["Data.Eq"];var Data_Show=PS["Data.Show"];var BlockType=function(x){return x};var woodBlock=3;var waterBlock=2;var leavesBlock=4;var grassBlock=1;var graniteBlock=6;var generic_BlockType=new Data_Generic.Generic(function(v){if(v instanceof Data_Generic.SProd&&(v.value0==="Game.Cubbit.BlockType.BlockType"&&v.value1.length===1)){return Control_Apply.apply(Data_Maybe.applyMaybe)(new Data_Maybe.Just(BlockType))(Data_Generic.fromSpine(Data_Generic.genericInt)(v.value1[0](Data_Unit.unit)))}return Data_Maybe.Nothing.value},function($dollarq){return new Data_Generic.SigProd("Game.Cubbit.BlockType.BlockType",[{sigConstructor:"Game.Cubbit.BlockType.BlockType",sigValues:[function($dollarq1){return Data_Generic.toSignature(Data_Generic.genericInt)(Data_Generic.anyProxy)}]}])},function(v){return new Data_Generic.SProd("Game.Cubbit.BlockType.BlockType",[function($dollarq){return Data_Generic.toSpine(Data_Generic.genericInt)(v)}])});var eq_BlockType=new Data_Eq.Eq(Data_Generic.gEq(generic_BlockType));var dirtBlock=5;var bushBlock=100;var airBlock=0;var blockTypes={airBlock:airBlock,grassBlock:grassBlock,waterBlock:waterBlock,woodBlock:woodBlock,leavesBlock:leavesBlock,dirtBlock:dirtBlock,graniteBlock:graniteBlock,bushBlock:bushBlock};exports["BlockType"]=BlockType;exports["airBlock"]=airBlock;exports["blockTypes"]=blockTypes;exports["bushBlock"]=bushBlock;exports["dirtBlock"]=dirtBlock;exports["graniteBlock"]=graniteBlock;exports["grassBlock"]=grassBlock;exports["leavesBlock"]=leavesBlock;exports["waterBlock"]=waterBlock;exports["woodBlock"]=woodBlock;exports["generic_BlockType"]=generic_BlockType;exports["eq_BlockType"]=eq_BlockType})(PS["Game.Cubbit.BlockType"]=PS["Game.Cubbit.BlockType"]||{});(function(exports){exports.insert=function(key){return function(value){return function(map){var m=new Uint8Array(map);m[key]=value;return m}}};exports.lookupNullable=function(key){return function(map){return map[key]}}})(PS["Game.Cubbit.BoxelMap"]=PS["Game.Cubbit.BoxelMap"]||{});(function(exports){"use strict";var terrainRenderingGroup=1;var skyBoxRenderingGruop=0;var chunkSize=16;exports["chunkSize"]=chunkSize;exports["skyBoxRenderingGruop"]=skyBoxRenderingGruop;exports["terrainRenderingGroup"]=terrainRenderingGroup})(PS["Game.Cubbit.Constants"]=PS["Game.Cubbit.Constants"]||{});(function(exports){"use strict";var Control_Alternative=PS["Control.Alternative"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];var Data_Generic=PS["Data.Generic"];var Data_Ord=PS["Data.Ord"];var Data_Show=PS["Data.Show"];var Game_Cubbit_Constants=PS["Game.Cubbit.Constants"];var Prelude=PS["Prelude"];var Data_Newtype=PS["Data.Newtype"];var Control_Apply=PS["Control.Apply"];var Data_Maybe=PS["Data.Maybe"];var Data_Unit=PS["Data.Unit"];var Data_Eq=PS["Data.Eq"];var Control_Applicative=PS["Control.Applicative"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Data_Semiring=PS["Data.Semiring"];var Data_Ring=PS["Data.Ring"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var runLocalIndex=function(v){var x=v/(Game_Cubbit_Constants.chunkSize*Game_Cubbit_Constants.chunkSize|0)|0;var i$prime=v-((x*Game_Cubbit_Constants.chunkSize|0)*Game_Cubbit_Constants.chunkSize|0);var y=i$prime/Game_Cubbit_Constants.chunkSize|0;var z=i$prime%Game_Cubbit_Constants.chunkSize;return{x:x,y:y,z:z}};var localIndex=function(lx){return function(ly){return function(lz){return(((Game_Cubbit_Constants.chunkSize*Game_Cubbit_Constants.chunkSize|0)*lx|0)+(Game_Cubbit_Constants.chunkSize*ly|0)|0)+lz|0}}};exports["localIndex"]=localIndex;exports["runLocalIndex"]=runLocalIndex})(PS["Game.Cubbit.LocalIndex"]=PS["Game.Cubbit.LocalIndex"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.BoxelMap"];var Data_Functor=PS["Data.Functor"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Game_Cubbit_LocalIndex=PS["Game.Cubbit.LocalIndex"];var lookup=function(key){return function(map){return Data_Nullable.toMaybe($foreign.lookupNullable(key)(map))}};exports["lookup"]=lookup;exports["insert"]=$foreign.insert})(PS["Game.Cubbit.BoxelMap"]=PS["Game.Cubbit.BoxelMap"]||{});(function(exports){"use strict";var Data_Foreign_Class=PS["Data.Foreign.Class"];var Data_Generic=PS["Data.Generic"];var Data_Ord=PS["Data.Ord"];var Game_Cubbit_BlockIndex=PS["Game.Cubbit.BlockIndex"];var Prelude=PS["Prelude"];var Data_Functor=PS["Data.Functor"];var Data_Eq=PS["Data.Eq"];var Data_Show=PS["Data.Show"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var Data_Ring=PS["Data.Ring"];var runChunkIndex=function(v){return Game_Cubbit_BlockIndex.runBlockIndex(v)};var chunkIndex=function(x){return function(y){return function(z){return Game_Cubbit_BlockIndex.blockIndex(x)(y)(z)}}};exports["chunkIndex"]=chunkIndex;exports["runChunkIndex"]=runChunkIndex})(PS["Game.Cubbit.ChunkIndex"]=PS["Game.Cubbit.ChunkIndex"]||{});(function(exports){exports.querySelectorCanvas=function(selector){return function(){return document.querySelector(selector)}}})(PS["Graphics.Babylon"]=PS["Graphics.Babylon"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var DOM=PS["DOM"];var Data_Nullable=PS["Data.Nullable"];var Prelude=PS["Prelude"];exports["querySelectorCanvas"]=$foreign.querySelectorCanvas})(PS["Graphics.Babylon"]=PS["Graphics.Babylon"]||{});(function(exports){exports.abstractMeshToNode=function(mesh){return mesh};exports.dispose=function(doNotRecurse){return function(mesh){return function(){mesh.dispose(doNotRecurse)}}};exports.setIsPickable=function(isPickable){return function(mesh){return function(){mesh.isPickable=isPickable}}};exports.setPosition=function(position){return function(mesh){return function(){mesh.position=position}}};exports.setRotation=function(rotation){return function(mesh){return function(){mesh.rotation=rotation}}};exports.setIsVisible=function(isVisible){return function(mesh){return function(){mesh.isVisible=isVisible}}};exports.setUseVertexColors=function(useVertexColors){return function(mesh){return function(){mesh.useVertexColors=useVertexColors}}};exports.setRenderingGroupId=function(value){return function(mesh){return function(){mesh.renderingGroupId=value}}};exports.setReceiveShadows=function(receiveShadows){return function(mesh){return function(){mesh.receiveShadows=receiveShadows}}};exports.getSkeleton=function(mesh){return function(){return mesh.skeleton}};exports.setMaterial=function(mat){return function(mesh){return function(){mesh.material=mat}}};exports.setVisibility=function(visibility){return function(mesh){return function(){mesh.visibility=visibility}}}})(PS["Graphics.Babylon.AbstractMesh"]=PS["Graphics.Babylon.AbstractMesh"]||{});(function(exports){exports.setFogEnabled=function(fogEnabled){return function(material){return function(){material.fogEnabled=fogEnabled}}};exports.setZOffset=function(value){return function(mat){return function(){mat.zOffset=value}}};exports.setWireframe=function(value){return function(mat){return function(){mat.wireframe=value}}};exports.setAlpha=function(value){return function(mat){return function(){mat.alpha=value}}}})(PS["Graphics.Babylon.Material"]=PS["Graphics.Babylon.Material"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Material"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];exports["setAlpha"]=$foreign.setAlpha;exports["setFogEnabled"]=$foreign.setFogEnabled;exports["setWireframe"]=$foreign.setWireframe;exports["setZOffset"]=$foreign.setZOffset})(PS["Graphics.Babylon.Material"]=PS["Graphics.Babylon.Material"]||{});(function(exports){exports.getName=function(node){return node.name}})(PS["Graphics.Babylon.Node"]=PS["Graphics.Babylon.Node"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Node"];exports["getName"]=$foreign.getName})(PS["Graphics.Babylon.Node"]=PS["Graphics.Babylon.Node"]||{});(function(exports){exports.createVector3=function(x){return function(y){return function(z){return function(){return new BABYLON.Vector3(x,y,z)}}}};exports.subtract=function(v){return function(r){return function(){return v.subtract(r)}}};exports.length=function(v){return function(){return v.length()}};exports.runVector3=function(v){return function(){return{x:v.x,y:v.y,z:v.z}}}})(PS["Graphics.Babylon.Vector3"]=PS["Graphics.Babylon.Vector3"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Vector3"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Graphics_Babylon=PS["Graphics.Babylon"];exports["createVector3"]=$foreign.createVector3;exports["length"]=$foreign.length;exports["runVector3"]=$foreign.runVector3;exports["subtract"]=$foreign.subtract})(PS["Graphics.Babylon.Vector3"]=PS["Graphics.Babylon.Vector3"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.AbstractMesh"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Node=PS["Graphics.Babylon.Node"];var Graphics_Babylon_Observable=PS["Graphics.Babylon.Observable"];var Graphics_Babylon_PhysicsImpostor=PS["Graphics.Babylon.PhysicsImpostor"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];exports["abstractMeshToNode"]=$foreign.abstractMeshToNode;exports["dispose"]=$foreign.dispose;exports["getSkeleton"]=$foreign.getSkeleton;exports["setIsPickable"]=$foreign.setIsPickable;exports["setIsVisible"]=$foreign.setIsVisible;exports["setMaterial"]=$foreign.setMaterial;exports["setPosition"]=$foreign.setPosition;exports["setReceiveShadows"]=$foreign.setReceiveShadows;exports["setRenderingGroupId"]=$foreign.setRenderingGroupId;exports["setRotation"]=$foreign.setRotation;exports["setUseVertexColors"]=$foreign.setUseVertexColors;exports["setVisibility"]=$foreign.setVisibility})(PS["Graphics.Babylon.AbstractMesh"]=PS["Graphics.Babylon.AbstractMesh"]||{});(function(exports){exports.createMesh=function(id){return function(scene){return function(){return new BABYLON.Mesh(id,scene)}}};exports.meshToAbstractMesh=function(mesh){return mesh};exports.createBox=function(id){return function(size){return function(scene){return function(){return BABYLON.Mesh.CreateBox(id,size,scene)}}}};exports.setPosition=function(position){return function(mesh){return function(){mesh.position=position}}};exports.setInfiniteDistance=function(value){return function(mesh){return function(){mesh.infiniteDistance=value}}}})(PS["Graphics.Babylon.Mesh"]=PS["Graphics.Babylon.Mesh"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Mesh"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_PhysicsImpostor=PS["Graphics.Babylon.PhysicsImpostor"];exports["createBox"]=$foreign.createBox;exports["createMesh"]=$foreign.createMesh;exports["meshToAbstractMesh"]=$foreign.meshToAbstractMesh;exports["setInfiniteDistance"]=$foreign.setInfiniteDistance;exports["setPosition"]=$foreign.setPosition})(PS["Graphics.Babylon.Mesh"]=PS["Graphics.Babylon.Mesh"]||{});(function(exports){exports.createVertexData=function(props){return function(){var v=new BABYLON.VertexData;v.indices=props.indices;v.positions=props.positions;v.normals=props.normals;v.uvs=props.uvs;v.colors=props.colors;return v}};exports.applyToMesh=function(mesh){return function(updatable){return function(vertexData){return function(){vertexData.applyToMesh(mesh,updatable)}}}}})(PS["Graphics.Babylon.VertexData"]=PS["Graphics.Babylon.VertexData"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.VertexData"];var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Eq=PS["Data.Eq"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];var Data_Generic=PS["Data.Generic"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Control_Apply=PS["Control.Apply"];var Data_Maybe=PS["Data.Maybe"];var Control_Applicative=PS["Control.Applicative"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var Data_Foreign_Index=PS["Data.Foreign.Index"];exports["applyToMesh"]=$foreign.applyToMesh;exports["createVertexData"]=$foreign.createVertexData})(PS["Graphics.Babylon.VertexData"]=PS["Graphics.Babylon.VertexData"]||{});(function(exports){"use strict";var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];var Data_Unit=PS["Data.Unit"];var Game_Cubbit_BlockType=PS["Game.Cubbit.BlockType"];var Game_Cubbit_BoxelMap=PS["Game.Cubbit.BoxelMap"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_AbstractMesh=PS["Graphics.Babylon.AbstractMesh"];var Graphics_Babylon_Mesh=PS["Graphics.Babylon.Mesh"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_VertexData=PS["Graphics.Babylon.VertexData"];var Prelude=PS["Prelude"];var Control_Applicative=PS["Control.Applicative"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var Control_Bind=PS["Control.Bind"];var MeshNotLoaded=function(){function MeshNotLoaded(){}MeshNotLoaded.value=new MeshNotLoaded;return MeshNotLoaded}();var MeshLoaded=function(){function MeshLoaded(value0){this.value0=value0}MeshLoaded.create=function(value0){return new MeshLoaded(value0)};return MeshLoaded}();var EmptyMeshLoaded=function(){function EmptyMeshLoaded(){}EmptyMeshLoaded.value=new EmptyMeshLoaded;return EmptyMeshLoaded}();var disposeLoadedMesh=function(v){if(v instanceof MeshNotLoaded){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}if(v instanceof MeshLoaded){return Graphics_Babylon_AbstractMesh.dispose(true)(Graphics_Babylon_Mesh.meshToAbstractMesh(v.value0))}if(v instanceof EmptyMeshLoaded){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}throw new Error("Failed pattern match at Game.Cubbit.Chunk line 49, column 21 - line 52, column 33: "+[v.constructor.name])};var disposeChunk=function(chunk){return function __do(){disposeLoadedMesh(chunk.standardMaterialMesh)();disposeLoadedMesh(chunk.waterMaterialMesh)();return disposeLoadedMesh(chunk.transparentMaterialMesh)()}};exports["MeshNotLoaded"]=MeshNotLoaded;exports["MeshLoaded"]=MeshLoaded;exports["EmptyMeshLoaded"]=EmptyMeshLoaded;exports["disposeChunk"]=disposeChunk;exports["disposeLoadedMesh"]=disposeLoadedMesh})(PS["Game.Cubbit.Chunk"]=PS["Game.Cubbit.Chunk"]||{});(function(exports){exports.createChunkMap=function(){return{map:{},list:[]}};exports._lookup=function(index){return function(obj){return function(){return obj.map[index]||null}}};exports.insert=function(index){return function(value){return function(obj){return function(){if(obj.map[index]){var i=obj.list.findIndex(function(chunkWithMesh){return chunkWithMesh.index===index});if(i===-1){debugger}obj.list.splice(i,1,value)}else{obj.list.push(value)}obj.map[index]=value}}}};exports.sort=function(cx){return function(cy){return function(cz){return function(obj){return function(){obj.list.sort(function(a,b){var r=Math.max(Math.abs(a.x-cx),Math.abs(a.y-cy),Math.abs(a.z-cz));var t=Math.max(Math.abs(b.x-cx),Math.abs(b.y-cy),Math.abs(b.z-cz));return r-t})}}}}};exports.delete=function(index){return function(obj){return function(){if(obj.map[index]){var i=obj.list.findIndex(function(chunkWithMesh){return chunkWithMesh.index===index});obj.list.splice(i,1);delete obj.map[index]}}}};exports.size=function(obj){return function(){return obj.list.length}};exports.slice=function(begin){return function(end){return function(obj){return function(){return obj.list.slice(begin,end)}}}};exports.filterNeighbors=function(range){return function(cx){return function(cy){return function(cz){return function(obj){return function(){return obj.list.filter(function(a){return Math.max(Math.abs(a.x-cx),Math.abs(a.y-cy),Math.abs(a.z-cz))<=range})}}}}}};exports.getSortedChunks=function(cx){return function(cy){return function(cz){return function(obj){return function(){var sorted=obj.list.slice();sorted.sort(function(a,b){var r=Math.max(Math.abs(a.x-cx),Math.abs(a.y-cy),Math.abs(a.z-cz));var t=Math.max(Math.abs(b.x-cx),Math.abs(b.y-cy),Math.abs(b.z-cz));return r-t});return sorted}}}}}})(PS["Game.Cubbit.ChunkMap"]=PS["Game.Cubbit.ChunkMap"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.ChunkMap"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Data_Unit=PS["Data.Unit"];var Game_Cubbit_Chunk=PS["Game.Cubbit.Chunk"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Prelude=PS["Prelude"];var Data_Functor=PS["Data.Functor"];var lookup=function(index){return function(map){return Data_Functor.map(Control_Monad_Eff.functorEff)(Data_Nullable.toMaybe)($foreign._lookup(index)(map))}};exports["lookup"]=lookup;exports["createChunkMap"]=$foreign.createChunkMap;exports["delete"]=$foreign["delete"];exports["filterNeighbors"]=$foreign.filterNeighbors;exports["getSortedChunks"]=$foreign.getSortedChunks;exports["insert"]=$foreign.insert;exports["size"]=$foreign.size})(PS["Game.Cubbit.ChunkMap"]=PS["Game.Cubbit.ChunkMap"]||{});(function(exports){function Grad(x,y,z){this.x=x;this.y=y;this.z=z}Grad.prototype.dot2=function(x,y){return this.x*x+this.y*y};Grad.prototype.dot3=function(x,y,z){return this.x*x+this.y*y+this.z*z};var grad3=[new Grad(1,1,0),new Grad(-1,1,0),new Grad(1,-1,0),new Grad(-1,-1,0),new Grad(1,0,1),new Grad(-1,0,1),new Grad(1,0,-1),new Grad(-1,0,-1),new Grad(0,1,1),new Grad(0,-1,1),new Grad(0,1,-1),new Grad(0,-1,-1)];var p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];var F2=.5*(Math.sqrt(3)-1);var G2=(3-Math.sqrt(3))/6;exports.createNoise=function(seed){var perm=new Array(512);var gradP=new Array(512);if(seed>0&&seed<1){seed*=65536}seed=Math.floor(seed);if(seed<256){seed|=seed<<8}for(var i=0;i<256;i++){var v;if(i&1){v=p[i]^seed&255}else{v=p[i]^seed>>8&255}perm[i]=perm[i+256]=v;gradP[i]=gradP[i+256]=grad3[v%12]}return{perm:perm,gradP:gradP}};exports.simplex2=function(xin){return function(yin){return function(noise){var n0,n1,n2;var s=(xin+yin)*F2;var i=Math.floor(xin+s);var j=Math.floor(yin+s);var t=(i+j)*G2;var x0=xin-i+t;var y0=yin-j+t;var i1,j1;if(x0>y0){i1=1;j1=0}else{i1=0;j1=1}var x1=x0-i1+G2;var y1=y0-j1+G2;var x2=x0-1+2*G2;var y2=y0-1+2*G2;i&=255;j&=255;var gi0=noise.gradP[i+noise.perm[j]];var gi1=noise.gradP[i+i1+noise.perm[j+j1]];var gi2=noise.gradP[i+1+noise.perm[j+1]];var t0=.5-x0*x0-y0*y0;if(t0<0){n0=0}else{t0*=t0;n0=t0*t0*gi0.dot2(x0,y0)}var t1=.5-x1*x1-y1*y1;if(t1<0){n1=0}else{t1*=t1;n1=t1*t1*gi1.dot2(x1,y1)}var t2=.5-x2*x2-y2*y2;if(t2<0){n2=0}else{t2*=t2;n2=t2*t2*gi2.dot2(x2,y2)}return 70*(n0+n1+n2)}}}})(PS["PerlinNoise"]=PS["PerlinNoise"]||{});(function(exports){"use strict";var $foreign=PS["PerlinNoise"];exports["createNoise"]=$foreign.createNoise;exports["simplex2"]=$foreign.simplex2})(PS["PerlinNoise"]=PS["PerlinNoise"]||{});(function(exports){"use strict";var Control_Bind=PS["Control.Bind"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Data_Int=PS["Data.Int"];var Data_Maybe=PS["Data.Maybe"];var Data_Unit=PS["Data.Unit"];var Game_Cubbit_BlockIndex=PS["Game.Cubbit.BlockIndex"];var Game_Cubbit_BlockType=PS["Game.Cubbit.BlockType"];var Game_Cubbit_BoxelMap=PS["Game.Cubbit.BoxelMap"];var Game_Cubbit_Chunk=PS["Game.Cubbit.Chunk"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Game_Cubbit_ChunkMap=PS["Game.Cubbit.ChunkMap"];var Game_Cubbit_Constants=PS["Game.Cubbit.Constants"];var Game_Cubbit_LocalIndex=PS["Game.Cubbit.LocalIndex"];var Game_Cubbit_Vec=PS["Game.Cubbit.Vec"];var PerlinNoise=PS["PerlinNoise"];var Prelude=PS["Prelude"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Eq=PS["Data.Eq"];var Data_Semiring=PS["Data.Semiring"];var Data_Ring=PS["Data.Ring"];var Control_Applicative=PS["Control.Applicative"];var lookupChunk=function(index){return function(v){return Game_Cubbit_ChunkMap.lookup(index)(v.map)}};var isSolidBlock=function(block){return Data_Eq.notEq(Game_Cubbit_BlockType.eq_BlockType)(block)(Game_Cubbit_BlockType.airBlock)&&Data_Eq.notEq(Game_Cubbit_BlockType.eq_BlockType)(block)(Game_Cubbit_BlockType.bushBlock)};var insertChunk=function(cmesh){return function(v){return Game_Cubbit_ChunkMap.insert(cmesh.index)(cmesh)(v.map)}};var globalPositionToGlobalIndex=function(x){return function(y){return function(z){var f=function(v){return Data_Int.floor(v+1e6)-1e6};return Game_Cubbit_BlockIndex.blockIndex(f(x))(f(y))(f(z))}}};var globalPositionToChunkIndex=function(x){return function(y){return function(z){var f=function(v){return(Data_Int.floor(v+1e6*Data_Int.toNumber(Game_Cubbit_Constants.chunkSize))/Game_Cubbit_Constants.chunkSize|0)-1e6};return Game_Cubbit_ChunkIndex.chunkIndex(f(x))(f(y))(f(z))}}};var globalIndexToChunkIndex=function(b){var f=function(v){return((v+(1e6*Game_Cubbit_Constants.chunkSize|0)|0)/Game_Cubbit_Constants.chunkSize|0)-1e6};var bi=Game_Cubbit_BlockIndex.runBlockIndex(b);return Game_Cubbit_ChunkIndex.chunkIndex(f(bi.x))(f(bi.y))(f(bi.z))};var globalIndexToLocalIndex=function(index){
var globalIndex=Game_Cubbit_BlockIndex.runBlockIndex(index);var chunkIndex=Game_Cubbit_ChunkIndex.runChunkIndex(globalIndexToChunkIndex(index));var cx=globalIndex.x-(Game_Cubbit_Constants.chunkSize*chunkIndex.x|0);var cy=globalIndex.y-(Game_Cubbit_Constants.chunkSize*chunkIndex.y|0);var cz=globalIndex.z-(Game_Cubbit_Constants.chunkSize*chunkIndex.z|0);return Game_Cubbit_LocalIndex.localIndex(cx)(cy)(cz)};var lookupBlock=function(globalIndex){return function(v){var chunkIndex=globalIndexToChunkIndex(globalIndex);var localIndex=globalIndexToLocalIndex(globalIndex);return function __do(){var v1=Game_Cubbit_ChunkMap.lookup(chunkIndex)(v.map)();if(v1 instanceof Data_Maybe.Just){return Game_Cubbit_BoxelMap.lookup(localIndex)(v1.value0.blocks)}return Data_Maybe.Nothing.value}}};var lookupBlockByVec=function(p){return function(v){return lookupBlock(globalPositionToGlobalIndex(p.x)(p.y)(p.z))(v)}};var lookupSolidBlock=function(globalIndex){return function(v){var chunkIndex=globalIndexToChunkIndex(globalIndex);var localIndex=globalIndexToLocalIndex(globalIndex);return function __do(){var v1=Game_Cubbit_ChunkMap.lookup(chunkIndex)(v.map)();if(v1 instanceof Data_Maybe.Just){var $27=Game_Cubbit_BoxelMap.lookup(localIndex)(v1.value0.blocks);if($27 instanceof Data_Maybe.Just){var $28=Data_Eq.eq(Game_Cubbit_BlockType.eq_BlockType)($27.value0)(Game_Cubbit_BlockType.airBlock);if($28){return Data_Maybe.Nothing.value}if(!$28){return new Data_Maybe.Just($27.value0)}throw new Error("Failed pattern match at Game.Cubbit.Terrain line 78, column 35 - line 78, column 97: "+[$28.constructor.name])}return Data_Maybe.Nothing.value}return Data_Maybe.Nothing.value}}};var lookupSolidBlockByVec=function(p){return function(v){return lookupSolidBlock(globalPositionToGlobalIndex(p.x)(p.y)(p.z))(v)}};var emptyTerrain=function(seed){return function __do(){var v=Game_Cubbit_ChunkMap.createChunkMap();return{map:v,noise:PerlinNoise.createNoise(seed)}}};exports["emptyTerrain"]=emptyTerrain;exports["globalIndexToChunkIndex"]=globalIndexToChunkIndex;exports["globalIndexToLocalIndex"]=globalIndexToLocalIndex;exports["globalPositionToChunkIndex"]=globalPositionToChunkIndex;exports["globalPositionToGlobalIndex"]=globalPositionToGlobalIndex;exports["insertChunk"]=insertChunk;exports["isSolidBlock"]=isSolidBlock;exports["lookupBlockByVec"]=lookupBlockByVec;exports["lookupChunk"]=lookupChunk;exports["lookupSolidBlock"]=lookupSolidBlock;exports["lookupSolidBlockByVec"]=lookupSolidBlockByVec})(PS["Game.Cubbit.Terrain"]=PS["Game.Cubbit.Terrain"]||{});(function(exports){"use strict";exports._ajax=function(mkHeader,options,canceler,errback,callback){var platformSpecific={};if(typeof module!=="undefined"&&module.require&&!(typeof process!=="undefined"&&process.versions["electron"])){platformSpecific.newXHR=function(){var XHR=module.require("xhr2");return new XHR};platformSpecific.fixupUrl=function(url){var urllib=module.require("url");var u=urllib.parse(url);u.protocol=u.protocol||"http:";u.hostname=u.hostname||"localhost";return urllib.format(u)};platformSpecific.getResponse=function(xhr){return xhr.response}}else{platformSpecific.newXHR=function(){return new XMLHttpRequest};platformSpecific.fixupUrl=function(url){return url||"/"};platformSpecific.getResponse=function(xhr){return xhr.response}}return function(){var xhr=platformSpecific.newXHR();var fixedUrl=platformSpecific.fixupUrl(options.url);xhr.open(options.method||"GET",fixedUrl,true,options.username,options.password);if(options.headers){try{for(var i=0,header;(header=options.headers[i])!=null;i++){xhr.setRequestHeader(header.field,header.value)}}catch(e){errback(e)()}}xhr.onerror=function(){errback(new Error("AJAX request failed: "+options.method+" "+options.url))()};xhr.onload=function(){callback({status:xhr.status,headers:xhr.getAllResponseHeaders().split("\r\n").filter(function(header){return header.length>0}).map(function(header){var i=header.indexOf(":");return mkHeader(header.substring(0,i))(header.substring(i+2))}),response:platformSpecific.getResponse(xhr)})()};xhr.responseType=options.responseType;xhr.withCredentials=options.withCredentials;xhr.send(options.content);return canceler(xhr)}};exports._cancelAjax=function(xhr,cancelError,errback,callback){return function(){try{xhr.abort()}catch(e){return callback(false)()}return callback(true)()}}})(PS["Network.HTTP.Affjax"]=PS["Network.HTTP.Affjax"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Argonaut_Core=PS["Data.Argonaut.Core"];var Data_ArrayBuffer_Types=PS["Data.ArrayBuffer.Types"];var Data_FormURLEncoded=PS["Data.FormURLEncoded"];var Data_Maybe=PS["Data.Maybe"];var Data_MediaType=PS["Data.MediaType"];var Data_MediaType_Common=PS["Data.MediaType.Common"];var Data_Tuple=PS["Data.Tuple"];var DOM_File_Types=PS["DOM.File.Types"];var DOM_Node_Types=PS["DOM.Node.Types"];var DOM_XHR_Types=PS["DOM.XHR.Types"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Show=PS["Data.Show"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Requestable=function(toRequest){this.toRequest=toRequest};var toRequest=function(dict){return dict.toRequest};var defaultToRequest=function($0){return Data_Tuple.Tuple.create(Data_Maybe.Nothing.value)(Unsafe_Coerce.unsafeCoerce($0))};var requestableUnit=new Requestable(defaultToRequest);exports["Requestable"]=Requestable;exports["toRequest"]=toRequest;exports["requestableUnit"]=requestableUnit})(PS["Network.HTTP.Affjax.Request"]=PS["Network.HTTP.Affjax.Request"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Argonaut_Core=PS["Data.Argonaut.Core"];var Data_ArrayBuffer_Types=PS["Data.ArrayBuffer.Types"];var Data_Foreign=PS["Data.Foreign"];var Data_Maybe=PS["Data.Maybe"];var Data_MediaType=PS["Data.MediaType"];var Data_MediaType_Common=PS["Data.MediaType.Common"];var Data_Tuple=PS["Data.Tuple"];var DOM_File_Types=PS["DOM.File.Types"];var DOM_Node_Types=PS["DOM.Node.Types"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Eq=PS["Data.Eq"];var Data_Show=PS["Data.Show"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Applicative=PS["Control.Applicative"];var Data_Function=PS["Data.Function"];var Data_Unit=PS["Data.Unit"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var ArrayBufferResponse=function(){function ArrayBufferResponse(){}ArrayBufferResponse.value=new ArrayBufferResponse;return ArrayBufferResponse}();var BlobResponse=function(){function BlobResponse(){}BlobResponse.value=new BlobResponse;return BlobResponse}();var DocumentResponse=function(){function DocumentResponse(){}DocumentResponse.value=new DocumentResponse;return DocumentResponse}();var JSONResponse=function(){function JSONResponse(){}JSONResponse.value=new JSONResponse;return JSONResponse}();var StringResponse=function(){function StringResponse(){}StringResponse.value=new StringResponse;return StringResponse}();var Respondable=function(fromResponse,responseType){this.fromResponse=fromResponse;this.responseType=responseType};var responseTypeToString=function(v){if(v instanceof ArrayBufferResponse){return"arraybuffer"}if(v instanceof BlobResponse){return"blob"}if(v instanceof DocumentResponse){return"document"}if(v instanceof JSONResponse){return"text"}if(v instanceof StringResponse){return"text"}throw new Error("Failed pattern match at Network.HTTP.Affjax.Response line 49, column 1 - line 50, column 1: "+[v.constructor.name])};var responseType=function(dict){return dict.responseType};var responsableForeign=new Respondable(function($9){return Control_Applicative.pure(Control_Monad_Except_Trans.applicativeExceptT(Data_Identity.monadIdentity))(Unsafe_Coerce.unsafeCoerce($9))},new Data_Tuple.Tuple(Data_Maybe.Nothing.value,JSONResponse.value));var fromResponse=function(dict){return dict.fromResponse};exports["ArrayBufferResponse"]=ArrayBufferResponse;exports["BlobResponse"]=BlobResponse;exports["DocumentResponse"]=DocumentResponse;exports["JSONResponse"]=JSONResponse;exports["StringResponse"]=StringResponse;exports["Respondable"]=Respondable;exports["fromResponse"]=fromResponse;exports["responseType"]=responseType;exports["responseTypeToString"]=responseTypeToString;exports["responsableForeign"]=responsableForeign})(PS["Network.HTTP.Affjax.Response"]=PS["Network.HTTP.Affjax.Response"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_MediaType=PS["Data.MediaType"];var Data_Newtype=PS["Data.Newtype"];var Data_Eq=PS["Data.Eq"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Accept=function(){function Accept(value0){this.value0=value0}Accept.create=function(value0){return new Accept(value0)};return Accept}();var ContentType=function(){function ContentType(value0){this.value0=value0}ContentType.create=function(value0){return new ContentType(value0)};return ContentType}();var RequestHeader=function(){function RequestHeader(value0,value1){this.value0=value0;this.value1=value1}RequestHeader.create=function(value0){return function(value1){return new RequestHeader(value0,value1)}};return RequestHeader}();var requestHeaderValue=function(v){if(v instanceof Accept){return Data_Newtype.unwrap(Data_MediaType.newtypeMediaType)(v.value0)}if(v instanceof ContentType){return Data_Newtype.unwrap(Data_MediaType.newtypeMediaType)(v.value0)}if(v instanceof RequestHeader){return v.value1}throw new Error("Failed pattern match at Network.HTTP.RequestHeader line 30, column 1 - line 30, column 41: "+[v.constructor.name])};var requestHeaderName=function(v){if(v instanceof Accept){return"Accept"}if(v instanceof ContentType){return"Content-Type"}if(v instanceof RequestHeader){return v.value0}throw new Error("Failed pattern match at Network.HTTP.RequestHeader line 25, column 1 - line 26, column 1: "+[v.constructor.name])};exports["Accept"]=Accept;exports["ContentType"]=ContentType;exports["RequestHeader"]=RequestHeader;exports["requestHeaderName"]=requestHeaderName;exports["requestHeaderValue"]=requestHeaderValue})(PS["Network.HTTP.RequestHeader"]=PS["Network.HTTP.RequestHeader"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Generic=PS["Data.Generic"];var Control_Apply=PS["Control.Apply"];var Data_Maybe=PS["Data.Maybe"];var Data_Unit=PS["Data.Unit"];var Data_Eq=PS["Data.Eq"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var ResponseHeader=function(){function ResponseHeader(value0,value1){this.value0=value0;this.value1=value1}ResponseHeader.create=function(value0){return function(value1){return new ResponseHeader(value0,value1)}};return ResponseHeader}();var responseHeader=function(field){return function(value){return new ResponseHeader(field,value)}};exports["responseHeader"]=responseHeader})(PS["Network.HTTP.ResponseHeader"]=PS["Network.HTTP.ResponseHeader"]||{});(function(exports){"use strict";var $foreign=PS["Network.HTTP.Affjax"];var Prelude=PS["Prelude"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_AVar=PS["Control.Monad.Aff.AVar"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Control_Monad_Except=PS["Control.Monad.Except"];var Data_Array=PS["Data.Array"];var Data_Either=PS["Data.Either"];var Data_Foldable=PS["Data.Foldable"];var Data_Foreign=PS["Data.Foreign"];var Data_Function=PS["Data.Function"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_HTTP_Method=PS["Data.HTTP.Method"];var Data_Int=PS["Data.Int"];var Data_Maybe=PS["Data.Maybe"];var Data_MediaType=PS["Data.MediaType"];var Data_Nullable=PS["Data.Nullable"];var Data_Tuple=PS["Data.Tuple"];var $$Math=PS["Math"];var DOM_XHR_Types=PS["DOM.XHR.Types"];var Network_HTTP_Affjax_Request=PS["Network.HTTP.Affjax.Request"];var Network_HTTP_Affjax_Response=PS["Network.HTTP.Affjax.Response"];var Network_HTTP_RequestHeader=PS["Network.HTTP.RequestHeader"];var Network_HTTP_ResponseHeader=PS["Network.HTTP.ResponseHeader"];var Network_HTTP_StatusCode=PS["Network.HTTP.StatusCode"];var Control_Bind=PS["Control.Bind"];var Data_Functor=PS["Data.Functor"];var Data_Semiring=PS["Data.Semiring"];var Control_Applicative=PS["Control.Applicative"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Data_Ring=PS["Data.Ring"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var Data_Show=PS["Data.Show"];var Data_List_Types=PS["Data.List.Types"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Eq=PS["Data.Eq"];var defaultRequest={method:new Data_Either.Left(Data_HTTP_Method.GET.value),url:"/",headers:[],content:Data_Maybe.Nothing.value,username:Data_Maybe.Nothing.value,password:Data_Maybe.Nothing.value,withCredentials:false};var cancelAjax=function(xhr){return function(err){return Control_Monad_Aff.makeAff(function(eb){return function(cb){return $foreign._cancelAjax(xhr,err,eb,cb)}})}};var affjax$prime=function(dictRequestable){return function(dictRespondable){return function(req){return function(eb){return function(cb){var responseSettings=Network_HTTP_Affjax_Response.responseType(dictRespondable);var requestSettings=function(){var $55=Data_Functor.map(Data_Maybe.functorMaybe)(Network_HTTP_Affjax_Request.toRequest(dictRequestable))(req.content);if($55 instanceof Data_Maybe.Nothing){return new Data_Tuple.Tuple(Data_Maybe.Nothing.value,Data_Maybe.Nothing.value)}if($55 instanceof Data_Maybe.Just){return new Data_Tuple.Tuple($55.value0.value0,new Data_Maybe.Just($55.value0.value1))}throw new Error("Failed pattern match at Network.HTTP.Affjax line 257, column 21 - line 259, column 49: "+[$55.constructor.name])}();var fromResponse$prime=function(){var $59=Data_Tuple.snd(responseSettings);if($59 instanceof Network_HTTP_Affjax_Response.JSONResponse){return Control_Bind.composeKleisliFlipped(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Network_HTTP_Affjax_Response.fromResponse(dictRespondable))(Control_Bind.composeKleisliFlipped(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign.parseJSON)(Data_Foreign.readString))}return Network_HTTP_Affjax_Response.fromResponse(dictRespondable)}();var cb$prime=function(res){var $63=Data_Functor.map(Data_Either.functorEither)(function(v){var $60={};for(var $61 in res){if(res.hasOwnProperty($61)){$60[$61]=res[$61]}}$60.response=v;return $60})(Control_Monad_Except.runExcept(fromResponse$prime(res.response)));if($63 instanceof Data_Either.Left){return eb(Control_Monad_Eff_Exception.error(Data_Show.show(Data_List_Types.showNonEmptyList(Data_Foreign.showForeignError))($63.value0)))}if($63 instanceof Data_Either.Right){return cb($63.value0)}throw new Error("Failed pattern match at Network.HTTP.Affjax line 276, column 13 - line 278, column 26: "+[$63.constructor.name])};var addHeader=function(mh){return function(hs){if(mh instanceof Data_Maybe.Just&&!Data_Foldable.any(Data_Foldable.foldableArray)(Data_HeytingAlgebra.heytingAlgebraBoolean)(Data_Function.on(Data_Eq.eq(Data_Eq.eqString))(Network_HTTP_RequestHeader.requestHeaderName)(mh.value0))(hs)){return Data_Array.snoc(hs)(mh.value0)}return hs}};var headers=addHeader(Data_Functor.map(Data_Maybe.functorMaybe)(Network_HTTP_RequestHeader.ContentType.create)(Data_Tuple.fst(requestSettings)))(addHeader(Data_Functor.map(Data_Maybe.functorMaybe)(Network_HTTP_RequestHeader.Accept.create)(Data_Tuple.fst(responseSettings)))(req.headers));var req$prime={method:Data_HTTP_Method.print(req.method),url:req.url,headers:Data_Functor.map(Data_Functor.functorArray)(function(h){return{field:Network_HTTP_RequestHeader.requestHeaderName(h),value:Network_HTTP_RequestHeader.requestHeaderValue(h)}})(headers),content:Data_Nullable.toNullable(Data_Tuple.snd(requestSettings)),responseType:Network_HTTP_Affjax_Response.responseTypeToString(Data_Tuple.snd(responseSettings)),username:Data_Nullable.toNullable(req.username),password:Data_Nullable.toNullable(req.password),withCredentials:req.withCredentials};return $foreign._ajax(Network_HTTP_ResponseHeader.responseHeader,req$prime,cancelAjax,eb,cb$prime)}}}}};var affjax=function(dictRequestable){return function(dictRespondable){return function($93){return Control_Monad_Aff["makeAff'"](affjax$prime(dictRequestable)(dictRespondable)($93))}}};var get=function(dictRespondable){return function(u){return affjax(Network_HTTP_Affjax_Request.requestableUnit)(dictRespondable)(function(){var $71={};for(var $72 in defaultRequest){if(defaultRequest.hasOwnProperty($72)){$71[$72]=defaultRequest[$72]}}$71.url=u;return $71}())}};exports["affjax"]=affjax;exports["defaultRequest"]=defaultRequest;exports["get"]=get})(PS["Network.HTTP.Affjax"]=PS["Network.HTTP.Affjax"]||{});(function(exports){"use strict";var Control_Monad_Aff_AVar=PS["Control.Monad.Aff.AVar"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Eff_Now=PS["Control.Monad.Eff.Now"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var DOM=PS["DOM"];var Data_Nullable=PS["Data.Nullable"];var Game_Cubbit_Terrain=PS["Game.Cubbit.Terrain"];var Game_Cubbit_Vec=PS["Game.Cubbit.Vec"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Canvas=PS["Graphics.Canvas"];var Halogen=PS["Halogen"];var Network_HTTP_Affjax=PS["Network.HTTP.Affjax"];var Move=function(){function Move(){}Move.value=new Move;return Move}();var Put=function(){function Put(){}Put.value=new Put;return Put}();var Remove=function(){function Remove(){}Remove.value=new Remove;return Remove}();exports["Move"]=Move;exports["Put"]=Put;exports["Remove"]=Remove})(PS["Game.Cubbit.Types"]=PS["Game.Cubbit.Types"]||{});(function(exports){exports._getPickedPoint=function(info){return info.pickedPoint}})(PS["Graphics.Babylon.PickingInfo"]=PS["Graphics.Babylon.PickingInfo"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.PickingInfo"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Prelude=PS["Prelude"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var getPickedPoint=function($0){return Data_Nullable.toMaybe($foreign._getPickedPoint($0))};exports["getPickedPoint"]=getPickedPoint})(PS["Graphics.Babylon.PickingInfo"]=PS["Graphics.Babylon.PickingInfo"]||{});(function(exports){exports.createScene=function(engine){return function(){return new BABYLON.Scene(engine)}};exports.render=function(scene){return function(){scene.render()}};exports.fOGMODE_EXP=BABYLON.Scene.FOGMODE_EXP;exports.setFogMode=function(fogMode){return function(scene){return function(){scene.fogMode=fogMode}}};exports.setFogDensity=function(fogDensity){return function(scene){return function(){scene.fogDensity=fogDensity}}};exports.setFogColor=function(fogColor){return function(scene){return function(){scene.fogColor=fogColor}}};exports.setCollisionsEnabled=function(collisionsEnabled){return function(scene){return function(){scene.collisionsEnabled=collisionsEnabled}}};exports.getDebugLayer=function(scene){return function(){return scene.debugLayer}};exports.pick=function(x){return function(y){return function(predicate){return function(fastCheck){return function(scene){return function(){return scene.pick(x,y,function(mesh){return predicate(mesh)()},fastCheck)}}}}}};exports.pickWithRay=function(ray){return function(predicate){return function(fastCheck){return function(scene){return function(){return scene.pickWithRay(ray,function(mesh){return predicate(mesh)()},fastCheck)}}}}};exports.setActiveCamera=function(camera){return function(scene){return function(){scene.activeCamera=camera}}};exports.setActiveCameras=function(cameras){return function(scene){return function(){scene.activeCameras=cameras}}}})(PS["Graphics.Babylon.Scene"]=PS["Graphics.Babylon.Scene"]||{});(function(exports){exports.setPosition=function(position){return function(camera){return function(){camera.position=position}}};exports.setMaxZ=function(maxZ){return function(camera){return function(){camera.maxZ=maxZ}}};exports.setMinZ=function(minZ){return function(camera){return function(){camera.minZ=minZ}}};exports.setFOV=function(fov){return function(camera){return function(){camera.fov=fov}}}})(PS["Graphics.Babylon.Camera"]=PS["Graphics.Babylon.Camera"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Camera"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Babylon_Viewport=PS["Graphics.Babylon.Viewport"];exports["setFOV"]=$foreign.setFOV;exports["setMaxZ"]=$foreign.setMaxZ;exports["setMinZ"]=$foreign.setMinZ;exports["setPosition"]=$foreign.setPosition})(PS["Graphics.Babylon.Camera"]=PS["Graphics.Babylon.Camera"]||{});(function(exports){exports.createColor3=function(r){return function(g){return function(b){return function(){return new BABYLON.Color3(r,g,b)}}}}})(PS["Graphics.Babylon.Color3"]=PS["Graphics.Babylon.Color3"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Color3"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Graphics_Babylon=PS["Graphics.Babylon"];exports["createColor3"]=$foreign.createColor3})(PS["Graphics.Babylon.Color3"]=PS["Graphics.Babylon.Color3"]||{});(function(exports){exports._show=function(showUI){return function(camera){return function(rootElement){return function(debugLayer){return function(){debugLayer.show(showUI,camera,rootElement)}}}}};exports.hide=function(debugLayer){return function(){debugLayer.hide()}}})(PS["Graphics.Babylon.DebugLayer"]=PS["Graphics.Babylon.DebugLayer"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.DebugLayer"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var show=function(shoUI){return function(camera){return function(rootElement){return function(debugLayer){return $foreign._show(shoUI)(camera)(Data_Nullable.toNullable(rootElement))(debugLayer)}}}};exports["show"]=show;exports["hide"]=$foreign.hide})(PS["Graphics.Babylon.DebugLayer"]=PS["Graphics.Babylon.DebugLayer"]||{});(function(exports){exports.createEngine=function(canvas){return function(antialias){return function(){return new BABYLON.Engine(canvas,antialias)}}};exports.runRenderLoop=function(callback){return function(engine){return function(){engine.runRenderLoop(callback)}}}})(PS["Graphics.Babylon.Engine"]=PS["Graphics.Babylon.Engine"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Engine"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var DOM=PS["DOM"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];exports["createEngine"]=$foreign.createEngine;exports["runRenderLoop"]=$foreign.runRenderLoop})(PS["Graphics.Babylon.Engine"]=PS["Graphics.Babylon.Engine"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Scene"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Nullable=PS["Data.Nullable"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Camera=PS["Graphics.Babylon.Camera"];var Graphics_Babylon_Color3=PS["Graphics.Babylon.Color3"];var Graphics_Babylon_DebugLayer=PS["Graphics.Babylon.DebugLayer"];var Graphics_Babylon_Engine=PS["Graphics.Babylon.Engine"];var Graphics_Babylon_PickingInfo=PS["Graphics.Babylon.PickingInfo"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];exports["createScene"]=$foreign.createScene;exports["fOGMODE_EXP"]=$foreign.fOGMODE_EXP;exports["getDebugLayer"]=$foreign.getDebugLayer;exports["pick"]=$foreign.pick;exports["pickWithRay"]=$foreign.pickWithRay;exports["render"]=$foreign.render;exports["setActiveCamera"]=$foreign.setActiveCamera;exports["setActiveCameras"]=$foreign.setActiveCameras;exports["setCollisionsEnabled"]=$foreign.setCollisionsEnabled;exports["setFogColor"]=$foreign.setFogColor;exports["setFogDensity"]=$foreign.setFogDensity;exports["setFogMode"]=$foreign.setFogMode})(PS["Graphics.Babylon.Scene"]=PS["Graphics.Babylon.Scene"]||{});(function(exports){exports._beginAnimation=function(name){return function(loop){return function(speedRatio){return function(onAnimationEnd){return function(skeleton){return function(){return skeleton.beginAnimation(name,loop,speedRatio,function(){onAnimationEnd({})()})}}}}}}})(PS["Graphics.Babylon.Skeleton"]=PS["Graphics.Babylon.Skeleton"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Skeleton"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Prelude=PS["Prelude"];var Data_Functor=PS["Data.Functor"];var beginAnimation=function(name){return function(loop){return function(speedRatio){return function(onAnimationEnd){return function(skeleton){return Data_Functor.map(Control_Monad_Eff.functorEff)(Data_Nullable.toMaybe)($foreign._beginAnimation(name)(loop)(speedRatio)(onAnimationEnd)(skeleton))}}}}};exports["beginAnimation"]=beginAnimation})(PS["Graphics.Babylon.Skeleton"]=PS["Graphics.Babylon.Skeleton"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var DOM=PS["DOM"];var Data_Foldable=PS["Data.Foldable"];var Data_Int=PS["Data.Int"];var Data_Maybe=PS["Data.Maybe"];var Data_Ord=PS["Data.Ord"];var Data_Unit=PS["Data.Unit"];var Game_Cubbit_BlockIndex=PS["Game.Cubbit.BlockIndex"];var Game_Cubbit_Terrain=PS["Game.Cubbit.Terrain"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_AbstractMesh=PS["Graphics.Babylon.AbstractMesh"];var Graphics_Babylon_Mesh=PS["Graphics.Babylon.Mesh"];var Graphics_Babylon_Node=PS["Graphics.Babylon.Node"];var Graphics_Babylon_PickingInfo=PS["Graphics.Babylon.PickingInfo"];var Graphics_Babylon_Scene=PS["Graphics.Babylon.Scene"];var Graphics_Babylon_Skeleton=PS["Graphics.Babylon.Skeleton"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var $$Math=PS["Math"];var Prelude=PS["Prelude"];var Data_Functor=PS["Data.Functor"];var Control_Applicative=PS["Control.Applicative"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Eq=PS["Data.Eq"];var Data_Ring=PS["Data.Ring"];var Data_Semiring=PS["Data.Semiring"];var Data_Function=PS["Data.Function"];var playAnimation=function(name){return function(ref){return function __do(){var v=Control_Monad_Eff_Ref.readRef(ref)();return Data_Foldable.for_(Control_Monad_Eff.applicativeEff)(Data_Foldable.foldableArray)(v.playerMeshes)(function(mesh){return Data_Functor["void"](Control_Monad_Eff.functorEff)(function __do(){var v1=Graphics_Babylon_AbstractMesh.getSkeleton(mesh)();var v2=Graphics_Babylon_Skeleton.beginAnimation(name)(true)(1)(Control_Applicative.pure(Control_Monad_Eff.applicativeEff))(v1)();return Control_Applicative.when(Control_Monad_Eff.applicativeEff)(Data_Maybe.isNothing(v2))(Control_Monad_Eff_Console.error('playAnimation: animation named "'+(name+'" not found.')))()})})()}}};var pickBlock=function(scene){return function(cursor){return function(v){return function(screenX){return function(screenY){var predicate=function(mesh){var name=Graphics_Babylon_Node.getName(Graphics_Babylon_AbstractMesh.abstractMeshToNode(mesh));return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(name!=="cursor")};return function __do(){var v1=Graphics_Babylon_Scene.pick(screenX)(screenY)(predicate)(false)(scene)();var $28=Graphics_Babylon_PickingInfo.getPickedPoint(v1);if($28 instanceof Data_Maybe.Nothing){return Data_Maybe.Nothing.value}if($28 instanceof Data_Maybe.Just){var v2=Graphics_Babylon_Vector3.runVector3($28.value0)();var dx=Data_Ord.abs(Data_Ord.ordNumber)(Data_Ring.ringNumber)(v2.x-$$Math.round(v2.x));var dy=Data_Ord.abs(Data_Ord.ordNumber)(Data_Ring.ringNumber)(v2.y-$$Math.round(v2.y));var dz=Data_Ord.abs(Data_Ord.ordNumber)(Data_Ring.ringNumber)(v2.z-$$Math.round(v2.z));var minDelta=Data_Ord.min(Data_Ord.ordNumber)(dx)(Data_Ord.min(Data_Ord.ordNumber)(dy)(dz));var lookupBlock$prime=function(x){return function(y){return function(z){return Game_Cubbit_Terrain.lookupSolidBlockByVec({x:x,y:y,z:z})(v.terrain)}}};var putCursor=function(bi){var rbi=Game_Cubbit_BlockIndex.runBlockIndex(bi);return function __do(){var v3=Graphics_Babylon_Vector3.createVector3(Data_Int.toNumber(rbi.x)+.5)(Data_Int.toNumber(rbi.y)+.5)(Data_Int.toNumber(rbi.z)+.5)();return Graphics_Babylon_Mesh.setPosition(v3)(cursor)()}};if(v.mode instanceof Game_Cubbit_Types.Put){var $32=minDelta===dx;if($32){var v3=lookupBlock$prime(v2.x+.5)(v2.y)(v2.z)();var v4=lookupBlock$prime(v2.x-.5)(v2.y)(v2.z)();if(v3 instanceof Data_Maybe.Just&&v4 instanceof Data_Maybe.Nothing){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x-.5)(v2.y)(v2.z))}if(v3 instanceof Data_Maybe.Nothing&&v4 instanceof Data_Maybe.Just){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x+.5)(v2.y)(v2.z))}return Data_Maybe.Nothing.value}if(!$32){var $39=minDelta===dy;if($39){var v3=lookupBlock$prime(v2.x)(v2.y+.5)(v2.z)();var v4=lookupBlock$prime(v2.x)(v2.y-.5)(v2.z)();if(v3 instanceof Data_Maybe.Just&&v4 instanceof Data_Maybe.Nothing){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y-.5)(v2.z))}if(v3 instanceof Data_Maybe.Nothing&&v4 instanceof Data_Maybe.Just){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y+.5)(v2.z))}return Data_Maybe.Nothing.value}if(!$39){var v3=lookupBlock$prime(v2.x)(v2.y)(v2.z+.5)();var v4=lookupBlock$prime(v2.x)(v2.y)(v2.z-.5)();if(v3 instanceof Data_Maybe.Just&&v4 instanceof Data_Maybe.Nothing){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y)(v2.z-.5))}if(v3 instanceof Data_Maybe.Nothing&&v4 instanceof Data_Maybe.Just){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y)(v2.z+.5))}return Data_Maybe.Nothing.value}throw new Error("Failed pattern match at Game.Cubbit.Control line 70, column 30 - line 83, column 57: "+[$39.constructor.name])}throw new Error("Failed pattern match at Game.Cubbit.Control line 63, column 24 - line 83, column 57: "+[$32.constructor.name])}if(v.mode instanceof Game_Cubbit_Types.Remove){var $52=minDelta===dx;if($52){var v3=lookupBlock$prime(v2.x+.5)(v2.y)(v2.z)();var v4=lookupBlock$prime(v2.x-.5)(v2.y)(v2.z)();if(v3 instanceof Data_Maybe.Just&&v4 instanceof Data_Maybe.Nothing){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x+.5)(v2.y)(v2.z))}if(v3 instanceof Data_Maybe.Nothing&&v4 instanceof Data_Maybe.Just){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x-.5)(v2.y)(v2.z))}return Data_Maybe.Nothing.value}if(!$52){var $59=minDelta===dy;if($59){var v3=lookupBlock$prime(v2.x)(v2.y+.5)(v2.z)();var v4=lookupBlock$prime(v2.x)(v2.y-.5)(v2.z)();if(v3 instanceof Data_Maybe.Just&&v4 instanceof Data_Maybe.Nothing){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y+.5)(v2.z));

}if(v3 instanceof Data_Maybe.Nothing&&v4 instanceof Data_Maybe.Just){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y-.5)(v2.z))}return Data_Maybe.Nothing.value}if(!$59){var v3=lookupBlock$prime(v2.x)(v2.y)(v2.z+.5)();var v4=lookupBlock$prime(v2.x)(v2.y)(v2.z-.5)();if(v3 instanceof Data_Maybe.Just&&v4 instanceof Data_Maybe.Nothing){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y)(v2.z+.5))}if(v3 instanceof Data_Maybe.Nothing&&v4 instanceof Data_Maybe.Just){return Data_Maybe.Just.create(Game_Cubbit_Terrain.globalPositionToGlobalIndex(v2.x)(v2.y)(v2.z-.5))}return Data_Maybe.Nothing.value}throw new Error("Failed pattern match at Game.Cubbit.Control line 92, column 30 - line 105, column 57: "+[$59.constructor.name])}throw new Error("Failed pattern match at Game.Cubbit.Control line 85, column 27 - line 105, column 57: "+[$52.constructor.name])}if(v.mode instanceof Game_Cubbit_Types.Move){return Data_Maybe.Nothing.value}throw new Error("Failed pattern match at Game.Cubbit.Control line 62, column 13 - line 107, column 30: "+[v.mode.constructor.name])}throw new Error("Failed pattern match at Game.Cubbit.Control line 47, column 5 - line 107, column 30: "+[$28.constructor.name])}}}}}};exports["pickBlock"]=pickBlock;exports["playAnimation"]=playAnimation})(PS["Game.Cubbit.Control"]=PS["Game.Cubbit.Control"]||{});(function(exports){exports.focus=function(id){return function(){document.getElementById(id).focus()}}})(PS["Game.Cubbit.Event"]=PS["Game.Cubbit.Event"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.Event"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var DOM=PS["DOM"];var Data_Unit=PS["Data.Unit"];exports["focus"]=$foreign.focus})(PS["Game.Cubbit.Event"]=PS["Game.Cubbit.Event"]||{});(function(exports){"use strict";exports._createBlockMapJS=function(references){return function(noise){return function(index){var chunkSize=references.chunkSize;var terrainScale=references.terrainScale;var waterBlockHeight=references.waterBlockHeight;var maxHeight=references.maxHeight;var simplex2=references.simplex2;var blockTypes=references.blockTypes;var runChunkIndex=references.runChunkIndex;var airBlock=blockTypes.airBlock;var grassBlock=blockTypes.grassBlock;var waterBlock=blockTypes.waterBlock;var woodBlock=blockTypes.woodBlock;var leavesBlock=blockTypes.leavesBlock;var dirtBlock=blockTypes.dirtBlock;var bushBlock=blockTypes.bushBlock;var rci=runChunkIndex(index);var cx=rci.x;var cy=rci.y;var cz=rci.z;var chunkBlockCount=chunkSize*chunkSize*chunkSize;if(cy<0){return Uint8Array.from({length:chunkBlockCount},function(v,k){return dirtBlock})}else if(0<cy){return new Uint8Array(chunkBlockCount)}else{var stmap=new Uint8Array(chunkBlockCount);function lookup(lx,ly,lz){if(0<=lx&&lx<chunkSize&&0<=ly&&ly<chunkSize&&0<=lz&&lz<chunkSize){return stmap[chunkSize*chunkSize*lx+chunkSize*ly+lz]}else{return airBlock}}function put(lx,ly,lz,value){if(0<=lx&&lx<chunkSize&&0<=ly&&ly<chunkSize&&0<=lz&&lz<chunkSize){stmap[chunkSize*chunkSize*lx+chunkSize*ly+lz]=value}}function getHeight(gx,gz){var r=(simplex2(gx*terrainScale)(gz*terrainScale)(noise)+1)*.5;return Math.floor(r*maxHeight)}for(var lz=0;lz<=chunkSize-1;lz++){for(var lx=0;lx<=chunkSize-1;lx++){var gx=chunkSize*cx+lx;var gz=chunkSize*cz+lz;var h=getHeight(gx,gz);for(var ly=0;ly<chunkSize;ly++){var gy=chunkSize*cy+ly;var ly=gy-chunkSize*cy;if(gy==h){put(lx,ly,lz,grassBlock)}else if(gy<h){put(lx,ly,lz,dirtBlock)}else if(gy<=waterBlockHeight){put(lx,ly,lz,waterBlock)}}}}for(var lz=0;lz<=chunkSize-1;lz++){for(var lx=0;lx<=chunkSize-1;lx++){var gx=chunkSize*cx+lx;var gz=chunkSize*cz+lz;var h=getHeight(gx,gz);if(waterBlockHeight<=h){var lh=h-chunkSize*cy;var r=(simplex2(1234+gx)(5678+gz)(noise)+1)*1e4|0;if(r%97===29){var top=null;for(var ly=chunkSize-1;0<=ly;ly--){if(lookup(lx,ly,lz)===grassBlock){top=ly;break}}if(top!==null){for(var i=0;i<3&&top+1+i<chunkSize;i++){put(lx,top+1+i,lz,woodBlock)}for(var i=3;i<6&&top+1+i<chunkSize;i++){for(var dx=-1;dx<=1;dx++){for(var dz=-1;dz<=1;dz++){put(lx+dx,top+1+i,lz+dz,leavesBlock)}}}}}else if(r%93<10){put(lx,lh+1,lz,bushBlock)}}}}return stmap}}}}})(PS["Game.Cubbit.Generation"]=PS["Game.Cubbit.Generation"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.Generation"];var Game_Cubbit_BlockType=PS["Game.Cubbit.BlockType"];var Game_Cubbit_BoxelMap=PS["Game.Cubbit.BoxelMap"];var Game_Cubbit_Chunk=PS["Game.Cubbit.Chunk"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Game_Cubbit_Constants=PS["Game.Cubbit.Constants"];var PerlinNoise=PS["PerlinNoise"];var generateReferences={chunkSize:Game_Cubbit_Constants.chunkSize,terrainScale:.01,waterBlockHeight:3,maxHeight:15,blockTypes:Game_Cubbit_BlockType.blockTypes,simplex2:PerlinNoise.simplex2,runChunkIndex:Game_Cubbit_ChunkIndex.runChunkIndex};var createBlockMap=$foreign._createBlockMapJS(generateReferences);exports["createBlockMap"]=createBlockMap})(PS["Game.Cubbit.Generation"]=PS["Game.Cubbit.Generation"]||{});(function(exports){"use strict";exports.createTerrainGeometryJS=function(references){return function(terrain){return function(chunk){var chunkSize=references.chunkSize;var blockTypes=references.blockTypes;var runChunkIndex=references.runChunkIndex;var blockIndex=references.blockIndex;var globalIndexToChunkIndex=references.globalIndexToChunkIndex;var globalIndexToLocalIndex=references.globalIndexToLocalIndex;var simplex2=references.simplex2;var noise=terrain.noise;var chunkMap=terrain.map.map;var TEXTURE_SIZE=4096;var CHIP_SIZE=64;var CHIP_RATIO_0=0;var CHIP_RATIO_1=CHIP_SIZE/TEXTURE_SIZE;var CHIP_RATIO_2=CHIP_RATIO_1*2;var CHIP_RATIO_3=CHIP_RATIO_1*3;var CHIP_RATIO_4=CHIP_RATIO_1*4;function vec(x,y,z){return{x:x,y:y,z:z}}function nxUV(uvs,dx){uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_2);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_2);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_1);uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_1)}function pxUV(uvs,dx){uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_2);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_2);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_1);uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_1)}function nyUV(uvs,dx){uvs.push(CHIP_RATIO_0+dx);uvs.push(CHIP_RATIO_2);uvs.push(CHIP_RATIO_1+dx);uvs.push(CHIP_RATIO_2);uvs.push(CHIP_RATIO_1+dx);uvs.push(CHIP_RATIO_3);uvs.push(CHIP_RATIO_0+dx);uvs.push(CHIP_RATIO_3)}function pyUV(uvs,dx){uvs.push(CHIP_RATIO_0+dx);uvs.push(1);uvs.push(CHIP_RATIO_1+dx);uvs.push(1);uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_1);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_1)}function nzUV(uvs,dx){uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_1);uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_2);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_2);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_1)}function pzUV(uvs,dx){uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_2);uvs.push(CHIP_RATIO_0+dx);uvs.push(1-CHIP_RATIO_1);uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_1);uvs.push(CHIP_RATIO_1+dx);uvs.push(1-CHIP_RATIO_2)}var airBlock=blockTypes.airBlock;var waterBlock=blockTypes.waterBlock;var bushBlock=blockTypes.bushBlock;var blocks=chunk.blocks;function prepareArray(){return{offset:0,indices:[],positions:[],normals:[],uvs:[],colors:[]}}var standardMaterialBlockStore=prepareArray();var waterBlockStore=prepareArray();var transparentMaterialVertexData=prepareArray();var chunkIndex=runChunkIndex(chunk.index);var ox=chunkSize*chunkIndex.x;var oy=chunkSize*chunkIndex.y;var oz=chunkSize*chunkIndex.z;function solidBounds(block){return block!==airBlock&&block!==waterBlock&&block!==bushBlock}function waterBounds(block){return block!==airBlock}function exists(gx,gy,gz,bounds){var lx=gx-ox;var ly=gy-oy;var lz=gz-oz;if(0<=lx&&lx<chunkSize&&0<=ly&&ly<chunkSize&&0<=lz&&lz<chunkSize){var t=blocks[chunkSize*chunkSize*lx+chunkSize*ly+lz];return bounds(t)}else{var gi=blockIndex(gx)(gy)(gz);var chunkWithMesh=chunkMap[globalIndexToChunkIndex(gi)];if(chunkWithMesh){var block=chunkWithMesh.blocks[globalIndexToLocalIndex(gi)];if(typeof block=="undefined"){debugger}return bounds(block)}else{debugger;return true}}}for(var lx=0;lx<chunkSize;lx++){for(var lz=0;lz<chunkSize;lz++){var gx=chunkSize*chunkIndex.x+lx;var gz=chunkSize*chunkIndex.z+lz;var random=(simplex2(gx)(gz)(noise)+1)*.5;for(var ly=0;ly<chunkSize;ly++){var block=blocks[chunkSize*chunkSize*lx+chunkSize*ly+lz];var px=ox+lx;var py=oy+ly;var pz=oz+lz;var store=block==waterBlock?waterBlockStore:block==bushBlock?transparentMaterialVertexData:standardMaterialBlockStore;function square(nx,ny,nz,u,bounds){if(!exists(px+nx,py+ny,pz+nz,bounds)){var ax=ny;var ay=nz;var az=nx;var bx=ay*nz-ay*nx;var by=az*nx-ax*nz;var bz=ax*ny-ay*nx;var dx=nx*.5;var dy=ny*.5;var dz=nz*.5;var sx=ax*.5;var sy=ay*.5;var sz=az*.5;var tx=bx*.5;var ty=by*.5;var tz=bz*.5;var vx=px+.5+dx;var vy=py+.5+dy;var vz=pz+.5+dz;var offset=store.offset;store.indices.push(offset+0);store.indices.push(offset+1);store.indices.push(offset+2);store.indices.push(offset+0);store.indices.push(offset+2);store.indices.push(offset+3);store.positions.push(vx-sx-tx);store.positions.push(vy-sy-ty);store.positions.push(vz-sz-tz);store.positions.push(vx+sx-tx);store.positions.push(vy+sy-ty);store.positions.push(vz+sz-tz);store.positions.push(vx+sx+tx);store.positions.push(vy+sy+ty);store.positions.push(vz+sz+tz);store.positions.push(vx-sx+tx);store.positions.push(vy-sy+ty);store.positions.push(vz-sz+tz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);var add=.2;var base=.4;var brightness=(exists(px+nx-ax,py+ny-ay,pz+nz-az,bounds)?0:add)+(exists(px+nx-bx,py+ny-by,pz+nz-bz,bounds)?0:add)+(exists(px+nx-ax-bx,py+ny-ay-by,pz+nz-az-bz,bounds)?0:add)+base;store.colors.push(brightness);store.colors.push(brightness);store.colors.push(brightness);store.colors.push(1);var brightness=(exists(px+nx+ax,py+ny+ay,pz+nz+az,bounds)?0:add)+(exists(px+nx-bx,py+ny-by,pz+nz-bz,bounds)?0:add)+(exists(px+nx+ax-bx,py+ny+ay-by,pz+nz+az-bz,bounds)?0:add)+base;store.colors.push(brightness);store.colors.push(brightness);store.colors.push(brightness);store.colors.push(1);var brightness=(exists(px+nx+ax,py+ny+ay,pz+nz+az,bounds)?0:add)+(exists(px+nx+bx,py+ny+by,pz+nz+bz,bounds)?0:add)+(exists(px+nx+ax+bx,py+ny+ay+by,pz+nz+az+bz,bounds)?0:add)+base;store.colors.push(brightness);store.colors.push(brightness);store.colors.push(brightness);store.colors.push(1);var brightness=(exists(px+nx-ax,py+ny-ay,pz+nz-az,bounds)?0:add)+(exists(px+nx+bx,py+ny+by,pz+nz+bz,bounds)?0:add)+(exists(px+nx-ax+bx,py+ny-ay+by,pz+nz-az+bz,bounds)?0:add)+base;store.colors.push(brightness);store.colors.push(brightness);store.colors.push(brightness);store.colors.push(1);u(store.uvs,CHIP_RATIO_1*block);store.offset+=4}}function bush(){var bushHeight=1;var offset=store.offset;store.indices.push(offset+0);store.indices.push(offset+1);store.indices.push(offset+2);store.indices.push(offset+0);store.indices.push(offset+2);store.indices.push(offset+3);store.indices.push(offset+2);store.indices.push(offset+1);store.indices.push(offset+0);store.indices.push(offset+3);store.indices.push(offset+2);store.indices.push(offset+0);store.indices.push(offset+4+0);store.indices.push(offset+4+1);store.indices.push(offset+4+2);store.indices.push(offset+4+0);store.indices.push(offset+4+2);store.indices.push(offset+4+3);store.indices.push(offset+4+2);store.indices.push(offset+4+1);store.indices.push(offset+4+0);store.indices.push(offset+4+3);store.indices.push(offset+4+2);store.indices.push(offset+4+0);var rot=Math.PI*2*random;var rec=Math.PI*.5;var w=.6;var cx=px+.5;var cz=pz+.5;var x0=cx+Math.cos(rot+rec*0)*w;var z0=cz+Math.sin(rot+rec*0)*w;var x1=cx+Math.cos(-rot+rec*1)*w;var z1=cz+Math.sin(-rot+rec*1)*w;var x2=cx+Math.cos(rot+rec*2)*w;var z2=cz+Math.sin(rot+rec*2)*w;var x3=cx+Math.cos(-rot+rec*3)*w;var z3=cz+Math.sin(-rot+rec*3)*w;store.positions.push(x0);store.positions.push(py);store.positions.push(z0);store.positions.push(x2);store.positions.push(py);store.positions.push(z2);store.positions.push(x2);store.positions.push(py+bushHeight);store.positions.push(z2);store.positions.push(x0);store.positions.push(py+bushHeight);store.positions.push(z0);store.positions.push(x3);store.positions.push(py);store.positions.push(z1);store.positions.push(x1);store.positions.push(py);store.positions.push(z3);store.positions.push(x1);store.positions.push(py+bushHeight);store.positions.push(z3);store.positions.push(x3);store.positions.push(py+bushHeight);store.positions.push(z1);var nx=0,ny=0,nz=1;store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);store.normals.push(nx);store.normals.push(ny);store.normals.push(nz);var r=1,g=1,b=1;store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.colors.push(r);store.colors.push(g);store.colors.push(b);store.colors.push(1);store.uvs.push(0);store.uvs.push(500/4096);store.uvs.push(1e3/4096);store.uvs.push(500/4096);store.uvs.push(1e3/4096);store.uvs.push(0);store.uvs.push(0);store.uvs.push(0);store.uvs.push(0);store.uvs.push(500/4096);store.uvs.push(1e3/4096);store.uvs.push(500/4096);store.uvs.push(1e3/4096);store.uvs.push(0);store.uvs.push(0);store.uvs.push(0);store.offset+=8}switch(block){case airBlock:break;case waterBlock:square(-1,0,0,nxUV,waterBounds);square(1,0,0,pxUV,waterBounds);square(0,-1,0,nyUV,waterBounds);square(0,1,0,pyUV,waterBounds);square(0,0,-1,nzUV,waterBounds);square(0,0,1,pzUV,waterBounds);break;case bushBlock:bush();break;default:square(-1,0,0,nxUV,solidBounds);square(1,0,0,pxUV,solidBounds);square(0,-1,0,nyUV,solidBounds);square(0,1,0,pyUV,solidBounds);square(0,0,-1,nzUV,solidBounds);square(0,0,1,pzUV,solidBounds);break}}}}return{standardMaterialBlocks:standardMaterialBlockStore,waterMaterialBlocks:waterBlockStore,transparentMaterialVertexData:transparentMaterialVertexData}}}}})(PS["Game.Cubbit.MeshBuilder"]=PS["Game.Cubbit.MeshBuilder"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.MeshBuilder"];var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Data_Array=PS["Data.Array"];var Data_Maybe=PS["Data.Maybe"];var Data_Unit=PS["Data.Unit"];var Game_Cubbit_BlockIndex=PS["Game.Cubbit.BlockIndex"];var Game_Cubbit_BlockType=PS["Game.Cubbit.BlockType"];var Game_Cubbit_BoxelMap=PS["Game.Cubbit.BoxelMap"];var Game_Cubbit_Chunk=PS["Game.Cubbit.Chunk"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Game_Cubbit_ChunkMap=PS["Game.Cubbit.ChunkMap"];var Game_Cubbit_Constants=PS["Game.Cubbit.Constants"];var Game_Cubbit_Generation=PS["Game.Cubbit.Generation"];var Game_Cubbit_LocalIndex=PS["Game.Cubbit.LocalIndex"];var Game_Cubbit_Terrain=PS["Game.Cubbit.Terrain"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_AbstractMesh=PS["Graphics.Babylon.AbstractMesh"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Mesh=PS["Graphics.Babylon.Mesh"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_VertexData=PS["Graphics.Babylon.VertexData"];var PerlinNoise=PS["PerlinNoise"];var Prelude=PS["Prelude"];var Control_Applicative=PS["Control.Applicative"];var Data_Functor=PS["Data.Functor"];var Data_Semiring=PS["Data.Semiring"];var Data_Eq=PS["Data.Eq"];var Data_Ring=PS["Data.Ring"];var Data_Ord=PS["Data.Ord"];var loadDefaultChunk=function(ref){return function(index){return function __do(){var v=Control_Monad_Eff_Ref.readRef(ref)();var ci=Game_Cubbit_ChunkIndex.runChunkIndex(index);var v1=Game_Cubbit_Terrain.lookupChunk(index)(v.terrain)();if(v1 instanceof Data_Maybe.Just){return false}if(v1 instanceof Data_Maybe.Nothing){var v2=Game_Cubbit_Generation.createBlockMap(v.terrain.noise)(index);Game_Cubbit_Terrain.insertChunk({x:ci.x,y:ci.y,z:ci.z,index:index,blocks:v2,standardMaterialMesh:Game_Cubbit_Chunk.MeshNotLoaded.value,waterMaterialMesh:Game_Cubbit_Chunk.MeshNotLoaded.value,transparentMaterialMesh:Game_Cubbit_Chunk.MeshNotLoaded.value})(v.terrain)();return true}throw new Error("Failed pattern match at Game.Cubbit.MeshBuilder line 65, column 5 - line 79, column 22: "+[v1.constructor.name])}}};var generateMesh=function(index){return function(verts){return function(mat){return function(scene){var rci=Game_Cubbit_ChunkIndex.runChunkIndex(index);return function __do(){var v=Graphics_Babylon_Mesh.createMesh("terrain")(scene)();Control_Bind.bindFlipped(Control_Monad_Eff.bindEff)(Graphics_Babylon_VertexData.applyToMesh(v)(false))(Graphics_Babylon_VertexData.createVertexData(verts))();Graphics_Babylon_AbstractMesh.setRenderingGroupId(Game_Cubbit_Constants.terrainRenderingGroup)(Graphics_Babylon_Mesh.meshToAbstractMesh(v))();Graphics_Babylon_AbstractMesh.setReceiveShadows(true)(Graphics_Babylon_Mesh.meshToAbstractMesh(v))();Graphics_Babylon_AbstractMesh.setUseVertexColors(true)(Graphics_Babylon_Mesh.meshToAbstractMesh(v))();Graphics_Babylon_AbstractMesh.setMaterial(mat)(Graphics_Babylon_Mesh.meshToAbstractMesh(v))();Graphics_Babylon_AbstractMesh.setIsPickable(false)(Graphics_Babylon_Mesh.meshToAbstractMesh(v))();return v}}}}};var createTerrainGeometryReferences={chunkSize:Game_Cubbit_Constants.chunkSize,blockTypes:Game_Cubbit_BlockType.blockTypes,runChunkIndex:Game_Cubbit_ChunkIndex.runChunkIndex,blockIndex:Game_Cubbit_BlockIndex.blockIndex,globalIndexToChunkIndex:Game_Cubbit_Terrain.globalIndexToChunkIndex,globalIndexToLocalIndex:Game_Cubbit_Terrain.globalIndexToLocalIndex,simplex2:PerlinNoise.simplex2};var createTerrainGeometry=$foreign.createTerrainGeometryJS(createTerrainGeometryReferences);var updateChunkMesh=function(ref){return function(materials){return function(scene){return function(chunkWithMesh){return Data_Functor["void"](Control_Monad_Eff.functorEff)(function __do(){var v=Control_Monad_Eff_Ref.readRef(ref)();var v1=createTerrainGeometry(v.terrain)({index:chunkWithMesh.index,blocks:chunkWithMesh.blocks});var v2=Game_Cubbit_Terrain.lookupChunk(chunkWithMesh.index)(v.terrain)();(function(){if(v2 instanceof Data_Maybe.Nothing){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}if(v2 instanceof Data_Maybe.Just){return Game_Cubbit_Chunk.disposeChunk(v2.value0)}throw new Error("Failed pattern match at Game.Cubbit.MeshBuilder line 194, column 5 - line 196, column 49: "+[v2.constructor.name])})()();var v3=generateMesh(chunkWithMesh.index)(v1.standardMaterialBlocks)(materials.blockMaterial)(scene)();var v4=generateMesh(chunkWithMesh.index)(v1.waterMaterialBlocks)(materials.waterMaterial)(scene)();var v5=generateMesh(chunkWithMesh.index)(v1.transparentMaterialVertexData)(materials.bushMaterial)(scene)();var ci=Game_Cubbit_ChunkIndex.runChunkIndex(chunkWithMesh.index);var v6={x:ci.x,y:ci.y,z:ci.z,index:chunkWithMesh.index,blocks:chunkWithMesh.blocks,standardMaterialMesh:new Game_Cubbit_Chunk.MeshLoaded(v3),waterMaterialMesh:new Game_Cubbit_Chunk.MeshLoaded(v4),transparentMaterialMesh:new Game_Cubbit_Chunk.MeshLoaded(v5)};return Game_Cubbit_Terrain.insertChunk(v6)(v.terrain)()})}}}};var editBlock=function(ref){return function(materials){return function(scene){return function(globalBlockIndex){return function(block){return function __do(){var v=Control_Monad_Eff_Ref.readRef(ref)();var editChunkIndex=Game_Cubbit_Terrain.globalIndexToChunkIndex(globalBlockIndex);var v1=Game_Cubbit_Terrain.lookupChunk(editChunkIndex)(v.terrain)();if(v1 instanceof Data_Maybe.Nothing){return Data_Unit.unit}if(v1 instanceof Data_Maybe.Just){return Data_Functor["void"](Control_Monad_Eff.functorEff)(function(){var localIndex=Game_Cubbit_Terrain.globalIndexToLocalIndex(globalBlockIndex);var li=Game_Cubbit_LocalIndex.runLocalIndex(localIndex);return function __do(){updateChunkMesh(ref)(materials)(scene)(function(){var $41={};for(var $42 in v1.value0){if(v1.value0.hasOwnProperty($42)){$41[$42]=v1.value0[$42]}}$41.blocks=Game_Cubbit_BoxelMap.insert(localIndex)(block)(v1.value0.blocks);return $41}())();var eci=Game_Cubbit_ChunkIndex.runChunkIndex(editChunkIndex);var refreash=function(dx){return function(dy){return function(dz){return function __do(){var v2=Game_Cubbit_Terrain.lookupChunk(Game_Cubbit_ChunkIndex.chunkIndex(eci.x+dx|0)(eci.y+dy|0)(eci.z+dz|0))(v.terrain)();if(v2 instanceof Data_Maybe.Nothing){return Data_Unit.unit}if(v2 instanceof Data_Maybe.Just){return updateChunkMesh(ref)(materials)(scene)(v2.value0)()}throw new Error("Failed pattern match at Game.Cubbit.MeshBuilder line 173, column 21 - line 175, column 88: "+[v2.constructor.name])}}}};Control_Applicative.when(Control_Monad_Eff.applicativeEff)(li.x===0)(refreash(-1)(0)(0))();Control_Applicative.when(Control_Monad_Eff.applicativeEff)(li.x===Game_Cubbit_Constants.chunkSize-1)(refreash(1)(0)(0))();Control_Applicative.when(Control_Monad_Eff.applicativeEff)(li.y===0)(refreash(0)(-1)(0))();Control_Applicative.when(Control_Monad_Eff.applicativeEff)(li.y===Game_Cubbit_Constants.chunkSize-1)(refreash(0)(1)(0))();Control_Applicative.when(Control_Monad_Eff.applicativeEff)(li.z===0)(refreash(0)(0)(-1))();return Control_Applicative.when(Control_Monad_Eff.applicativeEff)(li.z===Game_Cubbit_Constants.chunkSize-1)(refreash(0)(0)(1))()}}())()}throw new Error("Failed pattern match at Game.Cubbit.MeshBuilder line 160, column 5 - line 182, column 58: "+[v1.constructor.name])}}}}}};var createChunkMesh=function(ref){return function(materials){return function(scene){return function(index){return function __do(){var v=Control_Monad_Eff_Ref.readRef(ref)();var i=Game_Cubbit_ChunkIndex.runChunkIndex(index);Control_Monad_Eff.forE(i.x-1)(i.x+2|0)(function(x){return Control_Monad_Eff.forE(i.y-1)(i.y+2|0)(function(y){return Control_Monad_Eff.forE(i.z-1)(i.z+2|0)(function(z){return Data_Functor["void"](Control_Monad_Eff.functorEff)(loadDefaultChunk(ref)(Game_Cubbit_ChunkIndex.chunkIndex(x)(y)(z)))})})})();var v1=Game_Cubbit_Terrain.lookupChunk(index)(v.terrain)();var v2=function(){if(v1 instanceof Data_Maybe.Nothing){return Game_Cubbit_Generation.createBlockMap(v.terrain.noise)(index)}if(v1 instanceof Data_Maybe.Just){return v1.value0.blocks}throw new Error("Failed pattern match at Game.Cubbit.MeshBuilder line 94, column 15 - line 96, column 39: "+[v1.constructor.name])}();var $53=createTerrainGeometry(v.terrain)({index:index,blocks:v2});var v3=Game_Cubbit_Terrain.lookupChunk(index)(v.terrain)();(function(){if(v3 instanceof Data_Maybe.Nothing){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}if(v3 instanceof Data_Maybe.Just){return Game_Cubbit_Chunk.disposeChunk(v3.value0)}throw new Error("Failed pattern match at Game.Cubbit.MeshBuilder line 105, column 13 - line 107, column 57: "+[v3.constructor.name])})()();var ci=Game_Cubbit_ChunkIndex.runChunkIndex(index);var gen=function(vertices){return function(mat){return function(gruop){var $57=0<Data_Array.length(vertices.indices);if($57){return function __do(){var v4=generateMesh(index)(vertices)(mat)(scene)();Graphics_Babylon_AbstractMesh.setRenderingGroupId(gruop)(Graphics_Babylon_Mesh.meshToAbstractMesh(v4))();return new Game_Cubbit_Chunk.MeshLoaded(v4)}}if(!$57){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Game_Cubbit_Chunk.EmptyMeshLoaded.value)}throw new Error("Failed pattern match at Game.Cubbit.MeshBuilder line 112, column 42 - line 118, column 45: "+[$57.constructor.name])}}};var v4=gen($53.standardMaterialBlocks)(materials.blockMaterial)(Game_Cubbit_Constants.terrainRenderingGroup)();var v5=gen($53.waterMaterialBlocks)(materials.waterMaterial)(Game_Cubbit_Constants.terrainRenderingGroup)();var v6=gen($53.transparentMaterialVertexData)(materials.bushMaterial)(Game_Cubbit_Constants.terrainRenderingGroup)();Game_Cubbit_Terrain.insertChunk({x:ci.x,y:ci.y,z:ci.z,index:index,blocks:v2,standardMaterialMesh:v4,waterMaterialMesh:v5,transparentMaterialMesh:v6})(v.terrain)();return 0<(Data_Array.length($53.standardMaterialBlocks.indices)+Data_Array.length($53.waterMaterialBlocks.indices)|0)}}}}};exports["createChunkMesh"]=createChunkMesh;exports["createTerrainGeometry"]=createTerrainGeometry;exports["editBlock"]=editBlock;exports["loadDefaultChunk"]=loadDefaultChunk})(PS["Game.Cubbit.MeshBuilder"]=PS["Game.Cubbit.MeshBuilder"]||{});(function(exports){exports.requestPointerLock=function(callback){return function(onExit){return function(){var mousemoveListener=function(e){callback(e)()};var pointerlockchangeListener=function(){if(!document.pointerLockElement){document.body.removeEventListener("mousemove",mousemoveListener);document.removeEventListener("pointerlockchange",pointerlockchangeListener);onExit()}};document.body.addEventListener("mousemove",mousemoveListener);document.addEventListener("pointerlockchange",pointerlockchangeListener);if(document.body.requestPointerLock){document.body.requestPointerLock()}else if(document.body.webkitRequestPointerLock){document.body.webkitRequestPointerLock()}else if(document.body.mozRequestPointerLock){document.body.mozRequestPointerLock()}else if(document.body.msRequestPointerLock){document.body.msRequestPointerLock()}}}};exports.exitPointerLock=function(){document.exitPointerLock()}})(PS["Game.Cubbit.PointerLock"]=PS["Game.Cubbit.PointerLock"]||{});(function(exports){exports.createRayWithLength=function(origin){return function(direction){return function(length){return function(){return new BABYLON.Ray(origin,direction,length)}}}}})(PS["Graphics.Babylon.Ray"]=PS["Graphics.Babylon.Ray"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Ray"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];exports["createRayWithLength"]=$foreign.createRayWithLength})(PS["Graphics.Babylon.Ray"]=PS["Graphics.Babylon.Ray"]||{});(function(exports){exports.createShadowGenerator=function(size){return function(light){return function(){return new BABYLON.ShadowGenerator(size,light)}}};exports.getShadowMap=function(shadowGenerator){return function(){return shadowGenerator.getShadowMap()}};exports.setRenderList=function(renderList){return function(shadowMap){return function(){shadowMap.renderList=renderList.filter(function(mesh){return 0<mesh.getTotalVertices()&&(!mesh.skeleton||mesh.skeleton.getTransformMatrices(mesh))})}}};exports.setBias=function(bias){return function(generator){return function(){generator.bias=bias}}};exports.setUsePoissonSampling=function(usePoissonSampling){return function(generator){return function(){generator.usePoissonSampling=usePoissonSampling}}}})(PS["Graphics.Babylon.ShadowGenerator"]=PS["Graphics.Babylon.ShadowGenerator"]||{});(function(exports){exports.createDirectionalLight=function(id){return function(direction){return function(scene){return function(){return new BABYLON.DirectionalLight(id,direction,scene)}}}};exports.directionalLightToLight=function(light){return light}})(PS["Graphics.Babylon.DirectionalLight"]=PS["Graphics.Babylon.DirectionalLight"]||{});(function(exports){exports.setDiffuse=function(color){return function(light){return function(){light.diffuse=color}}}})(PS["Graphics.Babylon.Light"]=PS["Graphics.Babylon.Light"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Light"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Color3=PS["Graphics.Babylon.Color3"];exports["setDiffuse"]=$foreign.setDiffuse})(PS["Graphics.Babylon.Light"]=PS["Graphics.Babylon.Light"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.DirectionalLight"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Light=PS["Graphics.Babylon.Light"];exports["createDirectionalLight"]=$foreign.createDirectionalLight;exports["directionalLightToLight"]=$foreign.directionalLightToLight})(PS["Graphics.Babylon.DirectionalLight"]=PS["Graphics.Babylon.DirectionalLight"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.ShadowGenerator"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_DirectionalLight=PS["Graphics.Babylon.DirectionalLight"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];exports["createShadowGenerator"]=$foreign.createShadowGenerator;exports["getShadowMap"]=$foreign.getShadowMap;exports["setBias"]=$foreign.setBias;exports["setRenderList"]=$foreign.setRenderList;exports["setUsePoissonSampling"]=$foreign.setUsePoissonSampling})(PS["Graphics.Babylon.ShadowGenerator"]=PS["Graphics.Babylon.ShadowGenerator"]||{});(function(exports){exports.createTargetCamera=function(name){return function(position){return function(scene){return function(){return new BABYLON.TargetCamera(name,position,scene)}}}};exports.targetCameraToCamera=function(camera){return camera};exports.setTarget=function(position){return function(camera){return function(){camera.setTarget(position)}}}})(PS["Graphics.Babylon.TargetCamera"]=PS["Graphics.Babylon.TargetCamera"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.TargetCamera"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Camera=PS["Graphics.Babylon.Camera"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector2=PS["Graphics.Babylon.Vector2"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];exports["createTargetCamera"]=$foreign.createTargetCamera;exports["setTarget"]=$foreign.setTarget;exports["targetCameraToCamera"]=$foreign.targetCameraToCamera})(PS["Graphics.Babylon.TargetCamera"]=PS["Graphics.Babylon.TargetCamera"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Coroutine=PS["Control.Coroutine"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_AVar=PS["Control.Monad.Aff.AVar"];var Control_Monad_Aff_Class=PS["Control.Monad.Aff.Class"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Free_Trans=PS["Control.Monad.Free.Trans"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Either=PS["Data.Either"];var Data_Foldable=PS["Data.Foldable"];var Data_Maybe=PS["Data.Maybe"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];

var Control_Bind=PS["Control.Bind"];var Data_Function=PS["Data.Function"];var Control_Applicative=PS["Control.Applicative"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Listening=function(){function Listening(){}Listening.value=new Listening;return Listening}();var Done=function(){function Done(){}Done.value=new Done;return Done}();var unEventSource=function(v){return v};var eqSubscribeStatus=new Data_Eq.Eq(function(x){return function(y){if(x instanceof Listening&&y instanceof Listening){return true}if(x instanceof Done&&y instanceof Done){return true}return false}});exports["Listening"]=Listening;exports["Done"]=Done;exports["unEventSource"]=unEventSource;exports["eqSubscribeStatus"]=eqSubscribeStatus})(PS["Halogen.Query.EventSource"]=PS["Halogen.Query.EventSource"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Bifunctor=PS["Data.Bifunctor"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Functor=PS["Data.Functor"];var Data_Function=PS["Data.Function"];var unChildQuery=function(f){return function(v){return f(v.value0)(v.value1)}};exports["unChildQuery"]=unChildQuery})(PS["Halogen.Query.ChildQuery"]=PS["Halogen.Query.ChildQuery"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Functor=PS["Data.Functor"];var Data_Function=PS["Data.Function"];var Control_Category=PS["Control.Category"];var unFork=Unsafe_Coerce.unsafeCoerce;exports["unFork"]=unFork})(PS["Halogen.Query.ForkF"]=PS["Halogen.Query.ForkF"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Applicative_Free=PS["Control.Applicative.Free"];var Control_Monad_Aff_Class=PS["Control.Monad.Aff.Class"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Fork=PS["Control.Monad.Fork"];var Control_Monad_Free=PS["Control.Monad.Free"];var Control_Monad_Reader_Class=PS["Control.Monad.Reader.Class"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_State_Class=PS["Control.Monad.State.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Monad_Writer_Class=PS["Control.Monad.Writer.Class"];var Control_Parallel_Class=PS["Control.Parallel.Class"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_List=PS["Data.List"];var Data_Newtype=PS["Data.Newtype"];var Data_Tuple=PS["Data.Tuple"];var Halogen_Query_ChildQuery=PS["Halogen.Query.ChildQuery"];var Halogen_Query_EventSource=PS["Halogen.Query.EventSource"];var Halogen_Query_ForkF=PS["Halogen.Query.ForkF"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Apply=PS["Control.Apply"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Function=PS["Data.Function"];var Control_Monad_Fork_Class=PS["Control.Monad.Fork.Class"];var Data_Unit=PS["Data.Unit"];var Control_Category=PS["Control.Category"];var HalogenM=function(x){return x};var GetState=function(){function GetState(value0){this.value0=value0}GetState.create=function(value0){return new GetState(value0)};return GetState}();var ModifyState=function(){function ModifyState(value0){this.value0=value0}ModifyState.create=function(value0){return new ModifyState(value0)};return ModifyState}();var Subscribe=function(){function Subscribe(value0,value1){this.value0=value0;this.value1=value1}Subscribe.create=function(value0){return function(value1){return new Subscribe(value0,value1)}};return Subscribe}();var Lift=function(){function Lift(value0){this.value0=value0}Lift.create=function(value0){return new Lift(value0)};return Lift}();var Halt=function(){function Halt(value0){this.value0=value0}Halt.create=function(value0){return new Halt(value0)};return Halt}();var GetSlots=function(){function GetSlots(value0){this.value0=value0}GetSlots.create=function(value0){return new GetSlots(value0)};return GetSlots}();var CheckSlot=function(){function CheckSlot(value0,value1){this.value0=value0;this.value1=value1}CheckSlot.create=function(value0){return function(value1){return new CheckSlot(value0,value1)}};return CheckSlot}();var ChildQuery=function(){function ChildQuery(value0){this.value0=value0}ChildQuery.create=function(value0){return new ChildQuery(value0)};return ChildQuery}();var Raise=function(){function Raise(value0,value1){this.value0=value0;this.value1=value1}Raise.create=function(value0){return function(value1){return new Raise(value0,value1)}};return Raise}();var Par=function(){function Par(value0){this.value0=value0}Par.create=function(value0){return new Par(value0)};return Par}();var Fork=function(){function Fork(value0){this.value0=value0}Fork.create=function(value0){return new Fork(value0)};return Fork}();var functorHalogenM=new Data_Functor.Functor(function(f){return function(v){return Data_Functor.map(Control_Monad_Free.freeFunctor)(f)(v)}});var applyHalogenM=new Control_Apply.Apply(function(){return functorHalogenM},function(v){return function(v1){return Control_Apply.apply(Control_Monad_Free.freeApply)(v)(v1)}});var bindHalogenM=new Control_Bind.Bind(function(){return applyHalogenM},function(v){return function(f){return Control_Bind.bind(Control_Monad_Free.freeBind)(v)(function(x){var $79=f(x);return $79})}});var applicativeHalogenM=new Control_Applicative.Applicative(function(){return applyHalogenM},function(a){return Control_Applicative.pure(Control_Monad_Free.freeApplicative)(a)});var monadHalogenM=new Control_Monad.Monad(function(){return applicativeHalogenM},function(){return bindHalogenM});var monadEffHalogenM=function(dictMonadEff){return new Control_Monad_Eff_Class.MonadEff(function(){return monadHalogenM},function(eff){return HalogenM(Control_Monad_Free.liftF(Lift.create(Control_Monad_Eff_Class.liftEff(dictMonadEff)(eff))))})};var monadStateHalogenM=new Control_Monad_State_Class.MonadState(function(){return monadHalogenM},function($85){return HalogenM(Control_Monad_Free.liftF(ModifyState.create($85)))});exports["GetState"]=GetState;exports["ModifyState"]=ModifyState;exports["Subscribe"]=Subscribe;exports["Lift"]=Lift;exports["Halt"]=Halt;exports["GetSlots"]=GetSlots;exports["CheckSlot"]=CheckSlot;exports["ChildQuery"]=ChildQuery;exports["Raise"]=Raise;exports["Par"]=Par;exports["Fork"]=Fork;exports["HalogenM"]=HalogenM;exports["functorHalogenM"]=functorHalogenM;exports["applyHalogenM"]=applyHalogenM;exports["applicativeHalogenM"]=applicativeHalogenM;exports["bindHalogenM"]=bindHalogenM;exports["monadHalogenM"]=monadHalogenM;exports["monadEffHalogenM"]=monadEffHalogenM;exports["monadStateHalogenM"]=monadStateHalogenM})(PS["Halogen.Query.HalogenM"]=PS["Halogen.Query.HalogenM"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_List=PS["Data.List"];var Data_Map=PS["Data.Map"];var Data_Maybe=PS["Data.Maybe"];var Data_Tuple=PS["Data.Tuple"];var Halogen_Component_ChildPath=PS["Halogen.Component.ChildPath"];var Halogen_Query_EventSource=PS["Halogen.Query.EventSource"];var Halogen_Query_HalogenM=PS["Halogen.Query.HalogenM"];var Control_Parallel=PS["Control.Parallel"];var Control_Monad_Aff_Class=PS["Control.Monad.Aff.Class"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_State_Class=PS["Control.Monad.State.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Category=PS["Control.Category"];var Control_Bind=PS["Control.Bind"];var Data_Functor=PS["Data.Functor"];var Data_List_Types=PS["Data.List.Types"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var action=function(act){return act(Data_Unit.unit)};exports["action"]=action})(PS["Halogen.Query"]=PS["Halogen.Query"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.PointerLock"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Control_Coroutine=PS["Control.Coroutine"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_AVar=PS["Control.Monad.Aff.AVar"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Eff_Now=PS["Control.Monad.Eff.Now"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Control_Monad_Free=PS["Control.Monad.Free"];var DOM=PS["DOM"];var Data_Array=PS["Data.Array"];var Data_Foldable=PS["Data.Foldable"];var Data_Int=PS["Data.Int"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Data_Ord=PS["Data.Ord"];var Data_Show=PS["Data.Show"];var Data_Unit=PS["Data.Unit"];var Data_Void=PS["Data.Void"];var Game_Cubbit_BlockIndex=PS["Game.Cubbit.BlockIndex"];var Game_Cubbit_Chunk=PS["Game.Cubbit.Chunk"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Game_Cubbit_ChunkMap=PS["Game.Cubbit.ChunkMap"];var Game_Cubbit_MeshBuilder=PS["Game.Cubbit.MeshBuilder"];var Game_Cubbit_Terrain=PS["Game.Cubbit.Terrain"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_AbstractMesh=PS["Graphics.Babylon.AbstractMesh"];var Graphics_Babylon_Camera=PS["Graphics.Babylon.Camera"];var Graphics_Babylon_Mesh=PS["Graphics.Babylon.Mesh"];var Graphics_Babylon_Node=PS["Graphics.Babylon.Node"];var Graphics_Babylon_PickingInfo=PS["Graphics.Babylon.PickingInfo"];var Graphics_Babylon_Ray=PS["Graphics.Babylon.Ray"];var Graphics_Babylon_Scene=PS["Graphics.Babylon.Scene"];var Graphics_Babylon_ShadowGenerator=PS["Graphics.Babylon.ShadowGenerator"];var Graphics_Babylon_Skeleton=PS["Graphics.Babylon.Skeleton"];var Graphics_Babylon_TargetCamera=PS["Graphics.Babylon.TargetCamera"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Canvas=PS["Graphics.Canvas"];var Halogen=PS["Halogen"];var Halogen_Query=PS["Halogen.Query"];var Halogen_Query_EventSource=PS["Halogen.Query.EventSource"];var $$Math=PS["Math"];var Network_HTTP_Affjax=PS["Network.HTTP.Affjax"];var Prelude=PS["Prelude"];exports["exitPointerLock"]=$foreign.exitPointerLock;exports["requestPointerLock"]=$foreign.requestPointerLock})(PS["Game.Cubbit.PointerLock"]=PS["Game.Cubbit.PointerLock"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var OrdBox=function(){function OrdBox(value0,value1,value2){this.value0=value0;this.value1=value1;this.value2=value2}OrdBox.create=function(value0){return function(value1){return function(value2){return new OrdBox(value0,value1,value2)}}};return OrdBox}();var unOrdBox=function(v){return v.value2};var mkOrdBox=function(dictOrd){return OrdBox.create(Data_Eq.eq(dictOrd["__superclass_Data.Eq.Eq_0"]()))(Data_Ord.compare(dictOrd))};var eqOrdBox=new Data_Eq.Eq(function(v){return function(v1){return v.value0(v.value2)(v1.value2)}});var ordOrdBox=new Data_Ord.Ord(function(){return eqOrdBox},function(v){return function(v1){return v.value1(v.value2)(v1.value2)}});exports["mkOrdBox"]=mkOrdBox;exports["unOrdBox"]=unOrdBox;exports["eqOrdBox"]=eqOrdBox;exports["ordOrdBox"]=ordOrdBox})(PS["Halogen.Data.OrdBox"]=PS["Halogen.Data.OrdBox"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Exists=PS["Data.Exists"];var Data_Generic=PS["Data.Generic"];var Data_Maybe=PS["Data.Maybe"];var Data_Newtype=PS["Data.Newtype"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var DOM_Event_Types=PS["DOM.Event.Types"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Function=PS["Data.Function"];var Data_Show=PS["Data.Show"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Control_Apply=PS["Control.Apply"];var Data_Unit=PS["Data.Unit"];var Control_Applicative=PS["Control.Applicative"];var TagName=function(x){return x};var PropName=function(x){return x};var Namespace=function(x){return x};var ClassName=function(x){return x};var AttrName=function(x){return x};var PropF=function(){function PropF(value0,value1,value2){this.value0=value0;this.value1=value1;this.value2=value2}PropF.create=function(value0){return function(value1){return function(value2){return new PropF(value0,value1,value2)}}};return PropF}();var Prop=function(){function Prop(value0){this.value0=value0}Prop.create=function(value0){return new Prop(value0)};return Prop}();var Attr=function(){function Attr(value0,value1,value2){this.value0=value0;this.value1=value1;this.value2=value2}Attr.create=function(value0){return function(value1){return function(value2){return new Attr(value0,value1,value2)}}};return Attr}();var Key=function(){function Key(value0){this.value0=value0}Key.create=function(value0){return new Key(value0)};return Key}();var Handler=function(){function Handler(value0,value1){this.value0=value0;this.value1=value1}Handler.create=function(value0){return function(value1){return new Handler(value0,value1)}};return Handler}();var Ref=function(){function Ref(value0){this.value0=value0}Ref.create=function(value0){return new Ref(value0)};return Ref}();var Text=function(){function Text(value0){this.value0=value0}Text.create=function(value0){return new Text(value0)};return Text}();var Element=function(){function Element(value0,value1,value2,value3){this.value0=value0;this.value1=value1;this.value2=value2;this.value3=value3}Element.create=function(value0){return function(value1){return function(value2){return function(value3){return new Element(value0,value1,value2,value3)}}}};return Element}();var Slot=function(){function Slot(value0){this.value0=value0}Slot.create=function(value0){return new Slot(value0)};return Slot}();var Fuse=function(){function Fuse(value0){this.value0=value0}Fuse.create=function(value0){return new Fuse(value0)};return Fuse}();var FuseF=function(){function FuseF(value0,value1,value2){this.value0=value0;this.value1=value1;this.value2=value2}FuseF.create=function(value0){return function(value1){return function(value2){return new FuseF(value0,value1,value2)}}};return FuseF}();var IsProp=function(toPropString){this.toPropString=toPropString};var unFuse=Unsafe_Coerce.unsafeCoerce;var toPropString=function(dict){return dict.toPropString};var stringIsProp=new IsProp(function(v){return function(v1){return function(s){return s}}});var prop=function(dictIsProp){return function(pn){return function(an){return function(v){return new Prop(Data_Exists.mkExists(new PropF(pn,v,Data_Functor.map(Data_Maybe.functorMaybe)(Data_Function.flip(Data_Tuple.Tuple.create)(toPropString(dictIsProp)))(an))))}}}};var newtypeTagName=new Data_Newtype.Newtype(function(n){return n},TagName);var newtypePropName=new Data_Newtype.Newtype(function(n){return n},PropName);var newtypeNamespace=new Data_Newtype.Newtype(function(n){return n},Namespace);var newtypeClassName=new Data_Newtype.Newtype(function(n){return n},ClassName);var newtypeAttrName=new Data_Newtype.Newtype(function(n){return n},AttrName);var mkFuse=Unsafe_Coerce.unsafeCoerce;var intIsProp=new IsProp(function(v){return function(v1){return function(i){return Data_Show.show(Data_Show.showInt)(i)}}});var handler=Handler.create;var functorProp=new Data_Functor.Functor(function(v){return function(v1){if(v1 instanceof Prop){return new Prop(v1.value0)}if(v1 instanceof Key){return new Key(v1.value0)}if(v1 instanceof Attr){return new Attr(v1.value0,v1.value1,v1.value2)}if(v1 instanceof Handler){return new Handler(v1.value0,function($121){return Data_Functor.map(Data_Maybe.functorMaybe)(v)(v1.value1($121))})}if(v1 instanceof Ref){return new Ref(function($122){return Data_Functor.map(Data_Maybe.functorMaybe)(v)(v1.value0($122))})}throw new Error("Failed pattern match at Halogen.HTML.Core line 84, column 3 - line 84, column 26: "+[v.constructor.name,v1.constructor.name])}});var element=Element.create(Data_Maybe.Nothing.value);var booleanIsProp=new IsProp(function(v){return function(v1){return function(v2){if(v2){return v}if(!v2){return""}throw new Error("Failed pattern match at Halogen.HTML.Core line 158, column 3 - line 158, column 45: "+[v.constructor.name,v1.constructor.name,v2.constructor.name])}}});var bifunctorFuse=new Data_Bifunctor.Bifunctor(function(f){return function(g){return unFuse(function(v){return mkFuse(new FuseF(function($123){return f(v.value0($123))},function($124){return g(v.value1($124))},v.value2))})}});var lowerFuse=function(){var go=function(f){return function(g){return function(v){if(v instanceof Text){return new Text(v.value0)}if(v instanceof Element){return new Element(v.value0,v.value1,Data_Functor.map(Data_Functor.functorArray)(Data_Functor.map(functorProp)(g))(v.value2),Data_Functor.map(Data_Functor.functorArray)(go(f)(g))(v.value3))}if(v instanceof Slot){return new Slot(f(v.value0))}if(v instanceof Fuse){return lowerFuse(Data_Bifunctor.bimap(bifunctorFuse)(f)(g)(v.value0))}throw new Error("Failed pattern match at Halogen.HTML.Core line 130, column 12 - line 138, column 30: "+[v.constructor.name])}}};return unFuse(function(v){return go(v.value0)(v.value1)(v.value2)})}();exports["AttrName"]=AttrName;exports["ClassName"]=ClassName;exports["Text"]=Text;exports["Element"]=Element;exports["Slot"]=Slot;exports["Fuse"]=Fuse;exports["Namespace"]=Namespace;exports["Prop"]=Prop;exports["Attr"]=Attr;exports["Key"]=Key;exports["Handler"]=Handler;exports["Ref"]=Ref;exports["PropF"]=PropF;exports["PropName"]=PropName;exports["TagName"]=TagName;exports["IsProp"]=IsProp;exports["element"]=element;exports["handler"]=handler;exports["lowerFuse"]=lowerFuse;exports["prop"]=prop;exports["toPropString"]=toPropString;exports["functorProp"]=functorProp;exports["bifunctorFuse"]=bifunctorFuse;exports["stringIsProp"]=stringIsProp;exports["intIsProp"]=intIsProp;exports["booleanIsProp"]=booleanIsProp;exports["newtypeNamespace"]=newtypeNamespace;exports["newtypeTagName"]=newtypeTagName;exports["newtypePropName"]=newtypePropName;exports["newtypeAttrName"]=newtypeAttrName;exports["newtypeClassName"]=newtypeClassName})(PS["Halogen.HTML.Core"]=PS["Halogen.HTML.Core"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Const=PS["Data.Const"];var Data_Lazy=PS["Data.Lazy"];var Data_Maybe=PS["Data.Maybe"];var Halogen_Component_ChildPath=PS["Halogen.Component.ChildPath"];var Halogen_Data_OrdBox=PS["Halogen.Data.OrdBox"];var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Halogen_Query_HalogenM=PS["Halogen.Query.HalogenM"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var Data_Ord=PS["Data.Ord"];var unComponentSlot=function(f){return function(cs){var $10=Unsafe_Coerce.unsafeCoerce(cs);return f($10.value0)($10.value1)($10.value2)}};var unComponent=Unsafe_Coerce.unsafeCoerce;var mkComponent=Unsafe_Coerce.unsafeCoerce;var lifecycleComponent=function(spec){return mkComponent({initialState:spec.initialState,render:Unsafe_Coerce.unsafeCoerce(spec.render),eval:spec["eval"],initializer:spec.initializer,finalizer:spec.finalizer,mkOrdBox:Halogen_Data_OrdBox.mkOrdBox(Data_Ord.ordVoid)})};var component=function(spec){return lifecycleComponent({initialState:spec.initialState,render:spec.render,eval:spec["eval"],initializer:Data_Maybe.Nothing.value,finalizer:Data_Maybe.Nothing.value})};exports["component"]=component;exports["lifecycleComponent"]=lifecycleComponent;exports["mkComponent"]=mkComponent;exports["unComponent"]=unComponent;exports["unComponentSlot"]=unComponentSlot})(PS["Halogen.Component"]=PS["Halogen.Component"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Maybe=PS["Data.Maybe"];var Data_MediaType=PS["Data.MediaType"];var Data_Newtype=PS["Data.Newtype"];var Data_String=PS["Data.String"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Function=PS["Data.Function"];var Data_Show=PS["Data.Show"];var Data_Semigroup=PS["Data.Semigroup"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Functor=PS["Data.Functor"];var Pixels=function(){function Pixels(value0){this.value0=value0}Pixels.create=function(value0){return new Pixels(value0)};return Pixels}();var Percent=function(){function Percent(value0){this.value0=value0}Percent.create=function(value0){return new Percent(value0)};return Percent}();var prop=function(dictIsProp){return Unsafe_Coerce.unsafeCoerce(Halogen_HTML_Core.prop(dictIsProp))};var src=prop(Halogen_HTML_Core.stringIsProp)("src")(Data_Maybe.Just.create("src"));var tabIndex=prop(Halogen_HTML_Core.intIsProp)("tabIndex")(Data_Maybe.Just.create("tabindex"));var printLengthLiteral=function(v){if(v instanceof Pixels){return Data_Show.show(Data_Show.showInt)(v.value0)}if(v instanceof Percent){return Data_Show.show(Data_Show.showNumber)(v.value0)+"%"}throw new Error("Failed pattern match at Halogen.HTML.Properties line 165, column 22 - line 169, column 1: "+[v.constructor.name])};var width=function($29){return prop(Halogen_HTML_Core.stringIsProp)("width")(Data_Maybe.Just.create("width"))(printLengthLiteral($29))};var name=prop(Halogen_HTML_Core.stringIsProp)("name")(Data_Maybe.Just.create("name"));var id_=prop(Halogen_HTML_Core.stringIsProp)("id")(Data_Maybe.Just.create("id"));var height=function($31){return prop(Halogen_HTML_Core.stringIsProp)("height")(Data_Maybe.Just.create("height"))(printLengthLiteral($31))};var class_=function($35){return prop(Halogen_HTML_Core.stringIsProp)("className")(Data_Maybe.Just.create("class"))(Data_Newtype.unwrap(Halogen_HTML_Core.newtypeClassName)($35))};var autofocus=prop(Halogen_HTML_Core.booleanIsProp)("autofocus")(Data_Maybe.Just.create("autofocus"));exports["Pixels"]=Pixels;exports["Percent"]=Percent;exports["autofocus"]=autofocus;exports["class_"]=class_;exports["height"]=height;exports["id_"]=id_;exports["name"]=name;exports["printLengthLiteral"]=printLengthLiteral;exports["prop"]=prop;exports["src"]=src;exports["tabIndex"]=tabIndex;exports["width"]=width})(PS["Halogen.HTML.Properties"]=PS["Halogen.HTML.Properties"]||{});(function(exports){"use strict";var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Halogen_HTML_Properties=PS["Halogen.HTML.Properties"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var element=Unsafe_Coerce.unsafeCoerce(Halogen_HTML_Core.element);var img=function(props){return element("img")(props)([])};var p=element("p");var div=element("div");var canvas=function(props){return element("canvas")(props)([])};var button=element("button");exports["button"]=button;exports["canvas"]=canvas;exports["div"]=div;exports["element"]=element;exports["img"]=img;exports["p"]=p})(PS["Halogen.HTML.Elements"]=PS["Halogen.HTML.Elements"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Data_Lazy=PS["Data.Lazy"];var Data_Maybe=PS["Data.Maybe"];var Halogen_Component=PS["Halogen.Component"];var Halogen_Component_ChildPath=PS["Halogen.Component.ChildPath"];var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Halogen_HTML_Elements=PS["Halogen.HTML.Elements"];var Halogen_HTML_Properties=PS["Halogen.HTML.Properties"];var Data_Functor=PS["Data.Functor"];var text=Halogen_HTML_Core.Text.create;exports["text"]=text})(PS["Halogen.HTML"]=PS["Halogen.HTML"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Except=PS["Control.Monad.Except"];var Data_Either=PS["Data.Either"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];var Data_Maybe=PS["Data.Maybe"];var DOM_Event_Types=PS["DOM.Event.Types"];var DOM_Event_Event=PS["DOM.Event.Event"];var DOM_HTML_Event_Types=PS["DOM.HTML.Event.Types"];var Halogen_Query=PS["Halogen.Query"];var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Halogen_HTML_Properties=PS["Halogen.HTML.Properties"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Function=PS["Data.Function"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Foreign_Index=PS["Data.Foreign.Index"];var mouseHandler=Unsafe_Coerce.unsafeCoerce;var keyHandler=Unsafe_Coerce.unsafeCoerce;var handler=Unsafe_Coerce.unsafeCoerce(Halogen_HTML_Core.handler);var onClick=function($2){return handler("click")(mouseHandler($2))};var onContextMenu=function($3){return handler("contextmenu")(mouseHandler($3))};var onKeyDown=function($5){return handler("keydown")(keyHandler($5))};var onKeyUp=function($7){return handler("keyup")(keyHandler($7))};var onMouseDown=function($8){return handler("mousedown")(mouseHandler($8))};var onMouseMove=function($11){return handler("mousemove")(mouseHandler($11))};exports["handler"]=handler;exports["onClick"]=onClick;exports["onContextMenu"]=onContextMenu;exports["onKeyDown"]=onKeyDown;exports["onKeyUp"]=onKeyUp;exports["onMouseDown"]=onMouseDown;exports["onMouseMove"]=onMouseMove})(PS["Halogen.HTML.Events"]=PS["Halogen.HTML.Events"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_AVar=PS["Control.Monad.Aff.AVar"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Data_List=PS["Data.List"];var Data_Map=PS["Data.Map"];var Data_Maybe=PS["Data.Maybe"];var Halogen_Component=PS["Halogen.Component"];var Halogen_Data_OrdBox=PS["Halogen.Data.OrdBox"];var Halogen_Effects=PS["Halogen.Effects"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Data_Eq=PS["Data.Eq"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Show=PS["Data.Show"];var Control_Bind=PS["Control.Bind"];var Data_Functor=PS["Data.Functor"];var Data_List_Types=PS["Data.List.Types"];var Data_Function=PS["Data.Function"];var Control_Applicative=PS["Control.Applicative"];var Root=function(){function Root(){}Root.value=new Root;return Root}();var Child=function(){function Child(){}Child.value=new Child;return Child}();var unDriverStateX=Unsafe_Coerce.unsafeCoerce;var mkDriverStateXVar=Unsafe_Coerce.unsafeCoerce;var initDriverState=function(component){return function(componentType){return function(handler){return function(keyId){return function(fresh){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.makeVar)(function(v){var ds={component:component,componentType:componentType,state:component.initialState,children:Data_Map.empty,mkOrdBox:component.mkOrdBox,selfRef:v,keyId:keyId,fresh:fresh,handler:handler,pendingIn:Data_Functor.voidLeft(Data_Maybe.functorMaybe)(component.initializer)(Data_List_Types.Nil.value),pendingOut:Data_Functor.voidLeft(Data_Maybe.functorMaybe)(component.initializer)(Data_List_Types.Nil.value),rendering:Data_Maybe.Nothing.value};return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.putVar(v)(ds))(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(mkDriverStateXVar(v))})})}}}}};exports["Root"]=Root;exports["Child"]=Child;exports["initDriverState"]=initDriverState;exports["unDriverStateX"]=unDriverStateX})(PS["Halogen.Aff.Driver.State"]=PS["Halogen.Aff.Driver.State"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Applicative_Free=PS["Control.Applicative.Free"];var Control_Coroutine=PS["Control.Coroutine"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_AVar=PS["Control.Monad.Aff.AVar"];var Control_Monad_Aff_Unsafe=PS["Control.Monad.Aff.Unsafe"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Free=PS["Control.Monad.Free"];var Control_Monad_Fork=PS["Control.Monad.Fork"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Parallel=PS["Control.Parallel"];var Data_Lazy=PS["Data.Lazy"];var Data_List=PS["Data.List"];var Data_Either=PS["Data.Either"];var Data_Map=PS["Data.Map"];var Data_Maybe=PS["Data.Maybe"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Halogen=PS["Halogen"];var Halogen_Aff_Driver_State=PS["Halogen.Aff.Driver.State"];var Halogen_Component=PS["Halogen.Component"];var Halogen_Data_OrdBox=PS["Halogen.Data.OrdBox"];var Halogen_Effects=PS["Halogen.Effects"];var Halogen_Query_ChildQuery=PS["Halogen.Query.ChildQuery"];var Halogen_Query_ForkF=PS["Halogen.Query.ForkF"];var Halogen_Query_HalogenM=PS["Halogen.Query.HalogenM"];var Halogen_Query_EventSource=PS["Halogen.Query.EventSource"];var Control_Bind=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Data_Function=PS["Data.Function"];var Data_List_Types=PS["Data.List.Types"];var Data_Foldable=PS["Data.Foldable"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Data_Semiring=PS["Data.Semiring"];var Data_Ord=PS["Data.Ord"];var Control_Monad_Free_Trans=PS["Control.Monad.Free.Trans"];var Data_Eq=PS["Data.Eq"];var Control_Parallel_Class=PS["Control.Parallel.Class"];var Control_Monad_Fork_Class=PS["Control.Monad.Fork.Class"];var peekVar=function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar(v))(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.putVar(v)(v1))(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v1)})})};var handleLifecycle=function(f){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.newRef({initializers:Data_List_Types.Nil.value,finalizers:Data_List_Types.Nil.value})))(function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(f(v))(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.readRef(v)))(function(v2){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff.forkAll(Data_List_Types.foldableList)(v2.finalizers))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Data_Foldable.sequence_(Control_Monad_Aff.applicativeAff)(Data_List_Types.foldableList)(v2.initializers))(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v1)})})})})})};var handleAff=function($138){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Aff.runAff(Control_Monad_Eff_Exception.throwException)(Data_Function["const"](Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)))($138))};var runUI=function(renderSpec){return function(component){var subscribe=function(fresh){return function(ref){return function(consumer){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.makeVar)(function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(function __do(){var v1=Control_Monad_Eff_Ref.readRef(fresh)();Control_Monad_Eff_Ref.modifyRef(fresh)(function(v2){return v2+1|0})();Control_Monad_Eff_Ref.modifyRef(ref)(Data_Map.insert(Data_Ord.ordInt)(v1)(v))();return v1}))(function(v1){var producer=Control_Coroutine.producer(Control_Monad_Aff.monadAff)(Data_Functor.map(Control_Monad_Aff.functorAff)(Data_Either.Left.create)(Control_Monad_Aff_AVar.takeVar(v)));return Data_Functor["void"](Control_Monad_Aff.functorAff)(Control_Monad_Aff.forkAff(Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Coroutine.runProcess(Control_Monad_Aff.monadRecAff)(Control_Coroutine.connect(Control_Monad_Aff.monadRecAff)(Control_Monad_Aff.parallelParAff)(producer)(consumer)))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.modifyRef(ref)(Data_Map["delete"](Data_Ord.ordInt)(v1))))(function(){
return Control_Monad_Aff_AVar.killVar(v)(Control_Monad_Eff_Exception.error("ended"))})})))})})}}};var rootHandler=function(ref){return function(message){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.readRef(ref)))(function(v){return Data_Functor["void"](Control_Monad_Aff.functorAff)(Control_Monad_Aff.forkAll(Data_Map.foldableMap)(Data_Functor.map(Data_Map.functorMap)(function($$var){return Control_Monad_Aff_AVar.putVar($$var)(message)})(v)))})}};var queuingHandler=function($$var){return function(handler){return function(message){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar($$var))(function(v){if(v.pendingIn instanceof Data_Maybe.Nothing){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.putVar($$var)(v))(function(){return handler(message)})}if(v.pendingIn instanceof Data_Maybe.Just){return Control_Monad_Aff_AVar.putVar($$var)(function(){var $51={};for(var $52 in v){if(v.hasOwnProperty($52)){$51[$52]=v[$52]}}$51.pendingIn=new Data_Maybe.Just(new Data_List_Types.Cons(handler(message),v.pendingIn.value0));return $51}())}throw new Error("Failed pattern match at Halogen.Aff.Driver line 269, column 5 - line 274, column 82: "+[v.pendingIn.constructor.name])})}}};var handlePending=function(ref){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar(ref))(function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.putVar(ref)(function(){var $57={};for(var $58 in v){if(v.hasOwnProperty($58)){$57[$58]=v[$58]}}$57.pendingIn=Data_Maybe.Nothing.value;return $57}()))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Data_Foldable.for_(Control_Monad_Aff.applicativeAff)(Data_Foldable.foldableMaybe)(v.pendingIn)(function($139){return Control_Monad_Aff.forkAll(Data_List_Types.foldableList)(Data_List.reverse($139))}))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar(ref))(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.putVar(ref)(function(){var $61={};for(var $62 in v1){if(v1.hasOwnProperty($62)){$61[$62]=v1[$62]}}$61.pendingOut=Data_Maybe.Nothing.value;return $61}()))(function(){return Data_Foldable.for_(Control_Monad_Aff.applicativeAff)(Data_Foldable.foldableMaybe)(v1.pendingOut)(function($140){return Control_Monad_Aff.forkAll(Data_List_Types.foldableList)(Data_Functor.map(Data_List_Types.functorList)(v1.handler)(Data_List.reverse($140)))})})})})})})};var squashChildInitializers=function(ref){return Halogen_Aff_Driver_State.unDriverStateX(function(st){var parentInitializer=Data_Functor.map(Data_Maybe.functorMaybe)(evalF(st.selfRef))(st.component.initializer);return Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(lchs){return{initializers:Control_Applicative.pure(Data_List_Types.applicativeList)(Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Parallel.parSequence_(Control_Monad_Aff.parallelParAff)(Data_List_Types.traversableList)(Data_List.reverse(lchs.initializers)))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Data_Foldable.sequence_(Control_Monad_Aff.applicativeAff)(Data_Foldable.foldableMaybe)(parentInitializer))(function(){return handlePending(st.selfRef)})})),finalizers:lchs.finalizers}}))})};var runComponent=function(handler){return function(fresh){return function(lchs){return function(componentType){return Halogen_Component.unComponent(function(c){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.readRef(fresh)))(function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.modifyRef(fresh)(function(v1){return v1+1|0})))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Halogen_Aff_Driver_State.initDriverState(c)(componentType)(handler)(v)(fresh))(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Bind.bindFlipped(Control_Monad_Aff.bindAff)(Halogen_Aff_Driver_State.unDriverStateX(function($141){return render(lchs)(function(v2){return v2.selfRef}($141))}))(peekVar(v1)))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Bind.bindFlipped(Control_Monad_Aff.bindAff)(squashChildInitializers(lchs))(peekVar(v1)))(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v1)})})})})})})}}}};var renderChild=function(handler){return function(fresh){return function(mkOrdBox){return function(childrenInRef){return function(childrenOutRef){return function(lchs){return Halogen_Component.unComponentSlot(function(p){return function(ctor){return function(k){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.readRef(childrenInRef)))(function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(function(){var $70=Data_Map.pop(Halogen_Data_OrdBox.ordOrdBox)(mkOrdBox(p))(v);if($70 instanceof Data_Maybe.Just){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.writeRef(childrenInRef)($70.value0.value1)))(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)($70.value0.value0)})}if($70 instanceof Data_Maybe.Nothing){return runComponent(function($142){return Data_Maybe.maybe(Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(Data_Unit.unit))(handler)(k($142))})(fresh)(lchs)(Halogen_Aff_Driver_State.Child.value)(Data_Lazy.force(ctor))}throw new Error("Failed pattern match at Halogen.Aff.Driver line 289, column 14 - line 294, column 87: "+[$70.constructor.name])}())(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.modifyRef(childrenOutRef)(Data_Map.insert(Halogen_Data_OrdBox.ordOrdBox)(mkOrdBox(p))(v1))))(function(){return Control_Bind.bindFlipped(Control_Monad_Aff.bindAff)(Halogen_Aff_Driver_State.unDriverStateX(function(st){return renderSpec.renderChild(st.keyId)(st.rendering)}))(peekVar(v1))})})})}}})}}}}}};var render=function(lchs){return function($$var){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar($$var))(function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.newRef(Data_Map.empty)))(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.newRef(v.children)))(function(v2){var selfEval=evalF(v.selfRef);var handler=function($143){return Data_Functor["void"](Control_Monad_Aff.functorAff)(selfEval($143))};var handler$prime=Data_Maybe.maybe(handler)(function(v3){return queuingHandler(v.selfRef)(handler)})(v.pendingIn);return Control_Bind.bind(Control_Monad_Aff.bindAff)(renderSpec.render(function($144){return handleAff(selfEval($144))})(renderChild(handler$prime)(v.fresh)(v.mkOrdBox)(v2)(v1)(lchs))(v.component.render(v.state))(v.componentType)(v.rendering))(function(v3){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.readRef(v1)))(function(v4){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.readRef(v2)))(Data_Foldable.traverse_(Control_Monad_Aff.applicativeAff)(Data_Map.foldableMap)(Control_Bind.composeKleisliFlipped(Control_Monad_Aff.bindAff)(addFinalizer(lchs))(peekVar))))(function(){return Control_Monad_Aff_AVar.putVar($$var)({rendering:new Data_Maybe.Just(v3),componentType:v.componentType,component:v.component,state:v.state,children:v4,mkOrdBox:v.mkOrdBox,selfRef:v.selfRef,handler:v.handler,pendingIn:v.pendingIn,pendingOut:v.pendingOut,keyId:v.keyId,fresh:v.fresh})})})})})})})}};var evalM=function(ref){return function(v){return Control_Monad_Free.foldFree(Control_Monad_Aff.monadRecAff)($$eval(ref))(v)}};var evalF=function(ref){return function(q){return Control_Bind.bind(Control_Monad_Aff.bindAff)(peekVar(ref))(function(v){var $84=v.component["eval"](q);return Control_Monad_Free.foldFree(Control_Monad_Aff.monadRecAff)($$eval(ref))($84)})}};var evalChildQuery=function(ref){return Halogen_Query_ChildQuery.unChildQuery(function(p){return function(k){return Control_Bind.bind(Control_Monad_Aff.bindAff)(peekVar(ref))(function(v){var $86=Data_Map.lookup(Halogen_Data_OrdBox.ordOrdBox)(v.mkOrdBox(p))(v.children);if($86 instanceof Data_Maybe.Just){return Control_Bind.bind(Control_Monad_Aff.bindAff)(peekVar($86.value0))(function(v1){return k(Halogen_Aff_Driver_State.unDriverStateX(function(ds){return evalF(ds.selfRef)})(v1))})}if($86 instanceof Data_Maybe.Nothing){return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("Slot lookup failed for child query"))}throw new Error("Failed pattern match at Halogen.Aff.Driver line 199, column 5 - line 203, column 73: "+[$86.constructor.name])})}})};var $$eval=function(ref){return function(v){if(v instanceof Halogen_Query_HalogenM.GetState){return Control_Bind.bind(Control_Monad_Aff.bindAff)(peekVar(ref))(function(v1){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v.value0(v1.state))})}if(v instanceof Halogen_Query_HalogenM.ModifyState){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar(ref))(function(v1){var $94=v.value0(v1.state);return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.putVar(ref)(function(){var $95={};for(var $96 in v1){if(v1.hasOwnProperty($96)){$95[$96]=v1[$96]}}$95.state=$94.value1;return $95}()))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(handleLifecycle(function(lchs){return render(lchs)(ref)}))(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)($94.value0)})})})}if(v instanceof Halogen_Query_HalogenM.Subscribe){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff.forkAff(Control_Bind.bind(Control_Monad_Aff.bindAff)(Halogen_Query_EventSource.unEventSource(v.value0))(function(v1){var consumer=Control_Bind.bind(Control_Monad_Free_Trans.bindFreeT(Control_Coroutine.functorAwait)(Control_Monad_Aff.monadAff))(Control_Bind.bindFlipped(Control_Monad_Free_Trans.bindFreeT(Control_Coroutine.functorAwait)(Control_Monad_Aff.monadAff))(function($145){return Control_Monad_Trans_Class.lift(Control_Monad_Free_Trans.monadTransFreeT(Control_Coroutine.functorAwait))(Control_Monad_Aff.monadAff)(evalF(ref)($145))})(Control_Coroutine["await"](Control_Monad_Aff.monadAff)))(function(v2){return Control_Applicative.when(Control_Monad_Free_Trans.applicativeFreeT(Control_Coroutine.functorAwait)(Control_Monad_Aff.monadAff))(Data_Eq.eq(Halogen_Query_EventSource.eqSubscribeStatus)(v2)(Halogen_Query_EventSource.Listening.value))(consumer)});return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Coroutine.runProcess(Control_Monad_Aff.monadRecAff)(Control_Coroutine.pullFrom(Control_Monad_Aff.monadRecAff)(consumer)(v1.producer)))(function(){return v1.done})})))(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v.value1)})}if(v instanceof Halogen_Query_HalogenM.Lift){return v.value0}if(v instanceof Halogen_Query_HalogenM.Halt){return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error(v.value0))}if(v instanceof Halogen_Query_HalogenM.GetSlots){return Control_Bind.bind(Control_Monad_Aff.bindAff)(peekVar(ref))(function(v1){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v.value0(Data_Functor.map(Data_List_Types.functorList)(Halogen_Data_OrdBox.unOrdBox)(Data_Map.keys(v1.children))))})}if(v instanceof Halogen_Query_HalogenM.CheckSlot){return Control_Bind.bind(Control_Monad_Aff.bindAff)(peekVar(ref))(function(v1){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v.value1(Data_Map.member(Halogen_Data_OrdBox.ordOrdBox)(v1.mkOrdBox(v.value0))(v1.children)))})}if(v instanceof Halogen_Query_HalogenM.ChildQuery){return evalChildQuery(ref)(v.value0)}if(v instanceof Halogen_Query_HalogenM.Raise){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar(ref))(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(function(){if(v1.pendingOut instanceof Data_Maybe.Nothing){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.putVar(ref)(v1))(function(){return v1.handler(v.value0)})}if(v1.pendingOut instanceof Data_Maybe.Just){return Control_Monad_Aff_AVar.putVar(ref)(function(){var $121={};for(var $122 in v1){if(v1.hasOwnProperty($122)){$121[$122]=v1[$122]}}$121.pendingOut=new Data_Maybe.Just(new Data_List_Types.Cons(v.value0,v1.pendingOut.value0));return $121}())}throw new Error("Failed pattern match at Halogen.Aff.Driver line 179, column 7 - line 184, column 71: "+[v1.pendingOut.constructor.name])}())(function(){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(v.value1)})})}if(v instanceof Halogen_Query_HalogenM.Par){return Control_Parallel_Class.sequential(Control_Monad_Aff.parallelParAff)(Control_Applicative_Free.retractFreeAp(Control_Monad_Aff.applicativeParAff)(Control_Applicative_Free.hoistFreeAp(function($146){return Control_Parallel_Class.parallel(Control_Monad_Aff.parallelParAff)(evalM(ref)($146))})(v.value0)))}if(v instanceof Halogen_Query_HalogenM.Fork){return Halogen_Query_ForkF.unFork(function(v1){return Data_Functor.map(Control_Monad_Aff.functorAff)(function($147){return v1.value1(Data_Functor.map(Data_Functor.functorFn)(Control_Monad_Aff_Unsafe.unsafeCoerceAff)($147))})(Control_Monad_Fork_Class.fork(Control_Monad_Fork_Class.monadForkAff)(evalM(ref)(v1.value0)))})(v.value0)}throw new Error("Failed pattern match at Halogen.Aff.Driver line 144, column 14 - line 190, column 61: "+[v.constructor.name])}};var addFinalizer=function(ref){return Halogen_Aff_Driver_State.unDriverStateX(function(st){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Data_Foldable.for_(Control_Monad_Aff.applicativeAff)(Data_Foldable.foldableMaybe)(Data_Functor.map(Data_Maybe.functorMaybe)(evalF(st.selfRef))(st.component.finalizer))(function(f){return Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(lchs){return{initializers:lchs.initializers,finalizers:new Data_List_Types.Cons(f,lchs.finalizers)}}))}))(function(){return Data_Foldable.for_(Control_Monad_Aff.applicativeAff)(Data_Map.foldableMap)(st.children)(Control_Bind.composeKleisliFlipped(Control_Monad_Aff.bindAff)(addFinalizer(ref))(peekVar))})})};var addInitializer=function(ref){return Halogen_Aff_Driver_State.unDriverStateX(function(st){var $134=Data_Functor.map(Data_Maybe.functorMaybe)(evalF(st.selfRef))(st.component.initializer);if($134 instanceof Data_Maybe.Just){return Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(lchs){return{initializers:new Data_List_Types.Cons(handlePending(st.selfRef),new Data_List_Types.Cons($134.value0,lchs.initializers)),finalizers:lchs.finalizers}}))}return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(Data_Unit.unit)})};return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.newRef(0)))(function(v){return handleLifecycle(function(lchs){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.newRef(Data_Map.empty)))(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Bind.bind(Control_Monad_Aff.bindAff)(runComponent(rootHandler(v1))(v)(lchs)(Halogen_Aff_Driver_State.Root.value)(component))(peekVar))(Halogen_Aff_Driver_State.unDriverStateX(function(st){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)({query:evalF(st.selfRef),subscribe:subscribe(v)(v1)})}))})})})}};exports["runUI"]=runUI})(PS["Halogen.Aff.Driver"]=PS["Halogen.Aff.Driver"]||{});(function(exports){"use strict";var vcreateElement=require("virtual-dom/create-element");var vdiff=require("virtual-dom/diff");var vpatch=require("virtual-dom/patch");var VText=require("virtual-dom/vnode/vtext");var VirtualNode=require("virtual-dom/vnode/vnode");var SoftSetHook=require("virtual-dom/virtual-hyperscript/hooks/soft-set-hook");exports.prop=function(key,value){var props={};props[key]=value;return props};exports.attr=function(key,value){var props={attributes:{}};props.attributes[key]=value;return props};function HandlerHook(key,f){this.key=key;this.callback=function(e){f(e)()}}HandlerHook.prototype={hook:function(node){node.addEventListener(this.key,this.callback)},unhook:function(node){node.removeEventListener(this.key,this.callback)}};exports.handlerProp=function(key,f){var props={};props["halogen-hook-"+key]=new HandlerHook(key,f);return props};exports.refPropImpl=function(nothing){return function(just){var ifHookFn=function(init){return function(node,prop,diff){if(typeof diff==="undefined"){this.f(init?just(node):nothing)()}}};function RefHook(f){this.f=f}RefHook.prototype={hook:ifHookFn(true),unhook:ifHookFn(false)};return function(f){return{"halogen-ref":new RefHook(f)}}}};exports.concatProps=function(){var hOP=Object.prototype.hasOwnProperty;var copy=function(props,result){for(var key in props){if(hOP.call(props,key)){if(key==="attributes"){var attrs=props[key];var resultAttrs=result[key]||(result[key]={});for(var attr in attrs){if(hOP.call(attrs,attr)){resultAttrs[attr]=attrs[attr]}}}else{result[key]=props[key]}}}return result};return function(p1,p2){return copy(p2,copy(p1,{}))}}();exports.emptyProps={};exports.createElement=function(vtree){return function(){return vcreateElement(vtree)}};exports.diff=function(vtree1){return function(vtree2){return vdiff(vtree1,vtree2)}};exports.patch=function(p){return function(node){return function(){return vpatch(node,p)}}};exports.vtext=function(s){return new VText(s)};exports.vnode=function(namespace){return function(name){return function(key){return function(props){return function(children){if(name==="input"&&props.value!==undefined){props.value=new SoftSetHook(props.value)}return new VirtualNode(name,props,children,key,namespace)}}}}};function HalogenWidget(key,el){this.key=key;this.el=el}HalogenWidget.prototype={type:"Widget",init:function(){return this.el},update:function(){return this.el}};exports.widget=function(key){return function(el){return new HalogenWidget(key,el)}}})(PS["Halogen.VirtualDOM.Internal"]=PS["Halogen.VirtualDOM.Internal"]||{});(function(exports){"use strict";var $foreign=PS["Halogen.VirtualDOM.Internal"];var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Monoid=PS["Data.Monoid"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var DOM=PS["DOM"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var Data_Semigroup=PS["Data.Semigroup"];var semigroupProps=new Data_Semigroup.Semigroup(Data_Function_Uncurried.runFn2($foreign.concatProps));var refProp=$foreign.refPropImpl(Data_Maybe.Nothing.value)(Data_Maybe.Just.create);var monoidProps=new Data_Monoid.Monoid(function(){return semigroupProps},$foreign.emptyProps);exports["refProp"]=refProp;exports["semigroupProps"]=semigroupProps;exports["monoidProps"]=monoidProps;exports["attr"]=$foreign.attr;exports["createElement"]=$foreign.createElement;exports["diff"]=$foreign.diff;exports["handlerProp"]=$foreign.handlerProp;exports["patch"]=$foreign.patch;exports["prop"]=$foreign.prop;exports["vnode"]=$foreign.vnode;exports["vtext"]=$foreign.vtext;exports["widget"]=$foreign.widget})(PS["Halogen.VirtualDOM.Internal"]=PS["Halogen.VirtualDOM.Internal"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Exists=PS["Data.Exists"];var Data_Foldable=PS["Data.Foldable"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Nullable=PS["Data.Nullable"];var Data_Traversable=PS["Data.Traversable"];var Halogen_Effects=PS["Halogen.Effects"];var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Halogen_VirtualDOM_Internal=PS["Halogen.VirtualDOM.Internal"];var Data_Semigroup=PS["Data.Semigroup"];var DOM_Event_Types=PS["DOM.Event.Types"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var Data_Function=PS["Data.Function"];var Control_Bind=PS["Control.Bind"];var Data_Functor=PS["Data.Functor"];var renderPropF=function(v){return Halogen_VirtualDOM_Internal.prop(Data_Newtype.unwrap(Halogen_HTML_Core.newtypePropName)(v.value0),v.value1)};var renderProp=function(driver){return function(v){if(v instanceof Halogen_HTML_Core.Prop){return Data_Exists.runExists(renderPropF)(v.value0)}if(v instanceof Halogen_HTML_Core.Attr){var attrName=Data_Maybe.maybe("")(function(ns$prime){return Data_Newtype.unwrap(Halogen_HTML_Core.newtypeNamespace)(ns$prime)+":"})(v.value0)+Data_Newtype.unwrap(Halogen_HTML_Core.newtypeAttrName)(v.value1);return Halogen_VirtualDOM_Internal.attr(attrName,v.value2)}if(v instanceof Halogen_HTML_Core.Handler){return Halogen_VirtualDOM_Internal.handlerProp(Data_Newtype.unwrap(DOM_Event_Types.newtypeEventType)(v.value0),function($31){return Data_Maybe.maybe(Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit))(driver)(v.value1($31))})}if(v instanceof Halogen_HTML_Core.Ref){return Halogen_VirtualDOM_Internal.refProp(function($32){return Data_Maybe.maybe(Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit))(driver)(v.value0($32))})}return Data_Monoid.mempty(Halogen_VirtualDOM_Internal.monoidProps)}};var findKey=function(v){return function(v1){if(v1 instanceof Halogen_HTML_Core.Key){return new Data_Maybe.Just(v1.value0)}return v}};var renderHTML=function(dictMonad){return function(driver){return function(handleSlot){var go=function(__copy_v){var v=__copy_v;tco:while(true){if(v instanceof Halogen_HTML_Core.Text){return Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(Halogen_VirtualDOM_Internal.vtext(v.value0))}if(v instanceof Halogen_HTML_Core.Element){return Control_Bind.bind(dictMonad["__superclass_Control.Bind.Bind_1"]())(Data_Traversable.traverse(Data_Traversable.traversableArray)(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(go)(v.value3))(function(v1){return Control_Applicative.pure(dictMonad["__superclass_Control.Applicative.Applicative_0"]())(Halogen_VirtualDOM_Internal.vnode(Data_Nullable.toNullable(Data_Functor.map(Data_Maybe.functorMaybe)(Data_Newtype.unwrap(Halogen_HTML_Core.newtypeNamespace))(v.value0)))(Data_Newtype.unwrap(Halogen_HTML_Core.newtypeTagName)(v.value1))(Data_Nullable.toNullable(Data_Foldable.foldl(Data_Foldable.foldableArray)(findKey)(Data_Maybe.Nothing.value)(v.value2)))(Data_Foldable.foldMap(Data_Foldable.foldableArray)(Halogen_VirtualDOM_Internal.monoidProps)(renderProp(driver))(v.value2))(v1))})}if(v instanceof Halogen_HTML_Core.Slot){return handleSlot(v.value0)}if(v instanceof Halogen_HTML_Core.Fuse){var __tco_v=Halogen_HTML_Core.lowerFuse(v.value0);v=__tco_v;continue tco}throw new Error("Failed pattern match at Halogen.VirtualDOM.Renderer line 32, column 8 - line 45, column 24: "+[v.constructor.name])}};return go}}};exports["renderHTML"]=renderHTML})(PS["Halogen.VirtualDOM.Renderer"]=PS["Halogen.VirtualDOM.Renderer"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Data_Maybe=PS["Data.Maybe"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var DOM_Node_Node=PS["DOM.Node.Node"];var Halogen_Aff_Driver=PS["Halogen.Aff.Driver"];var Halogen_Component=PS["Halogen.Component"];var Halogen_Effects=PS["Halogen.Effects"];var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Halogen_VirtualDOM_Internal=PS["Halogen.VirtualDOM.Internal"];var Halogen_VirtualDOM_Renderer=PS["Halogen.VirtualDOM.Renderer"];var Control_Bind=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor=PS["Data.Functor"];var renderSpec=function(element){var renderChild=function(keyId){return function(lastRender){return Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(function __do(){var v=function(){if(lastRender instanceof Data_Maybe.Nothing){return Halogen_VirtualDOM_Internal.createElement(Halogen_VirtualDOM_Internal.vtext(""))}if(lastRender instanceof Data_Maybe.Just){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(lastRender.value0.node)}throw new Error("Failed pattern match at Halogen.VirtualDOM.Driver line 76, column 15 - line 78, column 30: "+[lastRender.constructor.name])}()();return{vtree:Halogen_VirtualDOM_Internal.widget(keyId)(v),node:v}})}};var render=function(handler){return function(child){return function(html){return function(componentType){return function(lastRender){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Halogen_VirtualDOM_Renderer.renderHTML(Control_Monad_Aff.monadAff)(handler)(function($13){return Data_Functor.map(Control_Monad_Aff.functorAff)(function(v){return v.vtree})(child($13))})(html))(function(v){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(function(){if(lastRender instanceof Data_Maybe.Nothing){return function __do(){var v1=Halogen_VirtualDOM_Internal.createElement(v)();DOM_Node_Node.appendChild(DOM_HTML_Types.htmlElementToNode(v1))(DOM_HTML_Types.htmlElementToNode(element))();return v1}}if(lastRender instanceof Data_Maybe.Just){return Halogen_VirtualDOM_Internal.patch(Halogen_VirtualDOM_Internal.diff(lastRender.value0.vtree)(v))(lastRender.value0.node)}throw new Error("Failed pattern match at Halogen.VirtualDOM.Driver line 61, column 13 - line 67, column 46: "+[lastRender.constructor.name])}()))(function(v1){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)({vtree:v,node:v1})})})}}}}};return{render:render,renderChild:renderChild}};var runUI=function(component){return function(element){return Halogen_Aff_Driver.runUI(renderSpec(element))(component)}};exports["runUI"]=runUI})(PS["Halogen.VirtualDOM.Driver"]=PS["Halogen.VirtualDOM.Driver"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_Console=PS["Control.Monad.Aff.Console"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var DOM_Event_Event=PS["DOM.Event.Event"];var DOM_Event_KeyboardEvent=PS["DOM.Event.KeyboardEvent"];var DOM_Event_MouseEvent=PS["DOM.Event.MouseEvent"];var DOM_Event_Types=PS["DOM.Event.Types"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var Data_BooleanAlgebra=PS["Data.BooleanAlgebra"];var Data_Int=PS["Data.Int"];var Data_Maybe=PS["Data.Maybe"];var Data_Ord=PS["Data.Ord"];var Data_Unit=PS["Data.Unit"];var Data_Void=PS["Data.Void"];var Game_Cubbit_BlockIndex=PS["Game.Cubbit.BlockIndex"];var Game_Cubbit_BlockType=PS["Game.Cubbit.BlockType"];var Game_Cubbit_Control=PS["Game.Cubbit.Control"];var Game_Cubbit_MeshBuilder=PS["Game.Cubbit.MeshBuilder"];var Game_Cubbit_PointerLock=PS["Game.Cubbit.PointerLock"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Game_Cubbit_Vec=PS["Game.Cubbit.Vec"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_DebugLayer=PS["Graphics.Babylon.DebugLayer"];var Graphics_Babylon_Scene=PS["Graphics.Babylon.Scene"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Halogen=PS["Halogen"];var Halogen_HTML=PS["Halogen.HTML"];var Halogen_HTML_Elements=PS["Halogen.HTML.Elements"];var Halogen_HTML_Events=PS["Halogen.HTML.Events"];var Halogen_HTML_Properties=PS["Halogen.HTML.Properties"];var Halogen_Query=PS["Halogen.Query"];var Halogen_VirtualDOM_Driver=PS["Halogen.VirtualDOM.Driver"];var $$Math=PS["Math"];var Network_HTTP_Affjax=PS["Network.HTTP.Affjax"];var Prelude=PS["Prelude"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Halogen_HTML_Core=PS["Halogen.HTML.Core"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Applicative=PS["Control.Applicative"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var Control_Bind=PS["Control.Bind"];var Halogen_Query_HalogenM=PS["Halogen.Query.HalogenM"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_State_Class=PS["Control.Monad.State.Class"];var Data_Eq=PS["Data.Eq"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Semiring=PS["Data.Semiring"];var Data_Ring=PS["Data.Ring"];var Halogen_Component=PS["Halogen.Component"];var SetCursorPosition=function(){function SetCursorPosition(value0,value1){this.value0=value0;this.value1=value1}SetCursorPosition.create=function(value0){return function(value1){return new SetCursorPosition(value0,value1)}};return SetCursorPosition}();var PreventDefault=function(){function PreventDefault(value0,value1){this.value0=value0;this.value1=value1}PreventDefault.create=function(value0){return function(value1){return new PreventDefault(value0,value1)}};return PreventDefault}();var SetMode=function(){function SetMode(value0,value1){this.value0=value0;this.value1=value1}SetMode.create=function(value0){return function(value1){return new SetMode(value0,value1)}};return SetMode}();var SetPosition=function(){function SetPosition(value0,value1){this.value0=value0;this.value1=value1}SetPosition.create=function(value0){return function(value1){return new SetPosition(value0,value1)}};return SetPosition}();var TogglePointerLock=function(){function TogglePointerLock(value0){this.value0=value0}TogglePointerLock.create=function(value0){return new TogglePointerLock(value0)};return TogglePointerLock}();var SetMousePosition=function(){function SetMousePosition(value0,value1){this.value0=value0;this.value1=value1}SetMousePosition.create=function(value0){return function(value1){return new SetMousePosition(value0,value1)}};return SetMousePosition}();var OnMouseClick=function(){function OnMouseClick(value0,value1){this.value0=value0;this.value1=value1}OnMouseClick.create=function(value0){return function(value1){return new OnMouseClick(value0,value1)}};return OnMouseClick}();var ToggleDebugLayer=function(){function ToggleDebugLayer(value0){this.value0=value0}ToggleDebugLayer.create=function(value0){return new ToggleDebugLayer(value0)};return ToggleDebugLayer}();var Zoom=function(){function Zoom(value0,value1){this.value0=value0;this.value1=value1}Zoom.create=function(value0){return function(value1){return new Zoom(value0,value1)}};return Zoom}();var OnKeyDown=function(){function OnKeyDown(value0,value1){this.value0=value0;this.value1=value1}OnKeyDown.create=function(value0){return function(value1){return new OnKeyDown(value0,value1)}};return OnKeyDown}();var OnKeyUp=function(){function OnKeyUp(value0,value1){this.value0=value0;this.value1=value1}OnKeyUp.create=function(value0){return function(value1){return new OnKeyUp(value0,value1)}};return OnKeyUp}();var queryToHud=function(driver){return function(query){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Aff.runAff(Control_Monad_Eff_Console.logShow(Control_Monad_Eff_Exception.showError))(function(v){
return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)})(driver.query(query(Data_Unit.unit))))}};var offsetY=function(e){return Unsafe_Coerce.unsafeCoerce(e).offsetY};var offsetX=function(e){return Unsafe_Coerce.unsafeCoerce(e).offsetX};var mouseHandler=Unsafe_Coerce.unsafeCoerce;var onWheel=function($200){return Halogen_HTML_Events.handler("wheel")(mouseHandler($200))};var render=function(state){var index=Game_Cubbit_BlockIndex.runBlockIndex(state.cursorPosition);return Halogen_HTML_Elements.div([Halogen_HTML_Properties.id_("content"),Halogen_HTML_Properties.class_("content-layer"),Halogen_HTML_Events.onContextMenu(function(e){return new Data_Maybe.Just(Halogen_Query.action(PreventDefault.create(DOM_Event_Types.mouseEventToEvent(e))))}),Halogen_HTML_Properties.tabIndex(0),Unsafe_Coerce.unsafeCoerce(Halogen_HTML_Properties.autofocus(true)),Halogen_HTML_Events.onKeyDown(function(e){return new Data_Maybe.Just(new OnKeyDown(e,Data_Unit.unit))}),Halogen_HTML_Events.onKeyUp(function(e){return new Data_Maybe.Just(new OnKeyUp(e,Data_Unit.unit))}),Halogen_HTML_Events.onMouseMove(function(e){return new Data_Maybe.Just(new SetMousePosition(e,Data_Unit.unit))}),Halogen_HTML_Events.onMouseDown(function(e){return new Data_Maybe.Just(new OnMouseClick(e,Data_Unit.unit))}),onWheel(function(e){return new Data_Maybe.Just(new Zoom(e,Data_Unit.unit))})])([Halogen_HTML_Elements.canvas([Halogen_HTML_Properties.id_("canvas2d"),Halogen_HTML_Properties.width(new Halogen_HTML_Properties.Pixels(1280)),Halogen_HTML_Properties.height(new Halogen_HTML_Properties.Pixels(720))]),Halogen_HTML_Elements.img([Halogen_HTML_Properties.id_("screen-shade"),Halogen_HTML_Properties.src("screenshade.png")]),Halogen_HTML_Elements.p([Halogen_HTML_Properties.id_("message-box-top")])([]),Halogen_HTML_Elements.p([Halogen_HTML_Properties.id_("message-box")])([Halogen_HTML.text("CubbitCubbit Playable Demo")]),Halogen_HTML_Elements.div([Halogen_HTML_Properties.id_("buttons")])([Halogen_HTML_Elements.button([Halogen_HTML_Properties.id_("move"),Halogen_HTML_Events.onClick(function(e){return new Data_Maybe.Just(new SetMode(Game_Cubbit_Types.Move.value,Data_Unit.unit))})])([Halogen_HTML.text("Move")]),Halogen_HTML_Elements.button([Halogen_HTML_Properties.id_("add"),Halogen_HTML_Events.onClick(function(e){return new Data_Maybe.Just(new SetMode(Game_Cubbit_Types.Put.value,Data_Unit.unit))})])([Halogen_HTML.text("Add")]),Halogen_HTML_Elements.button([Halogen_HTML_Properties.id_("remove"),Halogen_HTML_Events.onClick(function(e){return new Data_Maybe.Just(new SetMode(Game_Cubbit_Types.Remove.value,Data_Unit.unit))})])([Halogen_HTML.text("Remove")]),Halogen_HTML_Elements.button([Halogen_HTML_Properties.id_("position"),Halogen_HTML_Events.onClick(function(e){return new Data_Maybe.Just(new SetPosition({x:0,y:30,z:0},Data_Unit.unit))})])([Halogen_HTML.text("Init Pos")]),Halogen_HTML_Elements.button([Halogen_HTML_Properties.id_("first-person-view"),Halogen_HTML_Events.onClick(function(e){return new Data_Maybe.Just(new TogglePointerLock(Data_Unit.unit))})])([Halogen_HTML.text("Fst Person View")]),Halogen_HTML_Elements.button([Halogen_HTML_Properties.id_("debuglayer"),Halogen_HTML_Events.onClick(function(e){return new Data_Maybe.Just(new ToggleDebugLayer(Data_Unit.unit))})])([Halogen_HTML.text("DebugLayer")])]),Halogen_HTML_Elements.div([Halogen_HTML_Properties.id_("cursor-position")])([Halogen_HTML.text("cursor: ("+(Data_Show.show(Data_Show.showInt)(index.x)+(", "+(Data_Show.show(Data_Show.showInt)(index.y)+(", "+(Data_Show.show(Data_Show.showInt)(index.z)+")"))))))])])};var initialState={cursorPosition:Game_Cubbit_BlockIndex.blockIndex(0)(0)(0)};var deltaY=function(e){return Unsafe_Coerce.unsafeCoerce(e).deltaY};var $$eval=function(scene){return function(cursor){return function(materials){return function(options){return function(ref){return function(v){if(v instanceof PreventDefault){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(DOM_Event_Event.preventDefault(v.value0)))(function(){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(DOM_Event_Event.stopPropagation(v.value0)))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})})}if(v instanceof SetCursorPosition){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_State_Class.get(Halogen_Query_HalogenM.monadStateHalogenM))(function(v1){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Applicative.when(Halogen_Query_HalogenM.applicativeHalogenM)(Data_Eq.notEq(Game_Cubbit_BlockIndex.eq_BlockIndex)(v.value0)(v1.cursorPosition))(Control_Monad_State_Class.modify(Halogen_Query_HalogenM.monadStateHalogenM)(function(v2){var $43={};for(var $44 in v2){if(v2.hasOwnProperty($44)){$43[$44]=v2[$44]}}$43.cursorPosition=v.value0;return $43})))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})})}if(v instanceof SetMode){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $49={};for(var $50 in v1){if(v1.hasOwnProperty($50)){$49[$50]=v1[$50]}}$49.mode=v.value0;return $49})))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})}if(v instanceof SetPosition){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $55={};for(var $56 in v1){if(v1.hasOwnProperty($56)){$55[$56]=v1[$56]}}$55.position=v.value0;return $55})))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})}if(v instanceof TogglePointerLock){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(function __do(){Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $61={};for(var $62 in v1){if(v1.hasOwnProperty($62)){$61[$62]=v1[$62]}}$61.firstPersonView=!v1.firstPersonView;return $61})();var v1=Control_Monad_Eff_Ref.readRef(ref)();if(v1.firstPersonView){return Game_Cubbit_PointerLock.requestPointerLock(function(e){return function __do(){Control_Monad_Eff_Ref.modifyRef(ref)(function(v2){var $67={};for(var $68 in v2){if(v2.hasOwnProperty($68)){$67[$68]=v2[$68]}}$67.playerRotation=v2.playerRotation+e.movementX*options.pointerHorizontalSensitivity;$67.playerPitch=Data_Ord.max(Data_Ord.ordNumber)(-$$Math.pi*.45)(Data_Ord.min(Data_Ord.ordNumber)($$Math.pi*.45)(v2.playerPitch)-e.movementY*options.pointerVerticalSensitivity);return $67})();return Data_Unit.unit}})(Control_Monad_Eff_Ref.modifyRef(ref)(function(v2){var $71={};for(var $72 in v2){if(v2.hasOwnProperty($72)){$71[$72]=v2[$72]}}$71.firstPersonView=false;return $71}))()}if(!v1.firstPersonView){return Game_Cubbit_PointerLock.exitPointerLock()}throw new Error("Failed pattern match at Game.Cubbit.Hud line 131, column 13 - line 141, column 37: "+[v1.firstPersonView.constructor.name])}))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value0)})}if(v instanceof SetMousePosition){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var isRightButton=DOM_Event_MouseEvent.buttons(v.value0)===2;var dy=offsetY(v.value0)-v1.mousePosition.y;var dx=offsetX(v.value0)-v1.mousePosition.x;var $78={};for(var $79 in v1){if(v1.hasOwnProperty($79)){$78[$79]=v1[$79]}}$78.mousePosition={x:offsetX(v.value0),y:offsetY(v.value0)};$78.cameraYaw=function(){if(isRightButton){return v1.cameraYaw+Data_Int.toNumber(dx)*options.cameraHorizontalSensitivity}if(!isRightButton){return v1.cameraYaw}throw new Error("Failed pattern match at Game.Cubbit.Hud line 155, column 45 - line 155, column 155: "+[isRightButton.constructor.name])}();$78.cameraPitch=function(){if(isRightButton){return Data_Ord.max(Data_Ord.ordNumber)(-$$Math.pi*.45)(Data_Ord.min(Data_Ord.ordNumber)($$Math.pi*.45)(v1.cameraPitch+Data_Int.toNumber(dy)*options.cameraVertialSensitivity))}if(!isRightButton){return v1.cameraPitch}throw new Error("Failed pattern match at Game.Cubbit.Hud line 156, column 47 - line 156, column 195: "+[isRightButton.constructor.name])}();return $78})))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})}if(v instanceof ToggleDebugLayer){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(function __do(){Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $84={};for(var $85 in v1){if(v1.hasOwnProperty($85)){$84[$85]=v1[$85]}}$84.debugLayer=!v1.debugLayer;return $84})();var v1=Control_Monad_Eff_Ref.readRef(ref)();if(v1.debugLayer){return Control_Bind.bind(Control_Monad_Eff.bindEff)(Graphics_Babylon_Scene.getDebugLayer(scene))(Graphics_Babylon_DebugLayer.show(true)(true)(Data_Maybe.Nothing.value))()}if(!v1.debugLayer){return Control_Bind.bind(Control_Monad_Eff.bindEff)(Graphics_Babylon_Scene.getDebugLayer(scene))(Graphics_Babylon_DebugLayer.hide)()}throw new Error("Failed pattern match at Game.Cubbit.Hud line 167, column 13 - line 169, column 61: "+[v1.debugLayer.constructor.name])}))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value0)})}if(v instanceof OnMouseClick){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(function __do(){var v1=Control_Monad_Eff_Ref.readRef(ref)();Control_Monad_Eff_Ref.modifyRef(ref)(function(v2){var $92={};for(var $93 in v2){if(v2.hasOwnProperty($93)){$92[$93]=v2[$93]}}$92.mousePosition={x:offsetX(v.value0),y:offsetY(v.value0)};return $92})();var put=function(block){return function __do(){var v2=Game_Cubbit_Control.pickBlock(scene)(cursor)(v1)(v1.mousePosition.x)(v1.mousePosition.y)();if(v2 instanceof Data_Maybe.Nothing){return Data_Unit.unit}if(v2 instanceof Data_Maybe.Just){return Game_Cubbit_MeshBuilder.editBlock(ref)(materials)(scene)(v2.value0)(block)()}throw new Error("Failed pattern match at Game.Cubbit.Hud line 187, column 21 - line 189, column 90: "+[v2.constructor.name])}};if(v1.mode instanceof Game_Cubbit_Types.Put){return put(Game_Cubbit_BlockType.dirtBlock)()}if(v1.mode instanceof Game_Cubbit_Types.Remove){return put(Game_Cubbit_BlockType.airBlock)()}if(v1.mode instanceof Game_Cubbit_Types.Move){return Data_Unit.unit}throw new Error("Failed pattern match at Game.Cubbit.Hud line 191, column 13 - line 194, column 34: "+[v1.mode.constructor.name])}))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})}if(v instanceof Zoom){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $102={};for(var $103 in v1){if(v1.hasOwnProperty($103)){$102[$103]=v1[$103]}}$102.cameraRange=Data_Ord.max(Data_Ord.ordNumber)(options.cameraMinimumRange)(Data_Ord.min(Data_Ord.ordNumber)(options.cameraMaximumRange)(v1.cameraRange+Data_Int.toNumber(deltaY(v.value0))*options.cameraZoomSpeed));return $102})))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})}if(v instanceof OnKeyDown){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(function __do(){(function(){var $107=DOM_Event_KeyboardEvent.key(v.value0);if($107===" "){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $112={};for(var $113 in v1){if(v1.hasOwnProperty($113)){$112[$113]=v1[$113]}}$112.velocity=function(){var $109={};for(var $110 in v1.velocity){if(v1.velocity.hasOwnProperty($110)){$109[$110]=v1.velocity[$110]}}$109.y=v1.velocity.y+options.jumpVelocity;return $109}();return $112}))}if($107==="w"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $116={};for(var $117 in v1){if(v1.hasOwnProperty($117)){$116[$117]=v1[$117]}}$116.wKey=true;return $116}))}if($107==="s"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $120={};for(var $121 in v1){if(v1.hasOwnProperty($121)){$120[$121]=v1[$121]}}$120.sKey=true;return $120}))}if($107==="a"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $124={};for(var $125 in v1){if(v1.hasOwnProperty($125)){$124[$125]=v1[$125]}}$124.aKey=true;return $124}))}if($107==="d"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $128={};for(var $129 in v1){if(v1.hasOwnProperty($129)){$128[$129]=v1[$129]}}$128.dKey=true;return $128}))}if($107==="r"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $132={};for(var $133 in v1){if(v1.hasOwnProperty($133)){$132[$133]=v1[$133]}}$132.rKey=true;return $132}))}if($107==="f"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $136={};for(var $137 in v1){if(v1.hasOwnProperty($137)){$136[$137]=v1[$137]}}$136.fKey=true;return $136}))}if($107==="q"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $140={};for(var $141 in v1){if(v1.hasOwnProperty($141)){$140[$141]=v1[$141]}}$140.qKey=true;return $140}))}if($107==="e"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $144={};for(var $145 in v1){if(v1.hasOwnProperty($145)){$144[$145]=v1[$145]}}$144.eKey=true;return $144}))}if($107==="t"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $148={};for(var $149 in v1){if(v1.hasOwnProperty($149)){$148[$149]=v1[$149]}}$148.tKey=true;return $148}))}if($107==="g"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $152={};for(var $153 in v1){if(v1.hasOwnProperty($153)){$152[$153]=v1[$153]}}$152.gKey=true;return $152}))}return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)})()();DOM_Event_Event.preventDefault(DOM_Event_Types.keyboardEventToEvent(v.value0))();return DOM_Event_Event.stopPropagation(DOM_Event_Types.keyboardEventToEvent(v.value0))()}))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})}if(v instanceof OnKeyUp){return Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM)(Control_Monad_Eff_Class.liftEff(Halogen_Query_HalogenM.monadEffHalogenM(Control_Monad_Aff.monadEffAff))(function __do(){(function(){var $157=DOM_Event_KeyboardEvent.key(v.value0);if($157==="w"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $159={};for(var $160 in v1){if(v1.hasOwnProperty($160)){$159[$160]=v1[$160]}}$159.wKey=false;return $159}))}if($157==="s"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $163={};for(var $164 in v1){if(v1.hasOwnProperty($164)){$163[$164]=v1[$164]}}$163.sKey=false;return $163}))}if($157==="a"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $167={};for(var $168 in v1){if(v1.hasOwnProperty($168)){$167[$168]=v1[$168]}}$167.aKey=false;return $167}))}if($157==="d"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $171={};for(var $172 in v1){if(v1.hasOwnProperty($172)){$171[$172]=v1[$172]}}$171.dKey=false;return $171}))}if($157==="r"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $175={};for(var $176 in v1){if(v1.hasOwnProperty($176)){$175[$176]=v1[$176]}}$175.rKey=false;return $175}))}if($157==="f"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $179={};for(var $180 in v1){if(v1.hasOwnProperty($180)){$179[$180]=v1[$180]}}$179.fKey=false;return $179}))}if($157==="q"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $183={};for(var $184 in v1){if(v1.hasOwnProperty($184)){$183[$184]=v1[$184]}}$183.qKey=false;return $183}))}if($157==="e"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $187={};for(var $188 in v1){if(v1.hasOwnProperty($188)){$187[$188]=v1[$188]}}$187.eKey=false;return $187}))}if($157==="t"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $191={};for(var $192 in v1){if(v1.hasOwnProperty($192)){$191[$192]=v1[$192]}}$191.tKey=false;return $191}))}if($157==="g"){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Eff_Ref.modifyRef(ref)(function(v1){var $195={};for(var $196 in v1){if(v1.hasOwnProperty($196)){$195[$196]=v1[$196]}}$195.gKey=false;return $195}))}return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)})()();DOM_Event_Event.preventDefault(DOM_Event_Types.keyboardEventToEvent(v.value0))();return DOM_Event_Event.stopPropagation(DOM_Event_Types.keyboardEventToEvent(v.value0))()}))(function(){return Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM)(v.value1)})}throw new Error("Failed pattern match at Game.Cubbit.Hud line 106, column 43 - line 245, column 18: "+[v.constructor.name])}}}}}};var ui=function(ref){return function(options){return function(scene){return function(cursor){return function(materials){return Halogen_Component.component({render:render,eval:$$eval(scene)(cursor)(materials)(options)(ref),initialState:initialState})}}}}};var initializeHud=function(ref){return function(options){return function(body){return function(scene){return function(cursor){return function(materials){return Halogen_VirtualDOM_Driver.runUI(ui(ref)(options)(scene)(cursor)(materials))(body)}}}}}};exports["SetCursorPosition"]=SetCursorPosition;exports["PreventDefault"]=PreventDefault;exports["SetMode"]=SetMode;exports["SetPosition"]=SetPosition;exports["TogglePointerLock"]=TogglePointerLock;exports["SetMousePosition"]=SetMousePosition;exports["OnMouseClick"]=OnMouseClick;exports["ToggleDebugLayer"]=ToggleDebugLayer;exports["Zoom"]=Zoom;exports["OnKeyDown"]=OnKeyDown;exports["OnKeyUp"]=OnKeyUp;exports["initializeHud"]=initializeHud;exports["queryToHud"]=queryToHud})(PS["Game.Cubbit.Hud"]=PS["Game.Cubbit.Hud"]||{});(function(exports){exports.hideLoading=function(){document.getElementById("loading").style["opacity"]="0"}})(PS["Game.Cubbit.Main"]=PS["Game.Cubbit.Main"]||{});(function(exports){exports.setHasAlpha=function(hasAplha){return function(mat){return function(){mat.hasAlpha=hasAplha}}}})(PS["Graphics.Babylon.BaseTexture"]=PS["Graphics.Babylon.BaseTexture"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.BaseTexture"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];exports["setHasAlpha"]=$foreign.setHasAlpha})(PS["Graphics.Babylon.BaseTexture"]=PS["Graphics.Babylon.BaseTexture"]||{});(function(exports){exports.createShaderMaterial=function(name){return function(scene){return function(shaderPath){return function(options){return function(){return new BABYLON.ShaderMaterial(name,scene,shaderPath,options)}}}}};exports.shaderMaterialToMaterial=function(mat){return mat};exports.setTexture=function(name){return function(tex){return function(mat){return function(){mat.setTexture(name,tex)}}}};exports.setVector3=function(name){return function(vec){return function(mat){return function(){mat.setVector3(name,vec)}}}};exports.setFloats=function(name){return function(fs){return function(mat){return function(){mat.setFloats(name,fs)}}}};exports.setColor3=function(name){return function(col){return function(mat){return function(){mat.setColor3(name,col)}}}}})(PS["Graphics.Babylon.ShaderMaterial"]=PS["Graphics.Babylon.ShaderMaterial"]||{});(function(exports){exports.createTexture=function(path){return function(scene){return function(options){return function(){return new BABYLON.Texture(path,scene,options.noMipmap,options.invertY,options.samplingMode,options.onLoad,options.onError)}}}};exports.tRILINEAR_SAMPLINGMODE=BABYLON.Texture.TRILINEAR_SAMPLINGMODE;exports.textureToBaseTexture=function(tex){return tex};exports.sKYBOX_MODE=BABYLON.Texture.SKYBOX_MODE;exports.setCoordinatesMode=function(value){return function(tex){return function(){tex.coordinatesMode=value}}}})(PS["Graphics.Babylon.Texture"]=PS["Graphics.Babylon.Texture"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Texture"];var Control_Alternative=PS["Control.Alternative"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_BaseTexture=PS["Graphics.Babylon.BaseTexture"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Control_Applicative=PS["Control.Applicative"];var defaultCreateTextureOptions={noMipmap:false,invertY:true,samplingMode:$foreign.tRILINEAR_SAMPLINGMODE,onLoad:Control_Applicative.pure(Control_Monad_Eff.applicativeEff),onError:Control_Applicative.pure(Control_Monad_Eff.applicativeEff)};exports["defaultCreateTextureOptions"]=defaultCreateTextureOptions;exports["createTexture"]=$foreign.createTexture;exports["sKYBOX_MODE"]=$foreign.sKYBOX_MODE;exports["setCoordinatesMode"]=$foreign.setCoordinatesMode;exports["textureToBaseTexture"]=$foreign.textureToBaseTexture})(PS["Graphics.Babylon.Texture"]=PS["Graphics.Babylon.Texture"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.ShaderMaterial"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Color3=PS["Graphics.Babylon.Color3"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Texture=PS["Graphics.Babylon.Texture"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];exports["createShaderMaterial"]=$foreign.createShaderMaterial;exports["setColor3"]=$foreign.setColor3;exports["setFloats"]=$foreign.setFloats;exports["setTexture"]=$foreign.setTexture;exports["setVector3"]=$foreign.setVector3;exports["shaderMaterialToMaterial"]=$foreign.shaderMaterialToMaterial})(PS["Graphics.Babylon.ShaderMaterial"]=PS["Graphics.Babylon.ShaderMaterial"]||{});(function(exports){exports.createStandardMaterial=function(id){return function(scene){return function(){return new BABYLON.StandardMaterial(id,scene)}}};exports.setDiffuseTexture=function(tex){return function(mat){return function(){mat.diffuseTexture=tex}}};exports.setReflectionTexture=function(tex){return function(mat){return function(){mat.reflectionTexture=tex}}};exports.standardMaterialToMaterial=function(mat){return mat};exports.setBackFaceCulling=function(value){return function(mat){return function(){mat.backFaceCulling=value}}};exports.setDisableLighting=function(value){return function(mat){return function(){mat.disableLighting=value}}};exports.setDiffuseColor=function(value){return function(mat){return function(){mat.diffuseColor=value}}};exports.setSpecularColor=function(value){return function(mat){return function(){mat.specularColor=value}}};exports.setUseAlphaFromDiffuseTexture=function(useAlphaFromDiffuseTexture){return function(mat){return function(){mat.useAlphaFromDiffuseTexture=useAlphaFromDiffuseTexture}}}})(PS["Graphics.Babylon.StandardMaterial"]=PS["Graphics.Babylon.StandardMaterial"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.StandardMaterial"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Color3=PS["Graphics.Babylon.Color3"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Texture=PS["Graphics.Babylon.Texture"];exports["createStandardMaterial"]=$foreign.createStandardMaterial;exports["setBackFaceCulling"]=$foreign.setBackFaceCulling;exports["setDiffuseColor"]=$foreign.setDiffuseColor;exports["setDiffuseTexture"]=$foreign.setDiffuseTexture;exports["setDisableLighting"]=$foreign.setDisableLighting;exports["setReflectionTexture"]=$foreign.setReflectionTexture;exports["setSpecularColor"]=$foreign.setSpecularColor;exports["setUseAlphaFromDiffuseTexture"]=$foreign.setUseAlphaFromDiffuseTexture;exports["standardMaterialToMaterial"]=$foreign.standardMaterialToMaterial})(PS["Graphics.Babylon.StandardMaterial"]=PS["Graphics.Babylon.StandardMaterial"]||{});(function(exports){exports.createWaterMaterial=function(name){return function(scene){return function(){return new BABYLON.WaterMaterial(name,scene)}}};exports.waterMaterialToMaterial=function(mat){return mat};exports.setBumpTexture=function(tex){return function(mat){return function(){mat.bumpTexture=tex}}};exports.addToRenderList=function(mesh){return function(mat){return function(){mat.addToRenderList(mesh)}}};exports.setWaveHeight=function(waveHeight){return function(mat){return function(){mat.waveHeight=waveHeight}}};exports.setWindForce=function(windForce){return function(mat){return function(){mat.windForce=windForce}}}})(PS["Graphics.Babylon.WaterMaterial"]=PS["Graphics.Babylon.WaterMaterial"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.WaterMaterial"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Texture=PS["Graphics.Babylon.Texture"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];exports["addToRenderList"]=$foreign.addToRenderList;exports["createWaterMaterial"]=$foreign.createWaterMaterial;exports["setBumpTexture"]=$foreign.setBumpTexture;exports["setWaveHeight"]=$foreign.setWaveHeight;exports["setWindForce"]=$foreign.setWindForce;exports["waterMaterialToMaterial"]=$foreign.waterMaterialToMaterial})(PS["Graphics.Babylon.WaterMaterial"]=PS["Graphics.Babylon.WaterMaterial"]||{});(function(exports){"use strict";var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Graphics_Babylon_BaseTexture=PS["Graphics.Babylon.BaseTexture"];var Graphics_Babylon_Color3=PS["Graphics.Babylon.Color3"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Mesh=PS["Graphics.Babylon.Mesh"];var Graphics_Babylon_ShaderMaterial=PS["Graphics.Babylon.ShaderMaterial"];var Graphics_Babylon_StandardMaterial=PS["Graphics.Babylon.StandardMaterial"];var Graphics_Babylon_Texture=PS["Graphics.Babylon.Texture"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Babylon_WaterMaterial=PS["Graphics.Babylon.WaterMaterial"];var Prelude=PS["Prelude"];var Data_Ring=PS["Data.Ring"];var Control_Applicative=PS["Control.Applicative"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var initializeMaterials=function(scene){return function(skybox){return function(texture){return function(alphaTexture){return function(options){return function __do(){Graphics_Babylon_BaseTexture.setHasAlpha(true)(Graphics_Babylon_Texture.textureToBaseTexture(alphaTexture))();var v=function __do(){var v=Graphics_Babylon_ShaderMaterial.createShaderMaterial("cellShading")(scene)("./alice/cellShading")({needAlphaBlending:false,needAlphaTesting:false,attributes:["position","uv","normal","matricesIndices","matricesWeights"],uniforms:["world","viewProjection","mBones"],samplers:["textureSampler"],defines:[]})();var v1=Graphics_Babylon_Vector3.createVector3(0)(20)(-10)();var v2=Graphics_Babylon_Color3.createColor3(1)(1)(1)();var v3=Graphics_Babylon_Texture.createTexture("./alice/texture.png")(scene)(Graphics_Babylon_Texture.defaultCreateTextureOptions)();Graphics_Babylon_ShaderMaterial.setTexture("textureSampler")(v3)(v)();Graphics_Babylon_ShaderMaterial.setVector3("vLightPosition")(v1)(v)();Graphics_Babylon_ShaderMaterial.setFloats("ToonThresholds")([.2,-.45,-5,-5])(v)();Graphics_Babylon_ShaderMaterial.setFloats("ToonBrightnessLevels")([1,.9,.75,.75,.75])(v)();Graphics_Babylon_ShaderMaterial.setColor3("vLightColor")(v2)(v)();return v}();var v1=function __do(){var v1=Graphics_Babylon_StandardMaterial.createStandardMaterial("grass-block")(scene)();var v2=Graphics_Babylon_Color3.createColor3(0)(0)(0)();Graphics_Babylon_StandardMaterial.setSpecularColor(v2)(v1)();Graphics_Babylon_StandardMaterial.setDiffuseTexture(texture)(v1)();return v1}();var v2=function(){if(options.enableWaterMaterial){return function __do(){var v2=Graphics_Babylon_WaterMaterial.createWaterMaterial("water-block")(scene)();var v3=Graphics_Babylon_Texture.createTexture("waterbump.png")(scene)(Graphics_Babylon_Texture.defaultCreateTextureOptions)();Graphics_Babylon_WaterMaterial.setBumpTexture(v3)(v2)();Graphics_Babylon_WaterMaterial.addToRenderList(Graphics_Babylon_Mesh.meshToAbstractMesh(skybox))(v2)();Graphics_Babylon_WaterMaterial.setWaveHeight(0)(v2)();Graphics_Babylon_WaterMaterial.setWindForce(1)(v2)();return Graphics_Babylon_WaterMaterial.waterMaterialToMaterial(v2)}}if(!options.enableWaterMaterial){return function __do(){var v2=Graphics_Babylon_StandardMaterial.createStandardMaterial("water-block")(scene)();var v3=Graphics_Babylon_Color3.createColor3(50/255)(50/255)(60/255)();Graphics_Babylon_StandardMaterial.setDiffuseColor(v3)(v2)();Graphics_Babylon_Material.setAlpha(.7)(Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v2))();return Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v2)}}throw new Error("Failed pattern match at Game.Cubbit.Materials line 52, column 22 - line 67, column 50: "+[options.enableWaterMaterial.constructor.name])}()();var v3=function __do(){var v3=Graphics_Babylon_StandardMaterial.createStandardMaterial("bush-material")(scene)();Graphics_Babylon_StandardMaterial.setDiffuseTexture(alphaTexture)(v3)();Graphics_Babylon_Material.setAlpha(.8)(Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v3))();var v4=Graphics_Babylon_Color3.createColor3(.35)(.5)(.3)();Graphics_Babylon_StandardMaterial.setDiffuseColor(v4)(v3)();Graphics_Babylon_StandardMaterial.setUseAlphaFromDiffuseTexture(true)(v3)();return v3}();return{blockMaterial:Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v1),waterMaterial:v2,cellShadingMaterial:Graphics_Babylon_ShaderMaterial.shaderMaterialToMaterial(v),bushMaterial:Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v3)}}}}}}};exports["initializeMaterials"]=initializeMaterials})(PS["Game.Cubbit.Materials"]=PS["Game.Cubbit.Materials"]||{});(function(exports){"use strict";var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Data_Foreign=PS["Data.Foreign"];var Data_Foreign_Class=PS["Data.Foreign.Class"];

var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Data_Identity=PS["Data.Identity"];var Data_Foreign_Index=PS["Data.Foreign.Index"];var Control_Applicative=PS["Control.Applicative"];var readOptions=function(value){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("loadDistance")(value))(function(v){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("fogDensity")(value))(function(v1){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("maximumLoadedChunks")(value))(function(v2){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("shadowDisplayRange")(value))(function(v3){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("shadowMapSize")(value))(function(v4){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.booleanIsForeign)(Data_Foreign_Index.indexString)("enableWaterMaterial")(value))(function(v5){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("chunkUnloadSpeed")(value))(function(v6){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("jumpVelocity")(value))(function(v7){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.intIsForeign)(Data_Foreign_Index.indexString)("initialWorldSize")(value))(function(v8){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("moveSpeed")(value))(function(v9){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraTargetSpeed")(value))(function(v10){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraRotationSpeed")(value))(function(v11){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraZoomSpeed")(value))(function(v12){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraMinZ")(value))(function(v13){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraMaxZ")(value))(function(v14){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraFOV")(value))(function(v15){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraMinimumRange")(value))(function(v16){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraMaximumRange")(value))(function(v17){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraHorizontalSensitivity")(value))(function(v18){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("cameraVertialSensitivity")(value))(function(v19){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("pointerHorizontalSensitivity")(value))(function(v20){return Control_Bind.bind(Control_Monad_Except_Trans.bindExceptT(Data_Identity.monadIdentity))(Data_Foreign_Class.readProp(Data_Foreign_Class.numberIsForeign)(Data_Foreign_Index.indexString)("pointerVerticalSensitivity")(value))(function(v21){return Control_Applicative.pure(Control_Monad_Except_Trans.applicativeExceptT(Data_Identity.monadIdentity))({loadDistance:v,fogDensity:v1,maximumLoadedChunks:v2,shadowDisplayRange:v3,shadowMapSize:v4,enableWaterMaterial:v5,chunkUnloadSpeed:v6,jumpVelocity:v7,initialWorldSize:v8,moveSpeed:v9,cameraTargetSpeed:v10,cameraRotationSpeed:v11,cameraZoomSpeed:v12,cameraMinZ:v13,cameraMaxZ:v14,cameraFOV:v15,cameraMinimumRange:v16,cameraMaximumRange:v17,cameraHorizontalSensitivity:v18,cameraVertialSensitivity:v19,pointerHorizontalSensitivity:v20,pointerVerticalSensitivity:v21})})})})})})})})})})})})})})})})})})})})})})})};exports["readOptions"]=readOptions})(PS["Game.Cubbit.Option"]=PS["Game.Cubbit.Option"]||{});(function(exports){"use strict";exports.foreachBlocks=function(size){return function(cx){return function(cy){return function(cz){return function(index){return function(f){return function(){var cost=0;var limit=100;if(!index){index={size:size,cx:cx,cy:cy,cz:cz,i:0,n:0,m:0}}else if(index.size!=size||index.cx!=cx||index.cy!=cy||index.cz!=cz){index.size=size;index.cx=cx;index.cy=cy;index.cz=cz;index.i=0;index.n=-index.i;index.m=-index.i}if(size<=index.i){index.i=0;index.n=-index.i;index.m=-index.i;return index}else if(index.i<index.n){index.i+=1;index.n=-index.i;index.m=-index.i;return index}else if(index.i<index.m){index.n+=1;index.m=-index.i;return index}else{var i=index.i;var n=index.n;var m=index.m;cost+=f(cx+i)(cy+n)(cz+m)()+1;if(limit<cost)return index;cost+=f(cx-i)(cy+n)(cz+m)()+1;if(limit<cost)return index;cost+=f(cx+n)(cy+i)(cz+m)()+1;if(limit<cost)return index;cost+=f(cx+n)(cy-i)(cz+m)()+1;if(limit<cost)return index;cost+=f(cx+n)(cy+m)(cz+i)()+1;if(limit<cost)return index;cost+=f(cx+n)(cy+m)(cz-i)()+1;if(limit<cost)return index;index.m+=1;return index}}}}}}}}})(PS["Game.Cubbit.Update"]=PS["Game.Cubbit.Update"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.Update"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var DOM=PS["DOM"];var Data_Array=PS["Data.Array"];var Data_Foldable=PS["Data.Foldable"];var Data_Int=PS["Data.Int"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Data_Ord=PS["Data.Ord"];var Data_Unit=PS["Data.Unit"];var Data_Void=PS["Data.Void"];var Game_Cubbit_BlockIndex=PS["Game.Cubbit.BlockIndex"];var Game_Cubbit_Chunk=PS["Game.Cubbit.Chunk"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Game_Cubbit_ChunkMap=PS["Game.Cubbit.ChunkMap"];var Game_Cubbit_Control=PS["Game.Cubbit.Control"];var Game_Cubbit_Hud=PS["Game.Cubbit.Hud"];var Game_Cubbit_MeshBuilder=PS["Game.Cubbit.MeshBuilder"];var Game_Cubbit_Terrain=PS["Game.Cubbit.Terrain"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_AbstractMesh=PS["Graphics.Babylon.AbstractMesh"];var Graphics_Babylon_Camera=PS["Graphics.Babylon.Camera"];var Graphics_Babylon_Mesh=PS["Graphics.Babylon.Mesh"];var Graphics_Babylon_Node=PS["Graphics.Babylon.Node"];var Graphics_Babylon_PickingInfo=PS["Graphics.Babylon.PickingInfo"];var Graphics_Babylon_Ray=PS["Graphics.Babylon.Ray"];var Graphics_Babylon_Scene=PS["Graphics.Babylon.Scene"];var Graphics_Babylon_ShadowGenerator=PS["Graphics.Babylon.ShadowGenerator"];var Graphics_Babylon_Skeleton=PS["Graphics.Babylon.Skeleton"];var Graphics_Babylon_TargetCamera=PS["Graphics.Babylon.TargetCamera"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Halogen=PS["Halogen"];var $$Math=PS["Math"];var Prelude=PS["Prelude"];var Data_Ring=PS["Data.Ring"];var Data_Semiring=PS["Data.Semiring"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Eq=PS["Data.Eq"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Control_Applicative=PS["Control.Applicative"];var Data_Functor=PS["Data.Functor"];var Data_Semigroup=PS["Data.Semigroup"];var update=function(ref){return function(scene){return function(materials){return function(shadowMap){return function(cursor){return function(camera){return function(options){return function(skybox){return function(driver){return function __do(){var v=Control_Monad_Eff_Ref.readRef(ref)();var rot=-function(){if(v.firstPersonView){return v.playerRotation+$$Math.pi}if(!v.firstPersonView){return v.cameraYaw}throw new Error("Failed pattern match at Game.Cubbit.Update line 65, column 24 - line 65, column 110: "+[v.firstPersonView.constructor.name])}();var keyVector={x:function(){if(v.dKey){return 1}if(!v.dKey){return 0-function(){if(v.aKey){return 1}if(!v.aKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 68, column 52 - line 68, column 89: "+[v.aKey.constructor.name])}()}throw new Error("Failed pattern match at Game.Cubbit.Update line 68, column 24 - line 68, column 89: "+[v.dKey.constructor.name])}(),z:function(){if(v.wKey){return 1}if(!v.wKey){return 0-function(){if(v.sKey){return 1}if(!v.sKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 69, column 52 - line 70, column 17: "+[v.sKey.constructor.name])}()}throw new Error("Failed pattern match at Game.Cubbit.Update line 69, column 24 - line 70, column 17: "+[v.wKey.constructor.name])}()};var rotatedKeyVector={x:$$Math.cos(rot)*keyVector.x-$$Math.sin(rot)*keyVector.z,z:$$Math.sin(rot)*keyVector.x+$$Math.cos(rot)*keyVector.z};var stopped=rotatedKeyVector.x===0&&rotatedKeyVector.z===0;var velocity=function(){if(stopped){var $27={};for(var $28 in v.velocity){if(v.velocity.hasOwnProperty($28)){$27[$28]=v.velocity[$28]}}$27.x=v.velocity.x*.5;$27.z=v.velocity.z*.5;return $27}if(!stopped){var len=$$Math.sqrt(rotatedKeyVector.x*rotatedKeyVector.x+rotatedKeyVector.z*rotatedKeyVector.z);var $30={};for(var $31 in v.velocity){if(v.velocity.hasOwnProperty($31)){$30[$31]=v.velocity[$31]}}$30.x=rotatedKeyVector.x/len*options.moveSpeed;$30.z=rotatedKeyVector.z/len*options.moveSpeed;return $30}throw new Error("Failed pattern match at Game.Cubbit.Update line 79, column 28 - line 87, column 26: "+[stopped.constructor.name])}();var playerRotation$prime=function(){var $33=stopped||v.firstPersonView;if($33){return v.playerRotation}if(!$33){return $$Math.atan2(velocity.x)(velocity.z)-$$Math.pi}throw new Error("Failed pattern match at Game.Cubbit.Update line 90, column 35 - line 90, column 136: "+[$33.constructor.name])}();var playerPosition={x:v.position.x+velocity.x,y:v.position.y+velocity.y,z:v.position.z+velocity.z};var animation$prime=function(){var $34=v.wKey||(v.sKey||(v.aKey||v.dKey));if($34){return"run"}if(!$34){return"idle"}throw new Error("Failed pattern match at Game.Cubbit.Update line 98, column 30 - line 100, column 13: "+[$34.constructor.name])}();var globalIndex=Game_Cubbit_BlockIndex.runBlockIndex(Game_Cubbit_Terrain.globalPositionToGlobalIndex(playerPosition.x)(playerPosition.y)(playerPosition.z));var v1=Game_Cubbit_Terrain.lookupBlockByVec(playerPosition)(v.terrain)();var position$prime=function(){if(v1 instanceof Data_Maybe.Just&&Game_Cubbit_Terrain.isSolidBlock(v1.value0)){var $37={};for(var $38 in playerPosition){if(playerPosition.hasOwnProperty($38)){$37[$38]=playerPosition[$38]}}$37.y=Data_Int.toNumber(globalIndex.y)+1.001;return $37}return playerPosition}();var velocity$prime=function(){if(v1 instanceof Data_Maybe.Just&&Game_Cubbit_Terrain.isSolidBlock(v1.value0)){var $42={};for(var $43 in velocity){if(velocity.hasOwnProperty($43)){$42[$43]=velocity[$43]}}$42.y=0;return $42}var $46={};for(var $47 in velocity){if(velocity.hasOwnProperty($47)){$46[$47]=velocity[$47]}}$46.y=velocity.y-.01;return $46}();var cameraSpeed=function(){if(v.firstPersonView){return.5}if(!v.firstPersonView){return options.cameraTargetSpeed}throw new Error("Failed pattern match at Game.Cubbit.Update line 114, column 31 - line 114, column 95: "+[v.firstPersonView.constructor.name])}();var thirdPersonCameraTargetY=position$prime.y+1.4;var playerRotationTheta=-v.playerRotation-$$Math.pi*.5;var firstPersonCameraTargetX=position$prime.x+$$Math.cos(playerRotationTheta)*$$Math.cos(v.playerPitch);var firstPersonCameraTargetY=position$prime.y+1.4+$$Math.sin(v.playerPitch);var firstPersonCameraTargetZ=position$prime.z+$$Math.sin(playerRotationTheta)*$$Math.cos(v.playerPitch);var cameraTargetX$prime=function(){if(v.firstPersonView){return firstPersonCameraTargetX}if(!v.firstPersonView){return position$prime.x}throw new Error("Failed pattern match at Game.Cubbit.Update line 127, column 34 - line 127, column 118: "+[v.firstPersonView.constructor.name])}();var cameraTargetY$prime=function(){if(v.firstPersonView){return firstPersonCameraTargetY}if(!v.firstPersonView){return thirdPersonCameraTargetY}throw new Error("Failed pattern match at Game.Cubbit.Update line 128, column 34 - line 128, column 118: "+[v.firstPersonView.constructor.name])}();var cameraTargetZ$prime=function(){if(v.firstPersonView){return firstPersonCameraTargetZ}if(!v.firstPersonView){return position$prime.z}throw new Error("Failed pattern match at Game.Cubbit.Update line 129, column 34 - line 129, column 118: "+[v.firstPersonView.constructor.name])}();var cameraTargetInterpolatedX$prime=v.cameraTarget.x+(cameraTargetX$prime-v.cameraTarget.x)*cameraSpeed;var cameraTargetInterpolatedY$prime=v.cameraTarget.y+(cameraTargetY$prime-v.cameraTarget.y)*cameraSpeed;var cameraTargetInterpolatedZ$prime=v.cameraTarget.z+(cameraTargetZ$prime-v.cameraTarget.z)*cameraSpeed;var cameraTarget$prime={x:cameraTargetInterpolatedX$prime,y:cameraTargetInterpolatedY$prime,z:cameraTargetInterpolatedZ$prime};var cameraPositionChunkIndex=Game_Cubbit_Terrain.globalPositionToChunkIndex(v.cameraPosition.x)(v.cameraPosition.y)(v.cameraPosition.z);var theta=-v.cameraYaw-$$Math.pi*.5;var thirdPersonCameraPositionX=position$prime.x+$$Math.cos(theta)*$$Math.cos(v.cameraPitch)*v.cameraRange;var thirdPersonCameraPositionY=position$prime.y+$$Math.sin(v.cameraPitch)*v.cameraRange;var thirdPersonCameraPositionZ=position$prime.z+$$Math.sin(theta)*$$Math.cos(v.cameraPitch)*v.cameraRange;var firstPersonCameraPositionY=position$prime.y+1.4;var cameraPositionX=function(){if(v.firstPersonView){return position$prime.x}if(!v.firstPersonView){return thirdPersonCameraPositionX}throw new Error("Failed pattern match at Game.Cubbit.Update line 150, column 35 - line 150, column 123: "+[v.firstPersonView.constructor.name])}();var cameraPositionY=function(){if(v.firstPersonView){return firstPersonCameraPositionY}if(!v.firstPersonView){return thirdPersonCameraPositionY}throw new Error("Failed pattern match at Game.Cubbit.Update line 151, column 35 - line 151, column 123: "+[v.firstPersonView.constructor.name])}();var cameraPositionZ=function(){if(v.firstPersonView){return position$prime.z}if(!v.firstPersonView){return thirdPersonCameraPositionZ}throw new Error("Failed pattern match at Game.Cubbit.Update line 152, column 35 - line 152, column 123: "+[v.firstPersonView.constructor.name])}();var cameraPositionInterpolatedX=v.cameraPosition.x+(cameraPositionX-v.cameraPosition.x)*cameraSpeed;var cameraPositionInterpolatedY=v.cameraPosition.y+(cameraPositionY-v.cameraPosition.y)*cameraSpeed;var cameraPositionInterpolatedZ=v.cameraPosition.z+(cameraPositionZ-v.cameraPosition.z)*cameraSpeed;var state$prime=function(){var $62={};for(var $63 in v){if(v.hasOwnProperty($63)){$62[$63]=v[$63]}}$62.position=position$prime;$62.velocity=velocity$prime;$62.cameraTarget=cameraTarget$prime;$62.cameraPosition={x:cameraPositionInterpolatedX,y:cameraPositionInterpolatedY,z:cameraPositionInterpolatedZ};$62.cameraYaw=v.cameraYaw+(function(){if(v.qKey){return 1}if(!v.qKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 166, column 57 - line 166, column 88: "+[v.qKey.constructor.name])}()-function(){if(v.eKey){return 1}if(!v.eKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 166, column 93 - line 166, column 124: "+[v.eKey.constructor.name])}())*options.cameraRotationSpeed;$62.cameraPitch=$$Math.max(.1)(Data_Ord.min(Data_Ord.ordNumber)($$Math.pi*.48)(v.cameraPitch+(function(){if(v.rKey){return 1}if(!v.rKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 167, column 87 - line 167, column 118: "+[v.rKey.constructor.name])}()-function(){if(v.fKey){return 1}if(!v.fKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 167, column 123 - line 167, column 154: "+[v.fKey.constructor.name])}())*options.cameraRotationSpeed));$62.cameraRange=$$Math.max(options.cameraMinimumRange)(Data_Ord.min(Data_Ord.ordNumber)(options.cameraMaximumRange)(v.cameraRange+(function(){if(v.gKey){return 1}if(!v.gKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 168, column 125 - line 168, column 156: "+[v.gKey.constructor.name])}()-function(){if(v.tKey){return 1}if(!v.tKey){return 0}throw new Error("Failed pattern match at Game.Cubbit.Update line 168, column 161 - line 168, column 192: "+[v.tKey.constructor.name])}())*options.cameraZoomSpeed));$62.animation=animation$prime;$62.playerRotation=playerRotation$prime;$62.totalFrames=v.totalFrames+1|0;return $62}();Control_Monad_Eff_Ref.writeRef(ref)(state$prime)();Control_Applicative.when(Control_Monad_Eff.applicativeEff)(animation$prime!==v.animation)(Game_Cubbit_Control.playAnimation(animation$prime)(ref))();var v2=Graphics_Babylon_Vector3.createVector3(0)(playerRotation$prime)(0)();var v3=Graphics_Babylon_Vector3.createVector3(state$prime.position.x)(state$prime.position.y)(state$prime.position.z)();Data_Foldable.for_(Control_Monad_Eff.applicativeEff)(Data_Foldable.foldableArray)(v.playerMeshes)(function(mesh){return Data_Functor["void"](Control_Monad_Eff.functorEff)(function __do(){Graphics_Babylon_AbstractMesh.setPosition(v3)(mesh)();Graphics_Babylon_AbstractMesh.setRotation(v2)(mesh)();return Graphics_Babylon_AbstractMesh.setVisibility(function(){if(v.firstPersonView){return 0}if(!v.firstPersonView){return 1}throw new Error("Failed pattern match at Game.Cubbit.Update line 187, column 32 - line 187, column 74: "+[v.firstPersonView.constructor.name])}())(mesh)()})})();var v4=Graphics_Babylon_Vector3.createVector3(cameraPositionInterpolatedX)(cameraPositionInterpolatedY)(cameraPositionInterpolatedZ)();var v5=Graphics_Babylon_Vector3.createVector3(cameraTargetInterpolatedX$prime)(cameraTargetInterpolatedY$prime)(cameraTargetInterpolatedZ$prime)();var v6=Graphics_Babylon_Vector3.subtract(v5)(v4)();var v7=Graphics_Babylon_Vector3.length(v6)();var v8=Graphics_Babylon_Ray.createRayWithLength(v4)(v6)(v7)();var predicate=function(mesh){var name=Graphics_Babylon_Node.getName(Graphics_Babylon_AbstractMesh.abstractMeshToNode(mesh));return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(name==="terrain")};var v9=Graphics_Babylon_Scene.pickWithRay(v8)(predicate)(true)(scene)();var pickedPoint=Graphics_Babylon_PickingInfo.getPickedPoint(v9);var cameraPosition$prime$prime=function(){var $74=Graphics_Babylon_PickingInfo.getPickedPoint(v9);if($74 instanceof Data_Maybe.Nothing){return v4}if($74 instanceof Data_Maybe.Just){return $74.value0}throw new Error("Failed pattern match at Game.Cubbit.Update line 205, column 36 - line 207, column 40: "+[$74.constructor.name])}();Graphics_Babylon_Camera.setPosition(cameraPosition$prime$prime)(Graphics_Babylon_TargetCamera.targetCameraToCamera(camera))();Graphics_Babylon_TargetCamera.setTarget(v5)(camera)();var v10=Graphics_Babylon_Vector3.createVector3(0)(Data_Int.toNumber(v.totalFrames)*1e-4)(0)();Graphics_Babylon_AbstractMesh.setRotation(v10)(Graphics_Babylon_Mesh.meshToAbstractMesh(skybox))();(function __do(){var v11=Control_Monad_Eff_Ref.newRef(0)();var ci=Game_Cubbit_ChunkIndex.runChunkIndex(cameraPositionChunkIndex);var loadAndGenerateChunk=function(index){return Game_Cubbit_MeshBuilder.createChunkMesh(ref)(materials)(scene)(index)};var v12=$foreign.foreachBlocks(options.loadDistance)(ci.x)(ci.y)(ci.z)(v.updateIndex)(function(x){return function(y){return function(z){var index=Game_Cubbit_ChunkIndex.chunkIndex(x)(y)(z);return function __do(){var v12=Game_Cubbit_Terrain.lookupChunk(index)(v.terrain)();if(v12 instanceof Data_Maybe.Just){if(v12.value0.standardMaterialMesh instanceof Game_Cubbit_Chunk.MeshNotLoaded){loadAndGenerateChunk(index)();return 100}return 1}if(v12 instanceof Data_Maybe.Nothing){loadAndGenerateChunk(index)();return 100}throw new Error("Failed pattern match at Game.Cubbit.Update line 238, column 21 - line 250, column 17: "+[v12.constructor.name])}}}})();return Control_Monad_Eff_Ref.modifyRef(ref)(function(v13){var $84={};for(var $85 in v13){if(v13.hasOwnProperty($85)){$84[$85]=v13[$85]}}$84.updateIndex=Data_Nullable.toNullable(new Data_Maybe.Just(v12));return $84})()})();(function(){var ci=Game_Cubbit_ChunkIndex.runChunkIndex(cameraPositionChunkIndex);return function __do(){var v11=Game_Cubbit_ChunkMap.size(v.terrain.map)();return Control_Applicative.when(Control_Monad_Eff.applicativeEff)(options.maximumLoadedChunks<v11)(function __do(){var v12=Game_Cubbit_ChunkMap.getSortedChunks(ci.x)(ci.y)(ci.z)(v.terrain.map)();var sliced=Data_Array.drop(options.maximumLoadedChunks)(v12);return Data_Foldable.for_(Control_Monad_Eff.applicativeEff)(Data_Foldable.foldableArray)(Data_Array.take(options.chunkUnloadSpeed)(sliced))(function(chunkWithMesh){return function __do(){Game_Cubbit_Chunk.disposeChunk(chunkWithMesh)();return Game_Cubbit_ChunkMap["delete"](chunkWithMesh.index)(v.terrain.map)()}})()})()}})()();(function(){var cci=Game_Cubbit_ChunkIndex.runChunkIndex(cameraPositionChunkIndex);return function __do(){var v11=Game_Cubbit_ChunkMap.filterNeighbors(options.shadowDisplayRange)(cci.x)(cci.y)(cci.z)(v.terrain.map)();var meshes=Data_Array.catMaybes(Data_Functor.map(Data_Functor.functorArray)(function(chunk){if(chunk.standardMaterialMesh instanceof Game_Cubbit_Chunk.MeshLoaded){return new Data_Maybe.Just(Graphics_Babylon_Mesh.meshToAbstractMesh(chunk.standardMaterialMesh.value0))}return Data_Maybe.Nothing.value})(v11));return Graphics_Babylon_ShadowGenerator.setRenderList(Data_Semigroup.append(Data_Semigroup.semigroupArray)(meshes)(v.playerMeshes))(shadowMap)()}})()();(function(){if(v.mode instanceof Game_Cubbit_Types.Move){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}return function __do(){var v11=Game_Cubbit_Control.pickBlock(scene)(cursor)(v)(v.mousePosition.x)(v.mousePosition.y)();if(v11 instanceof Data_Maybe.Nothing){return Data_Unit.unit}if(v11 instanceof Data_Maybe.Just){return Data_Functor["void"](Control_Monad_Eff.functorEff)(function(){var rbi=Game_Cubbit_BlockIndex.runBlockIndex(v11.value0);return function __do(){var v12=Graphics_Babylon_Vector3.createVector3(Data_Int.toNumber(rbi.x)+.5)(Data_Int.toNumber(rbi.y)+.5)(Data_Int.toNumber(rbi.z)+.5)();Graphics_Babylon_Mesh.setPosition(v12)(cursor)();return Game_Cubbit_Hud.queryToHud(driver)(Game_Cubbit_Hud.SetCursorPosition.create(v11.value0))()}}())()}throw new Error("Failed pattern match at Game.Cubbit.Update line 286, column 25 - line 292, column 73: "+[v11.constructor.name])}})()();return Graphics_Babylon_AbstractMesh.setIsVisible(function(){if(v.mode instanceof Game_Cubbit_Types.Put){return true}if(v.mode instanceof Game_Cubbit_Types.Remove){return true}if(v.mode instanceof Game_Cubbit_Types.Move){return false}throw new Error("Failed pattern match at Game.Cubbit.Update line 295, column 31 - line 298, column 34: "+[v.mode.constructor.name])}())(Graphics_Babylon_Mesh.meshToAbstractMesh(cursor))()}}}}}}}}}};exports["update"]=update})(PS["Game.Cubbit.Update"]=PS["Game.Cubbit.Update"]||{});(function(exports){exports.createCubeTexture=function(path){return function(scene){return function(){var tex=new BABYLON.CubeTexture(path,scene);return tex}}};exports.cubeTextureToTexture=function(tex){return tex}})(PS["Graphics.Babylon.CubeTexture"]=PS["Graphics.Babylon.CubeTexture"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.CubeTexture"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Texture=PS["Graphics.Babylon.Texture"];exports["createCubeTexture"]=$foreign.createCubeTexture;exports["cubeTextureToTexture"]=$foreign.cubeTextureToTexture})(PS["Graphics.Babylon.CubeTexture"]=PS["Graphics.Babylon.CubeTexture"]||{});(function(exports){exports.createHemisphericLight=function(id){return function(position){return function(scene){return function(){return new BABYLON.HemisphericLight(id,position,scene)}}}};exports.hemisphericLightToLight=function(light){return light}})(PS["Graphics.Babylon.HemisphericLight"]=PS["Graphics.Babylon.HemisphericLight"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.HemisphericLight"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Graphics_Babylon_Light=PS["Graphics.Babylon.Light"];exports["createHemisphericLight"]=$foreign.createHemisphericLight;exports["hemisphericLightToLight"]=$foreign.hemisphericLightToLight})(PS["Graphics.Babylon.HemisphericLight"]=PS["Graphics.Babylon.HemisphericLight"]||{});(function(exports){exports._loadMesh=function(meshesNames){return function(rootUrl){return function(sceneFilename){return function(scene){return function(onsuccess){return function(progressCallBack){return function(onerror){return function(){BABYLON.SceneLoader.ImportMesh(meshesNames,rootUrl,sceneFilename,scene,function(result){onsuccess(result)()},function(e){progressCallBack(e)()},function(e){onerror(e)()})}}}}}}}}})(PS["Graphics.Babylon.SceneLoader.Aff"]=PS["Graphics.Babylon.SceneLoader.Aff"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.SceneLoader.Aff"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var Graphics_Babylon_SceneLoader=PS["Graphics.Babylon.SceneLoader"];var loadMesh=function(meshesNames){return function(rootUrl){return function(sceneFilename){return function(scene){return function(progressCallBack){return Control_Monad_Aff.makeAff(function(reject){return function(resolve){return $foreign._loadMesh(meshesNames)(rootUrl)(sceneFilename)(scene)(resolve)(progressCallBack)(reject)}})}}}}};exports["loadMesh"]=loadMesh})(PS["Graphics.Babylon.SceneLoader.Aff"]=PS["Graphics.Babylon.SceneLoader.Aff"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Sound"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var defaultCreateSoundOptions={loop:false,autoplay:false,playbackRate:1,volume:1};exports["defaultCreateSoundOptions"]=defaultCreateSoundOptions})(PS["Graphics.Babylon.Sound"]=PS["Graphics.Babylon.Sound"]||{});(function(exports){exports._loadSound=function(name){return function(url){return function(scene){return function(options){return function(reject){return function(resolve){return function(){var sound=new BABYLON.Sound(name,url,scene,function(){resolve(sound)()},options)}}}}}}}})(PS["Graphics.Babylon.Sound.Aff"]=PS["Graphics.Babylon.Sound.Aff"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Sound.Aff"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Sound=PS["Graphics.Babylon.Sound"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var loadSound=function(name){return function(url){return function(scene){return function(options){return Control_Monad_Aff.makeAff($foreign._loadSound(name)(url)(scene)(options))}}}};exports["loadSound"]=loadSound})(PS["Graphics.Babylon.Sound.Aff"]=PS["Graphics.Babylon.Sound.Aff"]||{});(function(exports){exports._loadTexture=function(path){return function(scene){return function(options){return function(reject){return function(resolve){return function(){var texture=new BABYLON.Texture(path,scene,options.noMipmap,options.invertY,options.samplingMode,function(){options.onLoad({})();resolve(texture)()},function(){options.onError({})();reject(new Error)()})}}}}}}})(PS["Graphics.Babylon.Texture.Aff"]=PS["Graphics.Babylon.Texture.Aff"]||{});(function(exports){"use strict";var $foreign=PS["Graphics.Babylon.Texture.Aff"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Data_Unit=PS["Data.Unit"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_Texture=PS["Graphics.Babylon.Texture"];var Graphics_Babylon_Types=PS["Graphics.Babylon.Types"];var loadTexture=function(src){return function(scene){return function(options){return Control_Monad_Aff.makeAff($foreign._loadTexture(src)(scene)(options))}}};exports["loadTexture"]=loadTexture})(PS["Graphics.Babylon.Texture.Aff"]=PS["Graphics.Babylon.Texture.Aff"]||{});(function(exports){"use strict";var Prelude=PS["Prelude"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Except=PS["Control.Monad.Except"];var Data_Maybe=PS["Data.Maybe"];var Data_Either=PS["Data.Either"];var Data_Nullable=PS["Data.Nullable"];var Data_Foreign=PS["Data.Foreign"];var DOM=PS["DOM"];var DOM_Event_EventTarget=PS["DOM.Event.EventTarget"];var DOM_HTML_Event_EventTypes=PS["DOM.HTML.Event.EventTypes"];var DOM_HTML=PS["DOM.HTML"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var DOM_HTML_Window=PS["DOM.HTML.Window"];var DOM_Node_ParentNode=PS["DOM.Node.ParentNode"];var Halogen_Effects=PS["Halogen.Effects"];var Control_Bind=PS["Control.Bind"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Control_Applicative=PS["Control.Applicative"];var Data_Unit=PS["Data.Unit"];var selectElement=function(query){
return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Data_Functor.map(Control_Monad_Eff.functorEff)(Data_Nullable.toMaybe)(Control_Bind.bindFlipped(Control_Monad_Eff.bindEff)(Control_Bind.composeKleisliFlipped(Control_Monad_Eff.bindEff)(function($8){return DOM_Node_ParentNode.querySelector(query)(DOM_HTML_Types.htmlDocumentToParentNode($8))})(DOM_HTML_Window.document))(DOM_HTML.window))))(function(v){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)(function(){if(v instanceof Data_Maybe.Nothing){return Data_Maybe.Nothing.value}if(v instanceof Data_Maybe.Just){return Data_Either.either(Data_Function["const"](Data_Maybe.Nothing.value))(Data_Maybe.Just.create)(Control_Monad_Except.runExcept(DOM_HTML_Types.readHTMLElement(Data_Foreign.toForeign(v.value0))))}throw new Error("Failed pattern match at Halogen.Aff.Util line 54, column 3 - line 56, column 88: "+[v.constructor.name])}())})};var runHalogenAff=function($9){return Data_Functor["void"](Control_Monad_Eff.functorEff)(Control_Monad_Aff.runAff(Control_Monad_Eff_Exception.throwException)(Data_Function["const"](Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)))($9))};var awaitLoad=Control_Monad_Aff.makeAff(function(v){return function(callback){return Control_Monad_Eff_Class.liftEff(Control_Monad_Eff_Class.monadEffEff)(function __do(){var $10=DOM_HTML.window();return DOM_Event_EventTarget.addEventListener(DOM_HTML_Event_EventTypes.load)(DOM_Event_EventTarget.eventListener(function(v1){return callback(Data_Unit.unit)}))(false)(DOM_HTML_Types.windowToEventTarget($10))()})}});var awaitBody=Control_Bind.bind(Control_Monad_Aff.bindAff)(awaitLoad)(function(){return Control_Bind.bindFlipped(Control_Monad_Aff.bindAff)(Data_Maybe.maybe(Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error("Could not find body")))(Control_Applicative.pure(Control_Monad_Aff.applicativeAff)))(selectElement("body"))});exports["awaitBody"]=awaitBody;exports["awaitLoad"]=awaitLoad;exports["runHalogenAff"]=runHalogenAff;exports["selectElement"]=selectElement})(PS["Halogen.Aff.Util"]=PS["Halogen.Aff.Util"]||{});(function(exports){"use strict";var $foreign=PS["Game.Cubbit.Main"];var Control_Alternative=PS["Control.Alternative"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Except=PS["Control.Monad.Except"];var Data_Either=PS["Data.Either"];var Data_Foldable=PS["Data.Foldable"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Data_Show=PS["Data.Show"];var Data_Unit=PS["Data.Unit"];var Game_Cubbit_ChunkIndex=PS["Game.Cubbit.ChunkIndex"];var Game_Cubbit_Constants=PS["Game.Cubbit.Constants"];var Game_Cubbit_Event=PS["Game.Cubbit.Event"];var Game_Cubbit_Hud=PS["Game.Cubbit.Hud"];var Game_Cubbit_Materials=PS["Game.Cubbit.Materials"];var Game_Cubbit_MeshBuilder=PS["Game.Cubbit.MeshBuilder"];var Game_Cubbit_Option=PS["Game.Cubbit.Option"];var Game_Cubbit_Terrain=PS["Game.Cubbit.Terrain"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var Game_Cubbit_Update=PS["Game.Cubbit.Update"];var Graphics_Babylon=PS["Graphics.Babylon"];var Graphics_Babylon_AbstractMesh=PS["Graphics.Babylon.AbstractMesh"];var Graphics_Babylon_Camera=PS["Graphics.Babylon.Camera"];var Graphics_Babylon_Color3=PS["Graphics.Babylon.Color3"];var Graphics_Babylon_CubeTexture=PS["Graphics.Babylon.CubeTexture"];var Graphics_Babylon_DirectionalLight=PS["Graphics.Babylon.DirectionalLight"];var Graphics_Babylon_Engine=PS["Graphics.Babylon.Engine"];var Graphics_Babylon_HemisphericLight=PS["Graphics.Babylon.HemisphericLight"];var Graphics_Babylon_Light=PS["Graphics.Babylon.Light"];var Graphics_Babylon_Material=PS["Graphics.Babylon.Material"];var Graphics_Babylon_Mesh=PS["Graphics.Babylon.Mesh"];var Graphics_Babylon_Scene=PS["Graphics.Babylon.Scene"];var Graphics_Babylon_SceneLoader_Aff=PS["Graphics.Babylon.SceneLoader.Aff"];var Graphics_Babylon_ShadowGenerator=PS["Graphics.Babylon.ShadowGenerator"];var Graphics_Babylon_Sound=PS["Graphics.Babylon.Sound"];var Graphics_Babylon_Sound_Aff=PS["Graphics.Babylon.Sound.Aff"];var Graphics_Babylon_StandardMaterial=PS["Graphics.Babylon.StandardMaterial"];var Graphics_Babylon_TargetCamera=PS["Graphics.Babylon.TargetCamera"];var Graphics_Babylon_Texture=PS["Graphics.Babylon.Texture"];var Graphics_Babylon_Texture_Aff=PS["Graphics.Babylon.Texture.Aff"];var Graphics_Babylon_Vector3=PS["Graphics.Babylon.Vector3"];var Halogen_Aff=PS["Halogen.Aff"];var Halogen_Aff_Util=PS["Halogen.Aff.Util"];var Network_HTTP_Affjax=PS["Network.HTTP.Affjax"];var Prelude=PS["Prelude"];var Data_Functor=PS["Data.Functor"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Network_HTTP_Affjax_Response=PS["Network.HTTP.Affjax.Response"];var Data_List_Types=PS["Data.List.Types"];var Data_Foreign=PS["Data.Foreign"];var Control_Applicative=PS["Control.Applicative"];var Data_Function=PS["Data.Function"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Data_Ring=PS["Data.Ring"];var main=function __do(){var v=Data_Functor.map(Control_Monad_Eff.functorEff)(Data_Nullable.toMaybe)(Graphics_Babylon.querySelectorCanvas("#renderCanvas"))();if(v instanceof Data_Maybe.Nothing){return Control_Monad_Eff_Console.error("canvasGL not found")()}if(v instanceof Data_Maybe.Just){return Halogen_Aff_Util.runHalogenAff(Control_Bind.bind(Control_Monad_Aff.bindAff)(Halogen_Aff_Util.awaitBody)(function(v1){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Network_HTTP_Affjax.get(Network_HTTP_Affjax_Response.responsableForeign)("options.json"))(function(v2){return Control_Bind.bind(Control_Monad_Aff.bindAff)(function(){var $43=Control_Monad_Except.runExcept(Game_Cubbit_Option.readOptions(v2.response));if($43 instanceof Data_Either.Left){return Control_Monad_Error_Class.throwError(Control_Monad_Aff.monadErrorAff)(Control_Monad_Eff_Exception.error(Data_Show.show(Data_List_Types.showNonEmptyList(Data_Foreign.showForeignError))($43.value0)))}if($43 instanceof Data_Either.Right){return Control_Applicative.pure(Control_Monad_Aff.applicativeAff)($43.value0)}throw new Error("Failed pattern match at Game.Cubbit.Main line 64, column 20 - line 66, column 34: "+[$43.constructor.name])}())(function(v3){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Graphics_Babylon_Engine.createEngine(v.value0)(true)))(function(v4){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(function __do(){var v5=Graphics_Babylon_Scene.createScene(v4)();Graphics_Babylon_Scene.setFogMode(Graphics_Babylon_Scene.fOGMODE_EXP)(v5)();Graphics_Babylon_Scene.setFogDensity(v3.fogDensity)(v5)();var v6=Graphics_Babylon_Color3.createColor3(155/255)(181/255)(230/255)();Graphics_Babylon_Scene.setFogColor(v6)(v5)();Graphics_Babylon_Scene.setCollisionsEnabled(true)(v5)();return v5}))(function(v5){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Game_Cubbit_Terrain.emptyTerrain(0)))(function(v6){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Control_Monad_Eff_Ref.newRef({mode:Game_Cubbit_Types.Move.value,terrain:v6,mousePosition:{x:0,y:0},debugLayer:false,cameraPosition:{x:10,y:20,z:-10},cameraTarget:{x:.5,y:11,z:.5},cameraYaw:0,cameraPitch:.7,cameraRange:5,firstPersonView:false,firstPersonViewPitch:0,position:{x:.5,y:10,z:.5},velocity:{x:0,y:0,z:0},playerRotation:.5,playerPitch:0,minimap:false,totalFrames:0,playerMeshes:[],updateIndex:Data_Nullable.toNullable(Data_Maybe.Nothing.value),wKey:false,sKey:false,aKey:false,dKey:false,qKey:false,eKey:false,rKey:false,fKey:false,tKey:false,gKey:false,animation:""})))(function(v7){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Graphics_Babylon_Texture_Aff.loadTexture("./texture.png")(v5)(Graphics_Babylon_Texture.defaultCreateTextureOptions))(function(v8){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Graphics_Babylon_Texture_Aff.loadTexture("./alpha.png")(v5)(Graphics_Babylon_Texture.defaultCreateTextureOptions))(function(v9){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Graphics_Babylon_Texture_Aff.loadTexture("./alice/texture.png")(v5)(Graphics_Babylon_Texture.defaultCreateTextureOptions))(function(){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Graphics_Babylon_SceneLoader_Aff.loadMesh("")("./alice/")("alice.babylon")(v5)(Control_Applicative.pure(Control_Monad_Eff.applicativeEff)))(function(v10){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Graphics_Babylon_Sound_Aff.loadSound("forest.mp3")("forest.mp3")(v5)(function(){var $56={};for(var $57 in Graphics_Babylon_Sound.defaultCreateSoundOptions){if(Graphics_Babylon_Sound.defaultCreateSoundOptions.hasOwnProperty($57)){$56[$57]=Graphics_Babylon_Sound.defaultCreateSoundOptions[$57]}}$56.autoplay=true;$56.loop=true;return $56}()))(function(v11){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(function __do(){var v12=Graphics_Babylon_Mesh.createBox("cursor")(1)(v5)();Graphics_Babylon_AbstractMesh.setRenderingGroupId(1)(Graphics_Babylon_Mesh.meshToAbstractMesh(v12))();Graphics_Babylon_AbstractMesh.setIsPickable(false)(Graphics_Babylon_Mesh.meshToAbstractMesh(v12))();Graphics_Babylon_AbstractMesh.setIsVisible(false)(Graphics_Babylon_Mesh.meshToAbstractMesh(v12))();var v13=Graphics_Babylon_StandardMaterial.createStandardMaterial("cursormat")(v5)();Graphics_Babylon_Material.setWireframe(true)(Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v13))();Graphics_Babylon_Material.setZOffset(-.01)(Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v13))();Graphics_Babylon_AbstractMesh.setMaterial(Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v13))(Graphics_Babylon_Mesh.meshToAbstractMesh(v12))();return v12}))(function(v12){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(function __do(){var v13=Graphics_Babylon_CubeTexture.createCubeTexture("skybox/skybox")(v5)();Graphics_Babylon_Texture.setCoordinatesMode(Graphics_Babylon_Texture.sKYBOX_MODE)(Graphics_Babylon_CubeTexture.cubeTextureToTexture(v13))();var v14=Graphics_Babylon_StandardMaterial.createStandardMaterial("skyBox/skybox")(v5)();Graphics_Babylon_Material.setFogEnabled(false)(Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v14))();Graphics_Babylon_StandardMaterial.setBackFaceCulling(false)(v14)();Graphics_Babylon_StandardMaterial.setDisableLighting(true)(v14)();var v15=Graphics_Babylon_Color3.createColor3(0)(0)(0)();Graphics_Babylon_StandardMaterial.setDiffuseColor(v15)(v14)();var v16=Graphics_Babylon_Color3.createColor3(0)(0)(0)();Graphics_Babylon_StandardMaterial.setSpecularColor(v16)(v14)();Graphics_Babylon_StandardMaterial.setReflectionTexture(Graphics_Babylon_CubeTexture.cubeTextureToTexture(v13))(v14)();var v17=Graphics_Babylon_Mesh.createBox("skybox")(1e3)(v5)();Graphics_Babylon_AbstractMesh.setRenderingGroupId(Game_Cubbit_Constants.skyBoxRenderingGruop)(Graphics_Babylon_Mesh.meshToAbstractMesh(v17))();Graphics_Babylon_AbstractMesh.setMaterial(Graphics_Babylon_StandardMaterial.standardMaterialToMaterial(v14))(Graphics_Babylon_Mesh.meshToAbstractMesh(v17))();Graphics_Babylon_Mesh.setInfiniteDistance(true)(v17)();return v17}))(function(v13){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(Game_Cubbit_Materials.initializeMaterials(v5)(v13)(v8)(v9)(v3)))(function(v14){return Control_Bind.bind(Control_Monad_Aff.bindAff)(Game_Cubbit_Hud.initializeHud(v7)(v3)(v1)(v5)(v12)(v14))(function(v15){return Control_Monad_Eff_Class.liftEff(Control_Monad_Aff.monadEffAff)(function __do(){Control_Monad_Eff_Ref.modifyRef(v7)(function(v16){var $72={};for(var $73 in v16){if(v16.hasOwnProperty($73)){$72[$73]=v16[$73]}}$72.playerMeshes=v10;return $72})();var v16=function __do(){var v16=Graphics_Babylon_Vector3.createVector3(10)(20)(-10)();var v17=Graphics_Babylon_TargetCamera.createTargetCamera("target-camera")(v16)(v5)();var v18=Graphics_Babylon_Vector3.createVector3(0)(8)(0)();Graphics_Babylon_TargetCamera.setTarget(v18)(v17)();Graphics_Babylon_Camera.setMaxZ(v3.cameraMaxZ)(Graphics_Babylon_TargetCamera.targetCameraToCamera(v17))();Graphics_Babylon_Camera.setMinZ(v3.cameraMinZ)(Graphics_Babylon_TargetCamera.targetCameraToCamera(v17))();Graphics_Babylon_Camera.setFOV(v3.cameraFOV)(Graphics_Babylon_TargetCamera.targetCameraToCamera(v17))();return v17}();Graphics_Babylon_Scene.setActiveCameras([Graphics_Babylon_TargetCamera.targetCameraToCamera(v16)])(v5)();Graphics_Babylon_Scene.setActiveCamera(Graphics_Babylon_TargetCamera.targetCameraToCamera(v16))(v5)();(function __do(){var v17=Graphics_Babylon_Vector3.createVector3(0)(1)(0)();var v18=Graphics_Babylon_HemisphericLight.createHemisphericLight("Hemi0")(v17)(v5)();var v19=Graphics_Babylon_Color3.createColor3(.6)(.6)(.6)();return Graphics_Babylon_Light.setDiffuse(v19)(Graphics_Babylon_HemisphericLight.hemisphericLightToLight(v18))()})();var v17=function __do(){var v17=Graphics_Babylon_Vector3.createVector3(.3)(-1)(.5)();var v18=Graphics_Babylon_DirectionalLight.createDirectionalLight("light1")(v17)(v5)();var v19=Graphics_Babylon_Color3.createColor3(.8)(.8)(.8)();Graphics_Babylon_Light.setDiffuse(v19)(Graphics_Babylon_DirectionalLight.directionalLightToLight(v18))();var v20=Graphics_Babylon_ShadowGenerator.createShadowGenerator(v3.shadowMapSize)(v18)();Graphics_Babylon_ShadowGenerator.setBias(5e-6)(v20)();Graphics_Babylon_ShadowGenerator.setUsePoissonSampling(true)(v20)();return Graphics_Babylon_ShadowGenerator.getShadowMap(v20)()}();Data_Foldable.for_(Control_Monad_Eff.applicativeEff)(Data_Foldable.foldableArray)(v10)(function(mesh){return Data_Functor["void"](Control_Monad_Eff.functorEff)(function __do(){var v18=Graphics_Babylon_Vector3.createVector3(.5)(13)(.5)();Graphics_Babylon_AbstractMesh.setPosition(v18)(mesh)();Graphics_Babylon_AbstractMesh.setRenderingGroupId(1)(mesh)();Graphics_Babylon_AbstractMesh.setReceiveShadows(true)(mesh)();var v19=Graphics_Babylon_AbstractMesh.getSkeleton(mesh)();return Graphics_Babylon_AbstractMesh.setMaterial(v14.cellShadingMaterial)(mesh)()})})();Control_Monad_Eff.forE(-v3.initialWorldSize)(v3.initialWorldSize)(function(x){return Control_Monad_Eff.forE(-v3.initialWorldSize)(v3.initialWorldSize)(function(z){return Data_Functor["void"](Control_Monad_Eff.functorEff)(function(){var index=Game_Cubbit_ChunkIndex.chunkIndex(x)(0)(z);return Game_Cubbit_MeshBuilder.createChunkMesh(v7)(v14)(v5)(index)}())})})();Graphics_Babylon_Engine.runRenderLoop(function __do(){Game_Cubbit_Update.update(v7)(v5)(v14)(v17)(v12)(v16)(v3)(v13)(v15)();return Graphics_Babylon_Scene.render(v5)()})(v4)();Game_Cubbit_Event.focus("content")();return $foreign.hideLoading()})})})})})})})})})})})})})})})})}))()}throw new Error("Failed pattern match at Game.Cubbit.Main line 55, column 8 - line 227, column 24: "+[v.constructor.name])};exports["main"]=main})(PS["Game.Cubbit.Main"]=PS["Game.Cubbit.Main"]||{});(function(exports){"use strict";var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];var Game_Cubbit_Main=PS["Game.Cubbit.Main"];var Game_Cubbit_Types=PS["Game.Cubbit.Types"];var main=Game_Cubbit_Main.main;exports["main"]=main})(PS["Main"]=PS["Main"]||{});PS["Main"].main()}).call(this,require("_process"))},{_process:2,"virtual-dom/create-element":6,"virtual-dom/diff":7,"virtual-dom/patch":8,"virtual-dom/virtual-hyperscript/hooks/soft-set-hook":15,"virtual-dom/vnode/vnode":23,"virtual-dom/vnode/vtext":25}],4:[function(require,module,exports){(function(global){var topLevel=typeof global!=="undefined"?global:typeof window!=="undefined"?window:{};var minDoc=require("min-document");if(typeof document!=="undefined"){module.exports=document}else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];if(!doccy){doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc}module.exports=doccy}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":1}],5:[function(require,module,exports){"use strict";module.exports=function isObject(x){return typeof x==="object"&&x!==null}},{}],6:[function(require,module,exports){var createElement=require("./vdom/create-element.js");module.exports=createElement},{"./vdom/create-element.js":10}],7:[function(require,module,exports){var diff=require("./vtree/diff.js");module.exports=diff},{"./vtree/diff.js":27}],8:[function(require,module,exports){var patch=require("./vdom/patch.js");module.exports=patch},{"./vdom/patch.js":13}],9:[function(require,module,exports){var isObject=require("is-object");var isHook=require("../vnode/is-vhook.js");module.exports=applyProperties;function applyProperties(node,props,previous){for(var propName in props){var propValue=props[propName];if(propValue===undefined){removeProperty(node,propName,propValue,previous)}else if(isHook(propValue)){removeProperty(node,propName,propValue,previous);if(propValue.hook){propValue.hook(node,propName,previous?previous[propName]:undefined)}}else{if(isObject(propValue)){patchObject(node,props,previous,propName,propValue)}else{node[propName]=propValue}}}}function removeProperty(node,propName,propValue,previous){if(previous){var previousValue=previous[propName];if(!isHook(previousValue)){if(propName==="attributes"){for(var attrName in previousValue){node.removeAttribute(attrName)}}else if(propName==="style"){for(var i in previousValue){node.style[i]=""}}else if(typeof previousValue==="string"){node[propName]=""}else{node[propName]=null}}else if(previousValue.unhook){previousValue.unhook(node,propName,propValue)}}}function patchObject(node,props,previous,propName,propValue){var previousValue=previous?previous[propName]:undefined;if(propName==="attributes"){for(var attrName in propValue){var attrValue=propValue[attrName];if(attrValue===undefined){node.removeAttribute(attrName)}else{node.setAttribute(attrName,attrValue)}}return}if(previousValue&&isObject(previousValue)&&getPrototype(previousValue)!==getPrototype(propValue)){node[propName]=propValue;return}if(!isObject(node[propName])){node[propName]={}}var replacer=propName==="style"?"":undefined;for(var k in propValue){var value=propValue[k];node[propName][k]=value===undefined?replacer:value}}function getPrototype(value){if(Object.getPrototypeOf){return Object.getPrototypeOf(value)}else if(value.__proto__){return value.__proto__}else if(value.constructor){return value.constructor.prototype}}},{"../vnode/is-vhook.js":18,"is-object":5}],10:[function(require,module,exports){var document=require("global/document");var applyProperties=require("./apply-properties");var isVNode=require("../vnode/is-vnode.js");var isVText=require("../vnode/is-vtext.js");var isWidget=require("../vnode/is-widget.js");var handleThunk=require("../vnode/handle-thunk.js");module.exports=createElement;function createElement(vnode,opts){var doc=opts?opts.document||document:document;var warn=opts?opts.warn:null;vnode=handleThunk(vnode).a;if(isWidget(vnode)){return vnode.init()}else if(isVText(vnode)){return doc.createTextNode(vnode.text)}else if(!isVNode(vnode)){if(warn){warn("Item is not a valid virtual dom node",vnode)}return null}var node=vnode.namespace===null?doc.createElement(vnode.tagName):doc.createElementNS(vnode.namespace,vnode.tagName);var props=vnode.properties;applyProperties(node,props);var children=vnode.children;for(var i=0;i<children.length;i++){var childNode=createElement(children[i],opts);if(childNode){node.appendChild(childNode)}}return node}},{"../vnode/handle-thunk.js":16,"../vnode/is-vnode.js":19,"../vnode/is-vtext.js":20,"../vnode/is-widget.js":21,"./apply-properties":9,"global/document":4}],11:[function(require,module,exports){var noChild={};module.exports=domIndex;function domIndex(rootNode,tree,indices,nodes){if(!indices||indices.length===0){return{}}else{indices.sort(ascending);return recurse(rootNode,tree,indices,nodes,0)}}function recurse(rootNode,tree,indices,nodes,rootIndex){nodes=nodes||{};if(rootNode){if(indexInRange(indices,rootIndex,rootIndex)){nodes[rootIndex]=rootNode}var vChildren=tree.children;if(vChildren){var childNodes=rootNode.childNodes;for(var i=0;i<tree.children.length;i++){rootIndex+=1;var vChild=vChildren[i]||noChild;var nextIndex=rootIndex+(vChild.count||0);if(indexInRange(indices,rootIndex,nextIndex)){recurse(childNodes[i],vChild,indices,nodes,rootIndex)}rootIndex=nextIndex}}}return nodes}function indexInRange(indices,left,right){if(indices.length===0){return false}var minIndex=0;var maxIndex=indices.length-1;var currentIndex;var currentItem;while(minIndex<=maxIndex){currentIndex=(maxIndex+minIndex)/2>>0;currentItem=indices[currentIndex];if(minIndex===maxIndex){return currentItem>=left&&currentItem<=right}else if(currentItem<left){minIndex=currentIndex+1}else if(currentItem>right){maxIndex=currentIndex-1}else{return true}}return false}function ascending(a,b){return a>b?1:-1}},{}],12:[function(require,module,exports){var applyProperties=require("./apply-properties");var isWidget=require("../vnode/is-widget.js");var VPatch=require("../vnode/vpatch.js");var updateWidget=require("./update-widget");module.exports=applyPatch;function applyPatch(vpatch,domNode,renderOptions){var type=vpatch.type;var vNode=vpatch.vNode;var patch=vpatch.patch;switch(type){case VPatch.REMOVE:return removeNode(domNode,vNode);case VPatch.INSERT:return insertNode(domNode,patch,renderOptions);case VPatch.VTEXT:return stringPatch(domNode,vNode,patch,renderOptions);case VPatch.WIDGET:return widgetPatch(domNode,vNode,patch,renderOptions);case VPatch.VNODE:return vNodePatch(domNode,vNode,patch,renderOptions);case VPatch.ORDER:reorderChildren(domNode,patch);return domNode;case VPatch.PROPS:applyProperties(domNode,patch,vNode.properties);return domNode;case VPatch.THUNK:return replaceRoot(domNode,renderOptions.patch(domNode,patch,renderOptions));default:return domNode}}function removeNode(domNode,vNode){var parentNode=domNode.parentNode;if(parentNode){parentNode.removeChild(domNode)}destroyWidget(domNode,vNode);return null}function insertNode(parentNode,vNode,renderOptions){var newNode=renderOptions.render(vNode,renderOptions);if(parentNode){parentNode.appendChild(newNode)}return parentNode}function stringPatch(domNode,leftVNode,vText,renderOptions){var newNode;if(domNode.nodeType===3){domNode.replaceData(0,domNode.length,vText.text);newNode=domNode}else{var parentNode=domNode.parentNode;newNode=renderOptions.render(vText,renderOptions);if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}}return newNode}function widgetPatch(domNode,leftVNode,widget,renderOptions){var updating=updateWidget(leftVNode,widget);var newNode;if(updating){newNode=widget.update(leftVNode,domNode)||domNode}else{newNode=renderOptions.render(widget,renderOptions)}var parentNode=domNode.parentNode;if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}if(!updating){destroyWidget(domNode,leftVNode)}return newNode}function vNodePatch(domNode,leftVNode,vNode,renderOptions){var parentNode=domNode.parentNode;var newNode=renderOptions.render(vNode,renderOptions);if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}return newNode}function destroyWidget(domNode,w){if(typeof w.destroy==="function"&&isWidget(w)){w.destroy(domNode)}}function reorderChildren(domNode,moves){var childNodes=domNode.childNodes;var keyMap={};var node;var remove;var insert;for(var i=0;i<moves.removes.length;i++){remove=moves.removes[i];node=childNodes[remove.from];if(remove.key){keyMap[remove.key]=node}domNode.removeChild(node)}var length=childNodes.length;for(var j=0;j<moves.inserts.length;j++){insert=moves.inserts[j];node=keyMap[insert.key];domNode.insertBefore(node,insert.to>=length++?null:childNodes[insert.to])}}function replaceRoot(oldRoot,newRoot){if(oldRoot&&newRoot&&oldRoot!==newRoot&&oldRoot.parentNode){oldRoot.parentNode.replaceChild(newRoot,oldRoot)}return newRoot}},{"../vnode/is-widget.js":21,"../vnode/vpatch.js":24,"./apply-properties":9,"./update-widget":14}],13:[function(require,module,exports){var document=require("global/document");var isArray=require("x-is-array");var render=require("./create-element");var domIndex=require("./dom-index");var patchOp=require("./patch-op");module.exports=patch;function patch(rootNode,patches,renderOptions){renderOptions=renderOptions||{};renderOptions.patch=renderOptions.patch&&renderOptions.patch!==patch?renderOptions.patch:patchRecursive;renderOptions.render=renderOptions.render||render;return renderOptions.patch(rootNode,patches,renderOptions)}function patchRecursive(rootNode,patches,renderOptions){var indices=patchIndices(patches);if(indices.length===0){return rootNode}var index=domIndex(rootNode,patches.a,indices);var ownerDocument=rootNode.ownerDocument;if(!renderOptions.document&&ownerDocument!==document){renderOptions.document=ownerDocument}for(var i=0;i<indices.length;i++){var nodeIndex=indices[i];rootNode=applyPatch(rootNode,index[nodeIndex],patches[nodeIndex],renderOptions)}return rootNode}function applyPatch(rootNode,domNode,patchList,renderOptions){if(!domNode){return rootNode}var newNode;if(isArray(patchList)){for(var i=0;i<patchList.length;i++){newNode=patchOp(patchList[i],domNode,renderOptions);if(domNode===rootNode){rootNode=newNode}}}else{newNode=patchOp(patchList,domNode,renderOptions);if(domNode===rootNode){rootNode=newNode}}return rootNode}function patchIndices(patches){var indices=[];for(var key in patches){if(key!=="a"){indices.push(Number(key))}}return indices}},{"./create-element":10,"./dom-index":11,"./patch-op":12,"global/document":4,"x-is-array":28}],14:[function(require,module,exports){var isWidget=require("../vnode/is-widget.js");module.exports=updateWidget;function updateWidget(a,b){if(isWidget(a)&&isWidget(b)){if("name"in a&&"name"in b){return a.id===b.id}else{return a.init===b.init}}return false}},{"../vnode/is-widget.js":21}],15:[function(require,module,exports){"use strict";module.exports=SoftSetHook;function SoftSetHook(value){if(!(this instanceof SoftSetHook)){return new SoftSetHook(value)}this.value=value}SoftSetHook.prototype.hook=function(node,propertyName){if(node[propertyName]!==this.value){node[propertyName]=this.value}}},{}],16:[function(require,module,exports){var isVNode=require("./is-vnode");var isVText=require("./is-vtext");var isWidget=require("./is-widget");var isThunk=require("./is-thunk");module.exports=handleThunk;function handleThunk(a,b){var renderedA=a;var renderedB=b;if(isThunk(b)){renderedB=renderThunk(b,a)}if(isThunk(a)){renderedA=renderThunk(a,null)}return{a:renderedA,b:renderedB}}function renderThunk(thunk,previous){var renderedThunk=thunk.vnode;if(!renderedThunk){renderedThunk=thunk.vnode=thunk.render(previous)}if(!(isVNode(renderedThunk)||isVText(renderedThunk)||isWidget(renderedThunk))){throw new Error("thunk did not return a valid node")}return renderedThunk}},{"./is-thunk":17,"./is-vnode":19,"./is-vtext":20,"./is-widget":21}],17:[function(require,module,exports){module.exports=isThunk;function isThunk(t){return t&&t.type==="Thunk"}},{}],18:[function(require,module,exports){module.exports=isHook;function isHook(hook){return hook&&(typeof hook.hook==="function"&&!hook.hasOwnProperty("hook")||typeof hook.unhook==="function"&&!hook.hasOwnProperty("unhook"))}},{}],19:[function(require,module,exports){var version=require("./version");module.exports=isVirtualNode;function isVirtualNode(x){return x&&x.type==="VirtualNode"&&x.version===version}},{"./version":22}],20:[function(require,module,exports){var version=require("./version");module.exports=isVirtualText;function isVirtualText(x){return x&&x.type==="VirtualText"&&x.version===version}},{"./version":22}],21:[function(require,module,exports){module.exports=isWidget;function isWidget(w){return w&&w.type==="Widget"}},{}],22:[function(require,module,exports){module.exports="2"},{}],23:[function(require,module,exports){var version=require("./version");var isVNode=require("./is-vnode");var isWidget=require("./is-widget");var isThunk=require("./is-thunk");var isVHook=require("./is-vhook");module.exports=VirtualNode;var noProperties={};var noChildren=[];function VirtualNode(tagName,properties,children,key,namespace){this.tagName=tagName;this.properties=properties||noProperties;this.children=children||noChildren;this.key=key!=null?String(key):undefined;this.namespace=typeof namespace==="string"?namespace:null;var count=children&&children.length||0;var descendants=0;var hasWidgets=false;var hasThunks=false;var descendantHooks=false;var hooks;for(var propName in properties){if(properties.hasOwnProperty(propName)){var property=properties[propName];if(isVHook(property)&&property.unhook){if(!hooks){hooks={}}hooks[propName]=property}}}for(var i=0;i<count;i++){var child=children[i];if(isVNode(child)){descendants+=child.count||0;if(!hasWidgets&&child.hasWidgets){hasWidgets=true}if(!hasThunks&&child.hasThunks){hasThunks=true}if(!descendantHooks&&(child.hooks||child.descendantHooks)){descendantHooks=true}}else if(!hasWidgets&&isWidget(child)){if(typeof child.destroy==="function"){hasWidgets=true}}else if(!hasThunks&&isThunk(child)){hasThunks=true}}this.count=count+descendants;this.hasWidgets=hasWidgets;this.hasThunks=hasThunks;this.hooks=hooks;this.descendantHooks=descendantHooks}VirtualNode.prototype.version=version;VirtualNode.prototype.type="VirtualNode"},{"./is-thunk":17,"./is-vhook":18,"./is-vnode":19,"./is-widget":21,"./version":22}],24:[function(require,module,exports){var version=require("./version");VirtualPatch.NONE=0;VirtualPatch.VTEXT=1;VirtualPatch.VNODE=2;VirtualPatch.WIDGET=3;VirtualPatch.PROPS=4;VirtualPatch.ORDER=5;VirtualPatch.INSERT=6;VirtualPatch.REMOVE=7;VirtualPatch.THUNK=8;module.exports=VirtualPatch;function VirtualPatch(type,vNode,patch){this.type=Number(type);this.vNode=vNode;this.patch=patch}VirtualPatch.prototype.version=version;VirtualPatch.prototype.type="VirtualPatch"},{"./version":22}],25:[function(require,module,exports){var version=require("./version");module.exports=VirtualText;function VirtualText(text){this.text=String(text)}VirtualText.prototype.version=version;VirtualText.prototype.type="VirtualText"},{"./version":22}],26:[function(require,module,exports){var isObject=require("is-object");var isHook=require("../vnode/is-vhook");module.exports=diffProps;function diffProps(a,b){var diff;for(var aKey in a){if(!(aKey in b)){diff=diff||{};diff[aKey]=undefined}var aValue=a[aKey];var bValue=b[aKey];if(aValue===bValue){continue}else if(isObject(aValue)&&isObject(bValue)){if(getPrototype(bValue)!==getPrototype(aValue)){diff=diff||{};diff[aKey]=bValue}else if(isHook(bValue)){diff=diff||{};diff[aKey]=bValue}else{var objectDiff=diffProps(aValue,bValue);if(objectDiff){diff=diff||{};diff[aKey]=objectDiff}}}else{diff=diff||{};diff[aKey]=bValue}}for(var bKey in b){if(!(bKey in a)){diff=diff||{};diff[bKey]=b[bKey]}}return diff}function getPrototype(value){if(Object.getPrototypeOf){return Object.getPrototypeOf(value)}else if(value.__proto__){return value.__proto__}else if(value.constructor){return value.constructor.prototype}}},{"../vnode/is-vhook":18,"is-object":5}],27:[function(require,module,exports){var isArray=require("x-is-array");var VPatch=require("../vnode/vpatch");var isVNode=require("../vnode/is-vnode");var isVText=require("../vnode/is-vtext");var isWidget=require("../vnode/is-widget");var isThunk=require("../vnode/is-thunk");var handleThunk=require("../vnode/handle-thunk");var diffProps=require("./diff-props");

module.exports=diff;function diff(a,b){var patch={a:a};walk(a,b,patch,0);return patch}function walk(a,b,patch,index){if(a===b){return}var apply=patch[index];var applyClear=false;if(isThunk(a)||isThunk(b)){thunks(a,b,patch,index)}else if(b==null){if(!isWidget(a)){clearState(a,patch,index);apply=patch[index]}apply=appendPatch(apply,new VPatch(VPatch.REMOVE,a,b))}else if(isVNode(b)){if(isVNode(a)){if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var propsPatch=diffProps(a.properties,b.properties);if(propsPatch){apply=appendPatch(apply,new VPatch(VPatch.PROPS,a,propsPatch))}apply=diffChildren(a,b,patch,apply,index)}else{apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b));applyClear=true}}else{apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b));applyClear=true}}else if(isVText(b)){if(!isVText(a)){apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b));applyClear=true}else if(a.text!==b.text){apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b))}}else if(isWidget(b)){if(!isWidget(a)){applyClear=true}apply=appendPatch(apply,new VPatch(VPatch.WIDGET,a,b))}if(apply){patch[index]=apply}if(applyClear){clearState(a,patch,index)}}function diffChildren(a,b,patch,apply,index){var aChildren=a.children;var orderedSet=reorder(aChildren,b.children);var bChildren=orderedSet.children;var aLen=aChildren.length;var bLen=bChildren.length;var len=aLen>bLen?aLen:bLen;for(var i=0;i<len;i++){var leftNode=aChildren[i];var rightNode=bChildren[i];index+=1;if(!leftNode){if(rightNode){apply=appendPatch(apply,new VPatch(VPatch.INSERT,null,rightNode))}}else{walk(leftNode,rightNode,patch,index)}if(isVNode(leftNode)&&leftNode.count){index+=leftNode.count}}if(orderedSet.moves){apply=appendPatch(apply,new VPatch(VPatch.ORDER,a,orderedSet.moves))}return apply}function clearState(vNode,patch,index){unhook(vNode,patch,index);destroyWidgets(vNode,patch,index)}function destroyWidgets(vNode,patch,index){if(isWidget(vNode)){if(typeof vNode.destroy==="function"){patch[index]=appendPatch(patch[index],new VPatch(VPatch.REMOVE,vNode,null))}}else if(isVNode(vNode)&&(vNode.hasWidgets||vNode.hasThunks)){var children=vNode.children;var len=children.length;for(var i=0;i<len;i++){var child=children[i];index+=1;destroyWidgets(child,patch,index);if(isVNode(child)&&child.count){index+=child.count}}}else if(isThunk(vNode)){thunks(vNode,null,patch,index)}}function thunks(a,b,patch,index){var nodes=handleThunk(a,b);var thunkPatch=diff(nodes.a,nodes.b);if(hasPatches(thunkPatch)){patch[index]=new VPatch(VPatch.THUNK,null,thunkPatch)}}function hasPatches(patch){for(var index in patch){if(index!=="a"){return true}}return false}function unhook(vNode,patch,index){if(isVNode(vNode)){if(vNode.hooks){patch[index]=appendPatch(patch[index],new VPatch(VPatch.PROPS,vNode,undefinedKeys(vNode.hooks)))}if(vNode.descendantHooks||vNode.hasThunks){var children=vNode.children;var len=children.length;for(var i=0;i<len;i++){var child=children[i];index+=1;unhook(child,patch,index);if(isVNode(child)&&child.count){index+=child.count}}}}else if(isThunk(vNode)){thunks(vNode,null,patch,index)}}function undefinedKeys(obj){var result={};for(var key in obj){result[key]=undefined}return result}function reorder(aChildren,bChildren){var bChildIndex=keyIndex(bChildren);var bKeys=bChildIndex.keys;var bFree=bChildIndex.free;if(bFree.length===bChildren.length){return{children:bChildren,moves:null}}var aChildIndex=keyIndex(aChildren);var aKeys=aChildIndex.keys;var aFree=aChildIndex.free;if(aFree.length===aChildren.length){return{children:bChildren,moves:null}}var newChildren=[];var freeIndex=0;var freeCount=bFree.length;var deletedItems=0;for(var i=0;i<aChildren.length;i++){var aItem=aChildren[i];var itemIndex;if(aItem.key){if(bKeys.hasOwnProperty(aItem.key)){itemIndex=bKeys[aItem.key];newChildren.push(bChildren[itemIndex])}else{itemIndex=i-deletedItems++;newChildren.push(null)}}else{if(freeIndex<freeCount){itemIndex=bFree[freeIndex++];newChildren.push(bChildren[itemIndex])}else{itemIndex=i-deletedItems++;newChildren.push(null)}}}var lastFreeIndex=freeIndex>=bFree.length?bChildren.length:bFree[freeIndex];for(var j=0;j<bChildren.length;j++){var newItem=bChildren[j];if(newItem.key){if(!aKeys.hasOwnProperty(newItem.key)){newChildren.push(newItem)}}else if(j>=lastFreeIndex){newChildren.push(newItem)}}var simulate=newChildren.slice();var simulateIndex=0;var removes=[];var inserts=[];var simulateItem;for(var k=0;k<bChildren.length;){var wantedItem=bChildren[k];simulateItem=simulate[simulateIndex];while(simulateItem===null&&simulate.length){removes.push(remove(simulate,simulateIndex,null));simulateItem=simulate[simulateIndex]}if(!simulateItem||simulateItem.key!==wantedItem.key){if(wantedItem.key){if(simulateItem&&simulateItem.key){if(bKeys[simulateItem.key]!==k+1){removes.push(remove(simulate,simulateIndex,simulateItem.key));simulateItem=simulate[simulateIndex];if(!simulateItem||simulateItem.key!==wantedItem.key){inserts.push({key:wantedItem.key,to:k})}else{simulateIndex++}}else{inserts.push({key:wantedItem.key,to:k})}}else{inserts.push({key:wantedItem.key,to:k})}k++}else if(simulateItem&&simulateItem.key){removes.push(remove(simulate,simulateIndex,simulateItem.key))}}else{simulateIndex++;k++}}while(simulateIndex<simulate.length){simulateItem=simulate[simulateIndex];removes.push(remove(simulate,simulateIndex,simulateItem&&simulateItem.key))}if(removes.length===deletedItems&&!inserts.length){return{children:newChildren,moves:null}}return{children:newChildren,moves:{removes:removes,inserts:inserts}}}function remove(arr,index,key){arr.splice(index,1);return{from:index,key:key}}function keyIndex(children){var keys={};var free=[];var length=children.length;for(var i=0;i<length;i++){var child=children[i];if(child.key){keys[child.key]=i}else{free.push(i)}}return{keys:keys,free:free}}function appendPatch(apply,patch){if(apply){if(isArray(apply)){apply.push(patch)}else{apply=[apply,patch]}return apply}else{return patch}}},{"../vnode/handle-thunk":16,"../vnode/is-thunk":17,"../vnode/is-vnode":19,"../vnode/is-vtext":20,"../vnode/is-widget":21,"../vnode/vpatch":24,"./diff-props":26,"x-is-array":28}],28:[function(require,module,exports){var nativeIsArray=Array.isArray;var toString=Object.prototype.toString;module.exports=nativeIsArray||isArray;function isArray(obj){return toString.call(obj)==="[object Array]"}},{}]},{},[3]);